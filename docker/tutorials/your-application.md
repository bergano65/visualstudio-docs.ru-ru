---
title: Учебник по Docker. Часть 1. Сборка и запуск примера приложения Todo
description: Общие сведения о примере приложения Todo, которое выполняется в Node. js.
ms.date: 08/04/2020
author: nebuk89
ms.author: ghogen
manager: jillfra
ms.technology: vs-azure
ms.topic: conceptual
ms.workload:
- azure
ms.openlocfilehash: b8470c8d7708bc51916a6f57f5aa135c3267e355
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2020
ms.locfileid: "89176834"
---
# <a name="build-and-run-the-todo-sample-app"></a>Сборка и запуск примера приложения Todo

В оставшейся части этого руководства вы будете работать с простым диспетчером списка задач, который выполняется в Node. js. Если вы не знакомы с Node. js, не беспокойтесь! Реальное взаимодействие с JavaScript не требуется!

На этом этапе команда разработчиков довольно мала, и вы просто создаете приложение, чтобы доказать свое звание MVP. Вы хотите продемонстрировать, как он работает и что может делать без необходимости думать о том, как он будет работать для крупной группы, нескольких разработчиков и т. д.

![Снимок экрана диспетчера списка задач](media/todo-list-sample.png)

## <a name="get-the-app"></a>Получение приложения

Перед запуском приложения необходимо получить исходный код приложения на компьютере. Для реальных проектов обычно клонируется репозиторий. Но в этом учебнике вы создали ZIP-файл, содержащий приложение.

1. [Скачайте ZIP-файл](/assets/app.zip). Откройте ZIP-файл и извлеките его содержимое.

1. После извлечения используйте любой редактор кода, чтобы открыть проект. Если вам требуется редактор, можно использовать [Visual Studio Code](https://code.visualstudio.com/). Вы должны увидеть `package.json` и два подкаталога (`src` и `spec`).

    ![Снимок экрана Visual Studio Code, открытого с загруженным приложением](media/ide-screenshot.png)

## <a name="building-the-apps-container-image"></a>Создание образа контейнера приложения

Чтобы создать приложение, необходимо использовать `Dockerfile`. Dockerfile — это просто текстовый сценарий инструкций, который используется для создания образа контейнера. Если вы создали файлы Dockerfile ранее, в Dockerfile ниже может появиться несколько изъянов. Но не беспокойтесь! Мы исправим их.

1. Создайте файл с именем `Dockerfile` в той же папке, где находится файл `package.json` со следующим содержимым.

    ```dockerfile
    FROM node:12-alpine
    WORKDIR /app
    COPY . .
    RUN yarn install --production
    CMD ["node", "/app/src/index.js"]
    ```

    Убедитесь, что файл `Dockerfile` не имеет расширения файла, например `.txt`. Некоторые редакторы могут добавлять это расширение файла автоматически, что приведет к ошибке на следующем шаге.

1. Если вы еще не сделали этого, откройте терминал и перейдите в каталог `app` с помощью `Dockerfile`. Теперь создайте образ контейнера с помощью команды `docker build`.

    ```bash
    docker build -t getting-started .
    ```

    Эта команда использовала Dockerfile для создания нового образа контейнера. Возможно, вы заметили, что загружено много уровней. Это связано с тем, что вы указали построителю, что хотели бы начать с образа `node:12-alpine`. Но, так как у вас нет этого компьютера, необходимо скачать этот образ.

    После загрузки образа вы скопировали в свое приложение и использовали `yarn` для установки зависимостей приложения. Директива `CMD` указывает команду по умолчанию, которую необходимо выполнить при запуске контейнера из этого образа.

    Наконец, флаг `-t` помечает образ. Представьте себе, что это просто удобное для восприятия имя конечного образа. Так как вы назвали образ `getting-started`, вы можете ссылаться на этот образ при запуске контейнера.

    `.` в конце команды `docker build` указывает, что Docker должен искать `Dockerfile` в текущем каталоге.

## <a name="starting-an-app-container"></a>Запуск контейнера приложения

Теперь, когда у вас есть образ, запустите приложение. Для этого используйте команду `docker run` (вспомнили?).

1. Запустите контейнер с помощью команды `docker run` и укажите имя образа, который вы только что создали:

    ```bash
    docker run -dp 3000:3000 getting-started
    ```

    Помните флаги `-d` и `-p`? Вы запускаете новый контейнер в "отключенном" (фоновом) режиме и создаете сопоставление между портом 3000 узла и портом 3000 контейнера. Без сопоставления портов вы не сможете получить доступ к приложению.

1. Через несколько секунд откройте [http://localhost:3000](http://localhost:3000) в браузере.
    Вы должны увидеть приложение!

    ![Пустой список дел](media/todo-list-empty.png)

1. Добавьте элемент или два, чтобы увидеть, что он работает, как ожидалось. Элементы можно пометить как завершенные и удалить элементы. Внешний интерфейс успешно сохраняет элементы в серверной части. Просто и быстро, правда?

На этом этапе у вас должен быть работающий список задач с небольшими наборами элементов. Теперь сделаем несколько изменений и изучим управление контейнерами.

Если взглянуть на расширение VS Code, вы должны увидеть два контейнера, которые работают сейчас (это учебник и новый контейнер приложения).

![Расширение Docker с работающими контейнером учебника и контейнером приложений](media/vs-two-containers.png)

## <a name="recap"></a>Резюме

В этом разделе вы узнали о создании образа контейнера и Dockerfile. После создания образа вы запустили контейнер и увидели работающее приложение!

Далее предстоит внести изменения в приложение и узнать, как обновить работающее приложение с помощью нового образа. Кроме того, вы узнаете о некоторых других полезных командах.

## <a name="next-steps"></a>Дальнейшие действия

Продолжайте изучать учебник.

> [!div class="nextstepaction"]
> [Обновление приложения](update-your-app.md)