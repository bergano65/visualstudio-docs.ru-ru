---
title: 'Практическое: Укажите, какие файлы публикуются с помощью ClickOnce | Документация Майкрософт'
ms.custom: ''
ms.date: 11/04/2016
ms.technology: vs-ide-deployment
ms.topic: conceptual
f1_keywords:
- Microsoft.VisualStudio.Publish.BaseProvider.Dialog.File
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, file exclusion
- files, publishing via ClickOnce
ms.assetid: 579c134a-d50f-4e0c-8e05-2a4ff654896a
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: efe2e5ab9f2074c1706f14ac52f655921af4b9a2
ms.sourcegitcommit: 8ee7efb70a1bfebcb6dd9855b926a4ff043ecf35
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/17/2018
ms.locfileid: "39080468"
---
# <a name="how-to-specify-which-files-are-published-by-clickonce"></a>Практическое: Укажите, какие файлы публикуются с помощью ClickOnce
При публикации [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] вместе с приложением развертываются файлы приложений, отличных от кода в проекте. В некоторых случаях вы не хотите или нужно опубликовать определенные файлы, или может потребоваться установить определенные файлы, на основе условий. Visual Studio предоставляет возможности для исключения файлов, пометке файлов как файлов данных или необходимых компонентов и создании групп файлов для условной установки.  
  
 Файлы для [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложения осуществляется в **файлы приложения** окне доступен из **публикации** странице **конструктор проектов**.  
  
 Вначале имеется одна группа файлов с именем **(обязательно)**. Можно создать дополнительные группы файлов и назначить им файлы. Невозможно изменить **группа загрузки** для файлов, которые требуются для запуска приложения. Например, .exe или файлы приложения с пометкой файлы данных должны принадлежать **(обязательно)** группы.  
  
 Состояние публикации по умолчанию значение файла обозначен цифрой **(Авто)**. Например, .exe приложения находится в состоянии публикации **включить (Авто)** по умолчанию.  
  
 Файлы с **действие при построении** свойство значение **содержимого** обозначены как файлов приложения и будут помечены как включенные по умолчанию. Они могут быть включены, исключены и помеченные как файлы данных. Исключениями являются следующим образом:  
  
-   Файлы данных, таких как базы данных SQL (*.mdf* и *.mdb*) и XML-файлы будут помечены как файлов данных по умолчанию.  
  
-   Ссылки на сборки (*.dll* файлы) определяются следующим образом, при добавлении ссылки: Если **Копировать локально** — **False**, он помечен как по умолчанию в качестве необходимого компонента сборки (**необходимый компонент (Авто)**), должны присутствовать в глобальном кэше СБОРОК перед установкой приложения. Если **Копировать локально** — **True**, сборка помечена по умолчанию, как сборка приложения (**включить (Авто)**) и копируется в папку приложения во время установки. Ссылка COM будет отображаться в **файлы приложения** диалоговое окно (как *.ocx* файл) только если его **Isolated** свойству **True**. По умолчанию оно будет включено.  
  
### <a name="to-add-files-to-the-application-files-dialog-box"></a>Добавление файлов в диалоговом окне файлы приложения  
  
1.  Выберите файл данных в **обозревателе решений**.  
  
2.  В окне «Свойства» измените **действие при построении** свойства **содержимого** значение.  
  
### <a name="to-exclude-files-from-clickonce-publishing"></a>Чтобы исключить файлы из публикации ClickOnce  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **файлы приложения** кнопку, чтобы открыть **файлы приложения** диалоговое окно.  
  
4.  В **файлы приложения** диалоговом окне выберите файл, который необходимо исключить.  
  
5.  В **состояние публикации** выберите **исключить** из раскрывающегося списка.  
  
### <a name="to-mark-files-as-data-files"></a>Пометка файлов как файлов данных  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **файлы приложения** кнопку, чтобы открыть **файлы приложения** диалоговое окно.  
  
4.  В **файлы приложения** диалоговом окне выберите файл, который нужно пометить как данные.  
  
5.  В **состояние публикации** выберите **файл данных** из раскрывающегося списка.  
  
### <a name="to-mark-files-as-prerequisites"></a>Чтобы пометить файлы в качестве необходимых компонентов  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **файлы приложения** кнопку, чтобы открыть **файлы приложения** диалоговое окно.  
  
4.  В **файлы приложения** диалоговое окно, выберите сборку приложения (*.dll* файл), которое должно быть помечено как необходимый компонент. Обратите внимание на то, что приложение должно иметь ссылку на сборку приложения, в порядке, чтобы он появился в списке.  
  
5.  В **состояние публикации** выберите **готовности к установке** из раскрывающегося списка.  
  
### <a name="to-add-a-new-file-group"></a>Чтобы добавить новую файловую группу  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **файлы приложения** кнопку, чтобы открыть **файлы приложения** диалоговое окно.  
  
4.  В **файлы приложения** выберите **группы** поле для файла, который вы хотите включить в новую группу.  
  
    > [!NOTE]
    >  Файлы должны иметь **действие при построении** свойство значение **содержимого** до появления имена файлов в **файлы приложения** диалоговое окно.  
  
5.  В **группа загрузки** выберите  **\<создать... >** из раскрывающегося списка.  
  
6.  В **новая группа** диалоговом окне введите имя для группы и нажмите кнопку **ОК**.  
  
### <a name="to-add-a-file-to-a-group"></a>Чтобы добавить файл в группу  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Нажмите кнопку **публикации** вкладки.  
  
3.  Нажмите кнопку **файлы приложения** кнопку, чтобы открыть **файлы приложения** диалоговое окно.  
  
4.  В **файлы приложения** выберите **группы** поле для файла, который вы хотите включить в новую группу.  
  
5.  В **группа загрузки** выберите группу из раскрывающегося списка.  
  
    > [!NOTE]
    >  Невозможно изменить **группа загрузки** для файлов, которые требуются для запуска приложения.  
  
## <a name="see-also"></a>См. также  
 [Публикация приложений ClickOnce](../deployment/publishing-clickonce-applications.md)   
 [Практическое: публикация приложения ClickOnce с помощью мастера публикации](../deployment/how-to-publish-a-clickonce-application-using-the-publish-wizard.md)