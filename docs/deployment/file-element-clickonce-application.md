---
title: '&lt;файл&gt; элемент (приложение ClickOnce) | Документация Майкрософт'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- http://www.w3.org/2000/09/xmldsig#Transform
- urn:schemas-microsoft-com:asm.v2#file
- http://www.w3.org/2000/09/xmldsig#DigestValue
- http://www.w3.org/2000/09/xmldsig#DigestMethod
- http://www.w3.org/2000/09/xmldsig#Transforms
- urn:schemas-microsoft-com:asm.v2#hash
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- <file> element [ClickOnce application manifest]
- manifests [ClickOnce], file element
ms.assetid: 56e3490c-eed5-4841-b1bf-eefe778b6ac9
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: c16c2cb00bf91d3fc0d991be71ba9b387d5a09cb
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: MTE95
ms.contentlocale: ru-RU
ms.lasthandoff: 01/02/2019
ms.locfileid: "53828307"
---
# <a name="ltfilegt-element-clickonce-application"></a>&lt;файл&gt; элемент (приложение ClickOnce)
Определяет все не являющиеся сборками файлы загружены и используемые приложением.  

## <a name="syntax"></a>Синтаксис  

```xml  
<file  
    name  
    size  
    group  
    optional  
    writeableType  
>  
    <typelib  
        tlbid  
        version  
        helpdir  
        resourceid  
        flags  
    />  
    <comClass  
        clsid  
        description  
        threadingModel  
        tlbid  
        progid  
        miscStatus  
        miscStatusIcon  
        miscStatusContent  
        miscStatusDocPrint  
        miscStatusThumbnail  
    />  
    <comInterfaceExternalProxyStub  
        iid  
        baseInterface  
        numMethods  
        name  
        tlbid  
        proxyStubClass32  
    />  
    <comInterfaceProxyStub  
        iid  
        baseInterface  
        numMethods  
        name  
        tlbid  
        proxyStubClass32  
    />  
    <windowClass  
        versioned  
    />  
</file>  
```  

## <a name="elements-and-attributes"></a>Элементы и атрибуты  
 Элемент `file` является необязательным. Элемент имеет перечисленные ниже атрибуты.  

|Атрибут|Описание|  
|---------------|-----------------|  
|`name`|Обязательный. Определяет имя файла.|  
|`size`|Обязательный. Размер в байтах файла.|  
|`group`|Optional, если `optional` атрибут не указан или не задано `false`; обязателен, если `optional` является `true`. Имя группы, к которой принадлежит этот файл. Имя может быть любым строковым значением Юникод, выбранной им и используется для загрузки файлов по требованию с <xref:System.Deployment.Application.ApplicationDeployment> класса.|  
|`optional`|Необязательный параметр. Указывает ли этот файл необходимо запустить загрузки при первом приложения или ли файл должен находиться только на сервере пока приложение запрашивает его по запросу. Если `false` или не определен, файл загружается при первом запуске или установить приложение. Если `true`, `group` должен быть указан для манифеста приложения был допустимым. `optional` не может быть значение true, если `writeableType` указан со значением `applicationData`.|  
|`writeableType`|Необязательный параметр. Указывает, что этот файл является файлом данных. В настоящее время единственным допустимым значением является `applicationData`.|  

## <a name="typelib"></a>библиотеки типов  
 `typelib` Элемент является необязательным и дочерним для элемента file. Элемент описывает библиотеку типов, к которой принадлежит COM-компонента. Элемент имеет перечисленные ниже атрибуты.  

|Атрибут|Описание|  
|---------------|-----------------|  
|`tlbid`|Обязательный. Идентификатор GUID, назначенный библиотеке типов.|  
|`version`|Обязательный. Номер версии библиотеки типов.|  
|`helpdir`|Обязательный. Каталог, содержащий файлы справки для компонента. Может быть нулевой длины.|  
|`resourceid`|Необязательный параметр. Шестнадцатеричное строковое представление идентификатора языкового стандарта (LCID). Это от одной до четырех шестнадцатеричных цифр без префикса 0 x и без предшествующих нулей. Код языка может иметь независимый идентификатор.|  
|`flags`|Необязательный параметр. Строковое представление флагов библиотеки типов для этой библиотеки типов. В частности он должен быть одним из «RESTRICTED», «CONTROL», «HIDDEN» и «HASDISKIMAGE».|  

## <a name="comclass"></a>comClass  
 `comClass` Элемент является необязательным и дочерним для `file` элемент, но является обязательным, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он планирует развертывание с помощью объектов COM без регистрации Элемент имеет перечисленные ниже атрибуты.  

|Атрибут|Описание|  
|---------------|-----------------|  
|`clsid`|Обязательный. Идентификатор класса COM-компонента в форме GUID.|  
|`description`|Необязательный параметр. Имя класса.|  
|`threadingModel`|Необязательный параметр. Модели потоков, используемых в процессе COM-классов. Если это свойство имеет значение null, используется потоковая модель. Компонент создается в основном потоке клиента и вызовы из других потоков маршалируются в этот поток. Ниже перечислены допустимые значения:<br /><br /> `Apartment`, `Free`, `Both`и `Neutral`.|  
|`tlbid`|Необязательный параметр. Идентификатор GUID для библиотеки типов для этого COM-компонента.|  
|`progid`|Необязательный параметр. Зависимые от версии программный идентификатор, связанный с COM-компонента. Формат `ProgID` является `<vendor>.<component>.<version>`.|  
|`miscStatus`|Необязательный параметр. Повторяющиеся значения в сборке манифеста сведения, предоставляемые `MiscStatus` раздел реестра. Если значения для `miscStatusIcon`, `miscStatusContent`, `miscStatusDocprint`, или `miscStatusThumbnail` атрибуты не найдены, соответствующее значение по умолчанию в списке в `miscStatus` используется для отсутствующих атрибутов. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класса — это класс, OCX, который требует `MiscStatus` значения разделов реестра.|  
|`miscStatusIcon`|Необязательный параметр. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_ICON. Он представляет значок объекта. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класса — это класс, OCX, который требует `Miscstatus` значения разделов реестра.|  
|`miscStatusContent`|Необязательный параметр. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_CONTENT. Может предоставлять составные документы, выводимые на экран или принтер. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класса — это класс, OCX, который требует `MiscStatus` значения разделов реестра.|  
|`miscStatusDocPrint`|Необязательный параметр. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_DOCPRINT. Он может предоставлять представляет отображение объекта на экране, как при печати на принтере. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класса — это класс, OCX, который требует `MiscStatus` значения разделов реестра.|  
|`miscStatusThumbnail`|Необязательный параметр. Повторяющиеся значения в сборке манифеста сведения, предоставляемые DVASPECT_THUMBNAIL. Он может предоставлять эскизы объектов, отображаемые в средствах просмотра. Значение может быть разделенный запятыми список значений атрибутов из следующей таблицы. Этот атрибут можно использовать, если COM-класса — это класс, OCX, который требует `MiscStatus` значения разделов реестра.|  

## <a name="cominterfaceexternalproxystub"></a>comInterfaceExternalProxyStub  
 `comInterfaceExternalProxyStub` Элемент является необязательным и дочерним для `file` элемент, но может потребоваться, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он планирует развертывание с помощью объектов COM без регистрации Элемент содержит следующие атрибуты.  

|Атрибут|Описание|  
|---------------|-----------------|  
|`iid`|Обязательный. Интерфейс IID интерфейса, который обслуживается этот прокси-сервер. Идентификатор IID должен иметь скобкам, окружающим его.|  
|`baseInterface`|Необязательный параметр. IID интерфейса, из которого ссылается интерфейс `iid` является производным.|  
|`numMethods`|Необязательный параметр. Число методов, реализованных в интерфейсе.|  
|`name`|Необязательный параметр. Имя интерфейса, так как он будет отображаться в коде.|  
|`tlbid`|Необязательный параметр. Библиотеки типов, содержащее описание интерфейса, заданного параметром `iid` атрибута.|  
|`proxyStubClass32`|Необязательный параметр. Сопоставляет IID CLSID в 32-разрядных библиотек DLL, прокси-сервера.|  

## <a name="cominterfaceproxystub"></a>comInterfaceProxyStub  
 `comInterfaceProxyStub` Элемент является необязательным и дочерним для `file` элемент, но может потребоваться, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он планирует развертывание с помощью объектов COM без регистрации Элемент содержит следующие атрибуты.  

|Атрибут|Описание|  
|---------------|-----------------|  
|`iid`|Обязательный. Интерфейс IID интерфейса, который обслуживается этот прокси-сервер. Идентификатор IID должен иметь скобкам, окружающим его.|  
|`baseInterface`|Необязательный параметр. IID интерфейса, из которого ссылается интерфейс `iid` является производным.|  
|`numMethods`|Необязательный параметр. Число методов, реализованных в интерфейсе.|  
|`Name`|Необязательный параметр. Имя интерфейса, так как он будет отображаться в коде.|  
|`Tlbid`|Необязательный параметр. Библиотеки типов, содержащее описание интерфейса, заданного параметром `iid` атрибута.|  
|`proxyStubClass32`|Необязательный параметр. Сопоставляет IID CLSID в 32-разрядных библиотек DLL, прокси-сервера.|  
|`threadingModel`|Необязательный параметр. Необязательный параметр. Модели потоков, используемых в процессе COM-классов. Если это свойство имеет значение null, используется потоковая модель. Компонент создается в основном потоке клиента и вызовы из других потоков маршалируются в этот поток. Ниже перечислены допустимые значения:<br /><br /> `Apartment`, `Free`, `Both`и `Neutral`.|  

## <a name="windowclass"></a>windowClass  
 `windowClass` Элемент является необязательным и дочерним для `file` элемент, но может потребоваться, если [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] приложение содержит компонент COM, он планирует развертывание с помощью объектов COM без регистрации Элемент ссылается на класс окна, заданного компонентом COM, необходимо установить версию, примененных к нему. Элемент содержит следующие атрибуты.  

|Атрибут|Описание|  
|---------------|-----------------|  
|`versioned`|Необязательный параметр. Элементы управления ли внутреннее имя класса, используемое при регистрации содержит версию сборки, которая содержит класс окна. Значение этого атрибута может быть `yes` или `no`. Значение по умолчанию — `yes`. Значение `no` следует использовать, только если один класс определяется компонент side-by-side и эквивалентные компонент не side-by-side и вам требуется рассматривать их как один класс. Обратите внимание, что применяются обычные правила регистрации класса окна — только первый компонент, который регистрирует класс окна будут иметь возможность его регистрации, так как он имеет версию, примененных к нему.|  

## <a name="hash"></a>hash  
 `hash` Элемент является необязательного дочернего элемента `file` элемент. У элемента `hash` нет атрибутов.  

 [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] использует алгоритма хэш всех файлов в приложении в качестве проверки безопасности, чтобы убедиться, что ни один из файлов был изменен после развертывания. Если `hash` элемент не включен, эта проверка не выполняется. Таким образом, пропуск `hash` элемента не рекомендуется.  

 Если манифест содержит файл, который не хэшируется, то этот манифест не может быть цифровой подписью, поскольку пользователи не могут проверить содержимое нехэшированного файла.  

## <a name="dsigtransforms"></a>DSIG:TRANSFORMS  
 `dsig:Transforms` Элемент является обязательным дочерним элементом `hash` элемент. У элемента `dsig:Transforms` нет атрибутов.  

## <a name="dsigtransform"></a>DSIG:Transform  
 `dsig:Transform` Элемент является обязательным дочерним элементом `dsig:Transforms` элемент. Элемент `dsig:Transform` имеет перечисленные ниже атрибуты.  


| Атрибут | Описание |
|-------------| - |
| `Algorithm` | Алгоритм, используемый для вычисления хэш-кода для этого файла. В настоящее время единственное значение, используемое [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] является `urn:schemas-microsoft-com:HashTransforms.Identity`. |

## <a name="dsigdigestmethod"></a>DSIG:DigestMethod  
 `dsig:DigestMethod` Элемент является обязательным дочерним элементом `hash` элемент. Элемент `dsig:DigestMethod` имеет перечисленные ниже атрибуты.  


| Атрибут | Описание |
|-------------| - |
| `Algorithm` | Алгоритм, используемый для вычисления хэш-кода для этого файла. В настоящее время единственное значение, используемое [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)] является `http://www.w3.org/2000/09/xmldsig#sha1`. |

## <a name="dsigdigestvalue"></a>DSIG:DigestValue  
 `dsig:DigestValue` Элемент является обязательным дочерним элементом `hash` элемент. У элемента `dsig:DigestValue` нет атрибутов. Его текстовое значение является хэшем для указанного файла.  

## <a name="remarks"></a>Примечания  
 Этот элемент определяет все не являющиеся сборками файлы, составляющие приложение, и, в частности, хэш-значения для проверки файла. Этот элемент может также включать данные изоляции модели объектов компонента (COM), связанные с файла. При изменении файла, файл манифеста приложения также должны обновляться в соответствии с изменениями.  

## <a name="example"></a>Пример  
 В следующем примере кода показано `file` элементы в приложении манифеста для приложения, развернутого с помощью [!INCLUDE[ndptecclick](../deployment/includes/ndptecclick_md.md)].  

```xml  
<file name="Icon.ico" size="9216">  
  <hash>  
    <dsig:Transforms>  
      <dsig:Transform Algorithm="urn:schemas-microsoft-com:HashTransforms.Identity" />  
    </dsig:Transforms>  
    <dsig:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" />  
    <dsig:DigestValue>lVoj+Rh6RQ/HPNLOdayQah5McrI=</dsig:DigestValue>  
  </hash>  
</file>  
```  

## <a name="see-also"></a>См. также  
 [Манифест приложения ClickOnce](../deployment/clickonce-application-manifest.md)