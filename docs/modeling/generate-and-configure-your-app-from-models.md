---
title: Создание и настройка приложения на основе моделей
description: Узнайте, что представляет собой модель и как можно создавать или настраивать части приложения из модели.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
author: JoshuaPartlow
ms.author: joshuapa
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 9299880c2d06cf323351a234239bed71597072a4
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99902716"
---
# <a name="generate-and-configure-your-app-from-models"></a>Создание и настройка приложения на основе моделей
Вы можете создавать или настраивать части приложения на основе модели.

 Модель представляет требования более непосредственно, чем код. Выводя поведение приложения непосредственно из модели, можно реагировать на изменение требований намного быстрее и надежнее, чем путем обновления кода. Хотя для настройки такого вывода требуется проделать определенную начальную работу, эти затраты окупятся, если ожидаются изменения требований или планируется создание нескольких версий продукта.

## <a name="generating-the-code-of-your-application-from-a-model"></a>Создание кода приложения на основе модели
 Самый простой способ создания кода — это использование текстовых шаблонов. Вы можете создать код в том же решении Visual Studio, в котором вы сохраняете модель. Дополнительные сведения см. в разделе:

- [Создание кода во время разработки с помощью текстовых шаблонов T4](../modeling/design-time-code-generation-by-using-t4-text-templates.md)

- [Создание кода из доменного языка](../modeling/generating-code-from-a-domain-specific-language.md)

  Этот метод легко применять последовательно. Начните с приложения, которое работает только для определенного случая, и выберите несколько его частей, которые должны изменяться в соответствии с моделью. Переименуйте исходные файлы этих частей, чтобы они стали файлами текстовых шаблонов (TT). На этом этапе исходные файлы CS будут автоматически созданы из файлов шаблонов, поэтому приложение будет работать точно так же, как и до этого.

  Затем можно взять одну часть кода и заменить ее выражением текстового шаблона, которое считывает модель и создает данную часть исходного файла. По крайней мере одно значение модели должно создавать первоначальный исходный код, чтобы приложение можно было запустить снова и оно работало так же, как и раньше. После проверки различных значений модели можно перейти к следующему этапу и вставить выражения шаблона в другую часть кода.

  Такой последовательный метод означает, что создание кода обычно является подходом с низким уровнем риска. Получающиеся приложения обычно работают почти так же хорошо, как и вручную написанная версия.

  Однако если начинать работу на основе существующего приложения, может оказаться, что для разделения различных поведений, управляемых моделью, требуется обширный рефакторинг, чтобы можно было изменять поведения независимо. Рекомендуется рассматривать этот аспект приложения при оценке стоимости проекта.

## <a name="configuring-your-application-from-a-model"></a>Настройка приложения на основе модели
 Если нужно изменять поведение приложения во время выполнения, невозможно использовать генерирование кода, при котором исходный код создается до компиляции приложения. Вместо этого можно разработать приложение для считывания модели и изменения его поведения соответствующим образом. Дополнительные сведения см. в разделе:

- [Практическое руководство. Открытие модели из файла в коде программы](../modeling/how-to-open-a-model-from-file-in-program-code.md)

  Этот метод также может применяться последовательно, но вначале нужно выполнить больший объем работы. Необходимо написать код, который будет считывать модель, и настроить структуру, обеспечивающую доступ к ее значениям для переменных частей. Создание универсальных переменных частей требует больших затрат, чем генерирование кода.

  Универсальное приложение обычно работает хуже, чем его специализированный аналог. Если производительность имеет критическое значение, план проекта должен включать в себя оценку этого риска.

## <a name="developing-a-derived-application"></a>Разработка производного приложения
 Приведенные ниже общие рекомендации могут оказаться полезными.

- **Начните с конкретного, а затем обобщение.** Сначала напишите конкретную версию приложения. Эта версия должна работать при одном наборе условий. Когда будет определено, что приложение работает правильно, часть его можно сделать производной от модели. Расширяйте производные части постепенно.

     Например, создайте веб-сайт с определенным набором веб-страниц перед созданием веб-приложения, представляющего страницы, определенные в модели.

- **Моделирование вариантов аспектов.** Определите аспекты, которые либо будут различаться в разных развертываниях, либо будут изменяться с течением времени по мере изменения требований. Эти аспекты должны определяться моделью.

     Например, если набор веб-страниц и связей между ними изменился, но стиль и формат страниц всегда одинаковы, то модель должна описывать ссылки, но не должна описывать формат страниц.

- **Отдельные проблемы.** Если переменные аспекты можно разделить на независимые области, используйте отдельные модели для каждой из них. С помощью ModelBus можно определить операции, влияющие как на модели, так и на их ограничения.

     Например, можно использовать одну модель для определения навигации между веб-страницами и другой моделью для определения макета страниц.

- **Моделируйте требование, а не решение.** Разработайте модель таким образом, чтобы она описывает требования пользователей. Не следует разрабатывать нотацию в соответствии с переменными аспектами реализации.

     Например, модель веб-навигации должна представлять веб-страницы и гиперссылки между ними. Модель веб-навигации не должна представлять фрагменты HTML или классов в приложении.

- **Создать или интерпретировать?** Если требования для конкретного развертывания будут изменяться редко, создайте код программы на основе модели. Если возможны частые изменения требований или в одном развертывании могут сосуществовать несколько вариантов, напишите приложение, способное считывать и интерпретировать модель.

     Например, при использовании модели веб-сайта для разработки ряда различных и отдельно устанавливаемых веб-сайтов необходимо создать код сайта из модели. Но модель используется для управления веб-сайтом, который изменяется каждый день, поэтому лучше написать веб-сервер, считывающий модель и соответствующим образом соответствующий узлу.

- **UML или DSL?** Рассмотрите возможность создания нотации моделирования с использованием стереотипов для расширения UML. Определите модель DSL при отсутствии схемы UML, удовлетворяющей конкретной цели. Однако избегайте нарушения стандартной семантики языка UML.

     Например, схема классов UML представляет собой набор прямоугольников и стрелок. Теоретически с помощью этой нотации можно определить все что угодно. Однако схему классов рекомендуется использовать только в том случае, если вы действительно описываете набор типов. Например, можно адаптировать схемы классов для описания различных типов веб-страниц.

## <a name="see-also"></a>См. также раздел

- [Создание кода из доменного языка](../modeling/generating-code-from-a-domain-specific-language.md)
- [Практическое руководство. Открытие модели из файла в коде программы](../modeling/how-to-open-a-model-from-file-in-program-code.md)
- [Создание кода во время разработки с помощью текстовых шаблонов T4](../modeling/design-time-code-generation-by-using-t4-text-templates.md)
