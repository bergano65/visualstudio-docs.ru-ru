---
title: Создание и настройка приложения на основе моделей
ms.date: 11/04/2016
ms.topic: conceptual
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.prod: visual-studio-dev15
ms.openlocfilehash: f542a6b1836c49838884371818058bda4f37b279
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/02/2019
ms.locfileid: "53841616"
---
# <a name="generate-and-configure-your-app-from-models"></a>Создание и настройка приложения на основе моделей
Вы можете создавать или настраивать части приложения на основе модели.

 Модель представляет требования более непосредственно, чем код. Выводя поведение приложения непосредственно из модели, можно реагировать на изменение требований намного быстрее и надежнее, чем путем обновления кода. Хотя для настройки такого вывода требуется проделать определенную начальную работу, эти затраты окупятся, если ожидаются изменения требований или планируется создание нескольких версий продукта.

## <a name="generating-the-code-of-your-application-from-a-model"></a>Создание кода приложения на основе модели
 Самый простой способ создания кода — это использование текстовых шаблонов. При создании кода, в том же решении Visual Studio, в которой можно хранить в модели. Дополнительные сведения:

- [Создание кода во время разработки с помощью текстовых шаблонов T4](../modeling/design-time-code-generation-by-using-t4-text-templates.md)

- [Создание кода из доменного языка](../modeling/generating-code-from-a-domain-specific-language.md)

  Этот метод легко применять последовательно. Начните с приложения, которое работает только для определенного случая, и выберите несколько его частей, которые должны изменяться в соответствии с моделью. Переименуйте исходные файлы этих частей, чтобы они стали файлами текстовых шаблонов (TT). На этом этапе исходные файлы CS будут автоматически созданы из файлов шаблонов, поэтому приложение будет работать точно так же, как и до этого.

  Затем можно взять одну часть кода и заменить ее выражением текстового шаблона, которое считывает модель и создает данную часть исходного файла. По крайней мере одно значение модели должно создавать первоначальный исходный код, чтобы приложение можно было запустить снова и оно работало так же, как и раньше. После проверки различных значений модели можно перейти к следующему этапу и вставить выражения шаблона в другую часть кода.

  Такой последовательный метод означает, что создание кода обычно является подходом с низким уровнем риска. Получающиеся приложения обычно работают почти так же хорошо, как и вручную написанная версия.

  Однако если начинать работу на основе существующего приложения, может оказаться, что для разделения различных поведений, управляемых моделью, требуется обширный рефакторинг, чтобы можно было изменять поведения независимо. Рекомендуется рассматривать этот аспект приложения при оценке стоимости проекта.

## <a name="configuring-your-application-from-a-model"></a>Настройка приложения на основе модели
 Если нужно изменять поведение приложения во время выполнения, невозможно использовать генерирование кода, при котором исходный код создается до компиляции приложения. Вместо этого можно разработать приложение для чтения модели и соответственно изменяло свое поведение. Дополнительные сведения:

- [Практическое руководство. Открытие модели из файла в коде программы](../modeling/how-to-open-a-model-from-file-in-program-code.md)

  Этот метод также может применяться последовательно, но вначале нужно выполнить больший объем работы. Необходимо написать код, который будет считывать модель, и настроить структуру, обеспечивающую доступ к ее значениям для переменных частей. Создание универсальных переменных частей требует больших затрат, чем генерирование кода.

  Универсальное приложение обычно работает хуже, чем его специализированный аналог. Если производительность имеет критическое значение, план проекта должен включать в себя оценку этого риска.

## <a name="developing-a-derived-application"></a>Разработка производного приложения
 Приведенные ниже общие рекомендации могут оказаться полезными.

-   **Начинайте с конкретного, потом обобщайте.** Сначала напишите конкретную версию приложения. Эта версия должна работать при одном наборе условий. Когда будет определено, что приложение работает правильно, часть его можно сделать производной от модели. Расширяйте производные части постепенно.

     Например создайте веб-сайт, имеющий определенный набор веб-страниц, до начала разработки веб-приложения, в которой представлены страницы, которые определены в модели.

-   **Создайте модель переменных аспектов.** Определите аспекты, которые либо будут различаться в разных развертываниях, либо будут изменяться с течением времени по мере изменения требований. Эти аспекты должны определяться моделью.

     Например если набор веб-страниц и связи между ними изменяются, но стиль и формат этих страниц остается неизменным, а затем модель должна описывать связи, но обязана описывать формат этих страниц.

-   **Разделите области ответственности.** Если переменные аспекты можно разделить на независимые области, используйте отдельные модели для каждой из них. С помощью ModelBus можно определить операции, влияющие как на модели, так и на их ограничения.

     Например используйте одну модель для определения перехода между веб-страницах и другую модель для определения макета страниц.

-   **Моделируйте требование, а не решение.** Разработать модель таким образом, чтобы она описывала требования пользователя. Не следует разрабатывать нотацию в соответствии с переменными аспектами реализации.

     Например модель веб-навигации должна представлять веб-страницы и гиперссылки между ними. Модель веб-навигации не должна представлять фрагменты кода HTML или классы в приложении.

-   **Генерирование или Интерпретация?** Если требования для конкретного развертывания будут изменяться редко, создайте код программы на основе модели. Если возможны частые изменения требований или в одном развертывании могут сосуществовать несколько вариантов, напишите приложение, способное считывать и интерпретировать модель.

     Например если модель веб-сайта используется для разработки ряда различных и отдельно устанавливаемых веб-сайты, следует создавать код сайта из модели. Но он модель используется для управления сайтом, который меняется каждый день, то лучше написать веб-сервер, считывающий модель и соответствующим образом представляющий сайт.

-   **Схему UML или DSL?** Рассмотрите возможность создания нотации моделирования с использованием стереотипов для расширения UML. Определите модель DSL при отсутствии схемы UML, удовлетворяющей конкретной цели. Однако избегайте нарушения стандартной семантики языка UML.

     Например, схема классов UML представляет собой набор прямоугольников и стрелок. Теоретически с помощью этой нотации можно определить все что угодно. Однако схему классов рекомендуется использовать только в том случае, если вы действительно описываете набор типов. Например можно адаптировать схемы классов для описания различных типов веб-страниц.

## <a name="see-also"></a>См. также

- [Создание кода из доменного языка](../modeling/generating-code-from-a-domain-specific-language.md)
- [Практическое руководство. Открытие модели из файла в коде программы](../modeling/how-to-open-a-model-from-file-in-program-code.md)
- [Создание кода во время разработки с помощью текстовых шаблонов T4](../modeling/design-time-code-generation-by-using-t4-text-templates.md)