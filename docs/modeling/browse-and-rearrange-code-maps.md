---
title: Просмотр и реорганизация карт кода
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
author: JoshuaPartlow
ms.author: joshuapa
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 8e38308c5bb94028fa17e78740da2b0df2779447
ms.sourcegitcommit: 3154387056160bf4c36ac8717a7fdc0cd9faf3f9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78409484"
---
# <a name="browse-and-rearrange-code-maps"></a>Просмотр и реорганизация карт кода

Вы можете изменять расположение элементов на картах кода, чтобы упростить их чтение и повысить производительность.

Карты кода можно настраивать, не затрагивая базовый код решения. Это полезно, когда нужно сосредоточить внимание на ключевых элементах кода или сообщить сведения о нем. Например, чтобы выделить требуемые области, можно выбрать элементы кода на карте и отфильтровать их, изменить стиль элементов кода и связей, скрыть или удалить элементы кода, а также упорядочить элементы кода по свойствам, категориям или группам.

 **Требования**

- Для создания карт кода требуется Visual Studio Enterprise.

- В Visual Studio Professional можно просматривать карты кода и вносить в них ограниченные изменения.

## <a name="ManageLargeGraphs"></a>Приступая к работе с картами кода

Создайте карту кода (Дополнительные сведения см. в статье о [зависимостях в решениях](../modeling/map-dependencies-across-your-solutions.md) ). Если вы не хотите ждать завершения создания карт, щелкните ссылку **Отмена** в любое время, чтобы остановить процесс создания. Однако в этом случае вы получите неполную информацию о зависимостях и связях.

После создания карты воспользуйтесь приведенными ниже советами по анализу кода.

- Обратите внимание на естественные кластеры зависимостей в коде. На панели инструментов Map нажмите кнопку **Макет**, **быстрые кластеры**![быстрые кластеры на панели инструментов диаграммы](../modeling/media/quickclustersicon.gif). См. раздел [изменение макета схемы](#Selecting).

     ![Структура быстрых кластеров графа &#45; зависимостей](../modeling/media/dependencygraph_quickclusters.png)

- Разбейте карту на меньшие области путем группировки связанных узлов. Эти группы можно свернуть для просмотра только зависимостей между группами, которые появляются автоматически. См. раздел [группы узлов](#OrganizeGroups).

- Используйте фильтры, чтобы упростить карту и сосредоточиться на интересующих вас типах узлов или связей. См. раздел [Фильтрация узлов и ссылок](#FilterNodes).

- Повысьте производительность крупных карт. Дополнительные сведения см. в статье [зависимости карт в решениях](../modeling/map-dependencies-across-your-solutions.md) . Например, включите **пропуск сборки** на панели инструментов Map, чтобы Visual Studio не перестроить решение при обновлении элементов на карте.

## <a name="Selecting"></a>Изменение макета карт

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Расположение потока зависимостей на всей карте в определенном направлении. Это помогает увидеть архитектурные уровни в коде.|На панели инструментов Map выберите **Макет**, а затем:<br /><br /> Кнопка -   **сверху вниз** ![сверху вниз](../modeling/media/topbottomgraphbutton.gif)<br />Кнопка " **снизу к верхнему** ![у" -   "снизу к верхнему"](../modeling/media/bottomtopgraphbutton.gif)<br />-   **слева направо** ![кнопку макета слева направо](../modeling/media/leftrightgraphbutton.gif)<br />Кнопка графа -   **справа налево** ![справа налево](../modeling/media/rightleftgraphbutton.gif)|
|Просмотр естественных кластеров зависимостей в коде: наиболее зависимые узлы находятся в центре кластеров, а наименее зависимые — возле внешней части кластеров.|На панели инструментов Map выберите **Макет**, а затем **быстрые кластеры**![кнопки быстрые кластеры на панели инструментов графа](../modeling/media/quickclustersicon.gif).|
|Выделение одного или нескольких узлов на карте.|Чтобы выделить узел, щелкните его. Чтобы выбрать несколько узлов или отменить их выбор, удерживайте нажатой **клавишу CTRL** при щелчке.<br /><br /> Клавиатура: нажмите клавишу **Tab** или клавиши со стрелками, чтобы переместить прямоугольник фокуса с точками на узел и нажать **пробел** , чтобы выбрать его. Нажмите клавиши **CTRL** + **место** , чтобы выбрать несколько узлов или отменить их выбор.|
|Перемещение определенных узлов по карте.|Чтобы переместить узлы, перетащите их. Чтобы переместить другие узлы и ссылки из способа перетаскивания узлов, нажмите и удерживайте клавишу **SHIFT** .<br /><br /> Клавиатура: удерживайте клавишу **CTRL** и нажимайте клавиши со стрелками.|
|Изменение структуры внутри группы независимо от других узлов и групп на карте.|Выделите узел и откройте контекстное меню. Выберите **Макет** и выберите стиль макета.<br /><br /> — или —<br /><br /> Выделите узел и разверните его, чтобы отобразить дочерние узлы. Щелкните заголовок узла, чтобы отобразить всплывающую панель инструментов группы, и откройте окно **изменения стиля макета группы**![группа граф &#45; зависимостей панель инструментов &#45;](../modeling/media/dependencygraph_grouptoolbar.gif) списка. Выберите один из макетов дерева, **быстрые кластеры**или **представление списка** (при этом содержимое группы упорядочивается по списку).<br /><br /> Дополнительные сведения см. в разделе [узлы группы](#OrganizeGroups) .|
|Отмена действия на карте.|Нажмите клавиши **CTRL** + **Z** или используйте команду **Undo** Visual Studio.|

## <a name="Explore"></a>Просмотр схемы

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Просмотр карты.|Перетащите карту мышью в любом направлении.<br /><br /> — или —<br /><br /> Удерживайте клавишу **SHIFT** и поверните колесико мыши для горизонтальной прокрутки. Удерживайте нажатой клавишу **SHIFT** + **CTRL** и вращайте колесико мыши для горизонтальной прокрутки.|
|Увеличение или уменьшение карты.|Вращайте колесико мыши.<br /><br /> — или —<br /><br /> Используйте раскрывающийся список **масштаб** на панели инструментов карту кода.<br /><br /> — или —<br /><br /> Используйте сочетания клавиш. Чтобы увеличить масштаб, нажмите клавиши **CTRL + SHIFT +.** (точка). Чтобы уменьшить масштаб, нажмите клавиши **CTRL + SHIFT +,** (запятая).|
|Увеличение определенной области с помощью мыши.|Удерживая нажатой правую кнопку мыши, обведите прямоугольником нужную область.|
|Изменение размера карты под размер ее окна.|Выберите **масштаб в соответствии** со списком **масштаб** на панели инструментов схемы кода.<br /><br /> — или —<br /><br /> Щелкните значок «по размеру» ![значок **«** масштаб» на панели инструментов «map»](../modeling/media/almcodemapzoomicon.png) на панели инструментов «схема кода». Клавиатура: нажмите клавиши **CTRL + 0** (ноль).|
|Поиск узла на карте по его имени. **Совет.**  Это работает только для элементов на карте. Чтобы найти элементы в решении, но не на карте, найдите их в **Обозреватель решений**и перетащите их на карту. (Перетащите выделенный фрагмент или на панели инструментов **Обозреватель решений** щелкните **отобразить на карте кода**).|1. Выберите значок **поиска** ![найти значок на панели инструментов Map](../modeling/media/almcodemapfindicon.png) на панели инструментов "схема кода" (клавиатура: нажмите клавиши **CTRL + F**), чтобы отобразить поле поиска в правом верхнем углу на карте.<br />2. Введите имя элемента и нажмите клавишу « **return** » или щелкните значок «Экранная лупа». Первый элемент, соответствующий поисковому запросу, отображается на карте.<br />3. Чтобы настроить поиск, откройте раскрывающийся список и выберите параметр поиска. Параметры: **Найти далее**, **найти предыдущую**и **выбрать все**. Затем нажмите соответствующую кнопку рядом с текстовым полем поиска.<br />     раскрывающийся&#45;список параметров поиска ![](../modeling/media/almcodemapssearchdropdown.png)<br />     Можно также использовать клавиатуру: нажмите клавишу **F3** , чтобы выбрать следующий соответствующий узел, или **SHIFT + F3** , чтобы выбрать предыдущий соответствующий узел.<br />4. Выберите один из параметров, определяющих способ обработки условий поиска, щелкнув значки под текстовым полем Поиск.<br />     ![параметры соответствия поиска](../modeling/media/almcodemapssearchmatchicons.png)<br />     Возможные варианты: слева направо, с учетом регистра, слова целиком, использовать синтаксис регулярных выражений .NET, автоматически разворачивать группы для поиска совпадений в содержащихся в них элементах. **Важно.**  Поле поиска можно использовать для поиска совпадений в свернутых группах только в том случае, если эти группы были развернуты ранее. Чтобы найти эти совпадения и развернуть их родительские группы автоматически, выберите этот параметр под полем поиска.|
|Выбор всех невыбранных узлов.|Откройте контекстное меню выбранных узлов. Нажмите кнопку **выбрать**, **инвертировать выделение**.|
|Выбор дополнительных узлов, связанных с уже выбранными.|Откройте контекстное меню выбранных узлов. Выберите **выбрать** и один из следующих элементов:<br /><br /> — Чтобы выбрать дополнительные узлы, которые непосредственно связываются с выбранным узлом, выберите **Входящие зависимости**.<br />— Чтобы выбрать дополнительные узлы, которые связываются непосредственно с выбранным узлом, выберите **Исходящие зависимости**.<br />— Чтобы выбрать дополнительные узлы, которые напрямую связываются с выбранным узлом и из него, выберите **оба варианта**.<br />— Чтобы выбрать все узлы, которые связаны с выбранным узлом и из выбранного узла, выберите **подключенный**вложенный граф.<br />— Чтобы выбрать все дочерние элементы выбранного узла, выберите **дочерние элементы**.|

## <a name="FilterNodes"></a>Фильтрация узлов и ссылок

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Отображение или скрытие области "Фильтры".|Нажмите кнопку **фильтры** на панели инструментов схемы кода. По умолчанию панель « **фильтры** » отображается в виде страницы с вкладками в **Обозреватель решений**.|
|Фильтрация типов узлов, отображаемых на карте.|Установите или снимите флажки в списке **элементы кода** на панели фильтры.|
|Фильтрация типов связей, отображаемых на карте.|Установите или снимите флажки в списке **связи** на панели фильтры.|
|Отображение или скрытие узлов тестового проекта на карте.|Установка или снятие флажка " **ресурсы тестирования** " в списке **"Прочие"** на панели "фильтры".|

Значки на панели "Легенда" карты зависят от выбранных в списке пунктов. Чтобы показать или скрыть панель условных обозначений, нажмите кнопку **Условные обозначения** на панели инструментов "схема кода".

## <a name="Inspect"></a>Проверка узлов и ссылок

На картах кода приводятся следующие типы связей:

- отдельная связь представляет единичное отношение между двумя узлами;

- связь между группами представляет отношение между двумя узлами в разных группах;

- совокупная связь представляет все отношения в одном направлении между двумя группами.

> [!TIP]
> По умолчанию на карте показаны связи между группами только для выбранных узлов. Чтобы изменить это поведение для отображения или скрытия агрегированных ссылок между группами, нажмите кнопку **Макет** на панели инструментов "сопоставление кода" и выберите " **Дополнительно**", а затем " **Показать все связи между группами** " или " **Скрыть все связи между группами**". Дополнительные сведения см. в разделе [Скрытие или отображение узлов и ссылок](#HidingShowing) .

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Просмотр дополнительной информации об узле или связи.|Наведите указатель мыши на узел или связь, пока не появится подсказка.<br /><br /> В подсказке для совокупной связи перечисляются отдельные зависимости, которые она представляет.<br /><br /> — или —<br /><br /> Откройте контекстное меню узла или связи. Выберите **изменить**, **свойства**.|
|Отображение или скрытие содержимого группы.|— Чтобы развернуть группу, откройте контекстное меню для узла и выберите пункт **Группа**, **разверните узел**.<br />     — или —<br />     Наведите указатель мыши на узел, пока не появится кнопка шеврона (стрелка вниз). Нажмите эту кнопку, чтобы развернуть группу. Клавиатура: чтобы развернуть или свернуть выбранную группу, нажмите клавишу " **плюс** " ( **+** ) или **"минус"** ( **-** ).<br />— Чтобы свернуть группу, откройте контекстное меню для узла и выберите **Группа**, **Свернуть**.<br />     — или —<br />     Наведите указатель мыши на группу, пока не появится кнопка шеврона (стрелка вверх). Нажмите эту кнопку, чтобы свернуть группу.<br />— Чтобы развернуть все группы, нажмите клавиши **CTRL** + **A** , чтобы выбрать все узлы. Откройте контекстное меню для Map и выберите **Группа**, **разверните**. **Примечание.**      Эта команда недоступна, если расширение всех групп создает непригодные для использования проблемы с картой или памятью. Рекомендуется разворачивать карту только до необходимого уровня детализации.<br />— Чтобы свернуть все группы, откройте контекстное меню для узла или для этой схемы. Выберите **Группа**, **Свернуть все**.|
|Просмотр определения кода для пространства имен, типа или члена.|Откройте контекстное меню для узла и выберите **Перейти к определению**.<br /><br /> -или-<br /><br /> Дважды щелкните узел. Если группа развернута, дважды щелкните ее заголовок.<br /><br /> -или-<br /><br /> Выберите узел и нажмите клавишу **F12**.<br /><br /> Пример:<br /><br /> — Для пространства имен, содержащего один класс, файл кода для класса открывается для отображения определения этого класса. В других случаях в окне **Результаты поиска символов** отображается список файлов кода. **Примечание.**      При выполнении этой задачи в Visual Basic пространстве имен файл кода, лежащий под пространством имен, не открывается. Эта проблема также возникает при выполнении этой задачи для группы выбранных узлов, включающей Visual Basic пространство имен. Чтобы обойти эту проблему, вручную перейдите к файлу кода для пространства имен или исключите узел для пространства имен из числа выбранных.<br />— Для класса или разделяемого класса файл кода для этого класса открывается для отображения определения класса.<br />— Для метода открывается файл кода для родительского класса, в котором отображается определение метода.|
|Просмотр зависимостей и элементов, участвующих в совокупной связи.|Выберите интересующие вас ссылки и откройте контекстное меню для выбранного элемента. Выберите **Показывать ссылки для участников** или **Показывать ссылки на новую карту кода**.<br /><br /> Visual Studio разворачивает группы на обоих концах связи и отображает только те элементы и зависимости, которые участвуют в связи. **Примечание.**  При проверке зависимостей между элементами в частичных группах это поведение может выглядеть следующим образом: <ul><li>Ссылки на элементы, которые не участвуют в изходе исследования, исчезают из схемы, несмотря на то, что эти ссылки по-прежнему существуют.</li><li>Предположим, что вы просматриваете связь с элементом разделяемой группы, а затем просматриваете другую связь с этим же элементом. При втором просмотре в целевой разделяемой группе отображаются только элементы из первого просмотра. Ссылки и целевые элементы, которые не участвуют в первом проходе проверки, но участвующие во втором проходе проверки, не отображаются.</li></ul> Чтобы увидеть отсутствующие элементы из группы, выберите пункт повторно **извлечь дочерние** элементы![повторной выбор дочерних элементов](../modeling/media/dependencygraph_deletednodesicon.png) (что означает, что на карте отображаются не все элементы группы). Вы также можете попробовать отменить действия (клавишу **CTRL + Z**) и проверить зависимости на новом сопоставлении.|
|Изучение зависимостей между несколькими узлами из разных групп.|Разверните группы, чтобы можно было просмотреть все их дочерние элементы. Выделите все нужные узлы, включая их дочерние элементы. На карте показаны ссылки между группами для выбранных узлов.<br /><br /> Чтобы выбрать все узлы в группе, нажмите и удерживайте клавишу **SHIFT** и левую кнопку мыши во время рисования прямоугольника вокруг этой группы. Чтобы выбрать все узлы на карте, нажмите клавиши **CTRL**+**a**. **Совет.**  Чтобы отображать ссылки между группами в любое время, выберите **Макет** на панели инструментов Map, **Дополнительно**, чтобы **отобразить все связи между группами**.|
|Просмотр элементов, на которые ссылается узел или связь.|Откройте контекстное меню для узла и выберите пункт **найти все ссылки**. **Примечание.**  Это применимо только в том случае, если для узла или ссылки в DGML-файле Map задан атрибут `Reference`. Сведения о добавлении ссылок на элементы из узлов или ссылок см. в разделе [Настройка карт кода путем редактирования DGML файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).|

## <a name="HidingShowing"></a>Скрытие или отображение узлов и ссылок

Если скрыть узлы, они не будут участвовать в алгоритмах создания макета. По умолчанию связи между группами скрыты. Связи между группами представляют собой отдельные связи, которые соединяют узлы между группами. Если свернуть группы, все связи между группами на карте объединяются в единичные связи между группами. Если развернуть группу и выбрать в ней узлы, отобразятся связи между группами и зависимости в этой группе.

> [!CAUTION]
> Перед тем как предоставить общий доступ к карте, созданной в Visual Studio Enterprise, пользователям Visual Studio Professional, отобразите все скрытые узлы или связи между группами, которые требуется показать другим пользователям. В противном случае пользователи не увидят эти элементы.

### <a name="to-hide-or-show-nodes"></a>Скрытие и отображение узлов

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Скрытие выделенных узлов.|1. Выберите узлы, которые необходимо скрыть.<br />2. Откройте контекстное меню для выбранных узлов или для схемы. Выберите **выбрать**, **Скрыть выбранные**.|
|Скрытие невыделенных узлов.|1. Выберите узлы, которые должны быть видимыми.<br />2. Откройте контекстное меню для выбранных узлов или для схемы. Выберите **выбрать**, **Скрыть невыбранные**.|
|Отображение скрытых узлов.|— Чтобы отобразить все скрытые узлы в группе, сначала убедитесь, что группа развернута. Откройте контекстное меню и выберите команду **выбрать**, **отобразить дочерние элементы**.<br />     — или —<br />     Щелкните значок **Показать дочерние элементы**![раскрытия потомков](../modeling/media/dependencygraph_filtericon_hiddennodes.gif) значок в левом верхнем углу группы (отображается только при наличии скрытых дочерних узлов).<br />— Чтобы отобразить все скрытые узлы, откройте контекстное меню для Map или узла и выберите команду **выбрать**, **отобразить все**.|

### <a name="to-hide-or-show-links"></a>Скрытие и отображение связей

|**Чтобы**|**На панели инструментов Map выберите макет, дополнительно и нажмите кнопку**|
|-|-|
|Постоянное отображение связей между группами.|**Отображение всех связей между группами**. В результате будут скрыты все совокупные связи между группами.|
|Постоянное скрытие связей между группами.|**Скрыть все связи между группами**|
|Отображение связей между группами только для выбранных узлов.|**Отображение связей между группами на выбранных узлах**|
|Скрытие всех связей.|**Скрыть все ссылки**. Чтобы снова показать связи, выберите один из перечисленных выше пунктов.|

## <a name="OrganizeGroups"></a>Узлы группы

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Показ узлов контейнеров в виде узлов групп или листовых узлов.|Чтобы отобразить узлы контейнеров в качестве конечных узлов, выберите узлы, откройте контекстное меню для выбранного элемента и выберите **Группа**, **преобразовать в конечный**объект.<br /><br /> Чтобы отобразить узлы контейнеров в качестве узлов группы, выберите узлы, откройте контекстное меню для выбранного элемента и выберите **Группа**, **преобразовать в группу**.|
|Изменение макета внутри группы.|Выберите группу, откройте контекстное меню, выберите **Макет**и выберите нужный стиль макета.<br /><br /> — или —<br /><br /> 1. Выберите группу и убедитесь, что она развернута.<br />2. снова щелкните заголовок группы, и появится панель инструментов группы.<br />     панель инструментов группы &#45; диаграмм зависимостей ![](../modeling/media/dependencygraph_group.png)<br />3. Откройте окно **изменения стиля макета списка групп** ![макет панели инструментов &#45; &#45; группы диаграмм зависимостей](../modeling/media/dependencygraph_grouptoolbar.gif) и выберите нужный стиль макета.<br /><br /> В **представлении списка** элементы группы переупорядочиваются в список. **Graph по умолчанию** сбрасывает макет группы в макет схемы по умолчанию. Другие параметры см. [в разделе изменение макета карт](#Selecting).|
|Добавление узла в группу|Перетащите узел в группу.<br /><br /> При перетаскивании узла в Visual Studio отображается соответствующий индикатор.<br /><br /> Можно также перетаскивать узлы из группы.|
|Добавление узла в узел, не состоящий в группе.|Перетащите узел в целевой узел. Любой узел можно преобразовать в группу, добавив в него узлы.|
|Группирование выбранных узлов.|1. Выберите узлы, которые требуется сгруппировать. Над последним выбранным узлом появится всплывающая панель инструментов.<br />     ![панель инструментов диаграммы зависимостей](../modeling/media/depedencygraph_toolbar.png)<br />2. на панели инструментов выберите четвертую группу значков для **выбранных узлов** (если узел развернут, он будет содержать пять значков вместо четырех). Введите имя новой группы и нажмите клавишу **return**.<br />     — или —<br />     Выделите узлы, которые нужно сгруппировать, и откройте контекстное меню. Выберите **Группа**, **Добавить родительскую группу**, введите имя новой группы и нажмите клавишу **return**.<br /><br /> Группу можно переименовать. Откройте контекстное меню группы и выберите **изменить**, **свойства** , чтобы открыть окно свойств Visual Studio. В свойстве **Метка** переименуйте группу по мере необходимости.|
|Удаление групп.|Выберите группу или группы, которые требуется удалить. Откройте контекстное меню для выбранного фрагмента и выберите **Группа**, **Удалить группу**.|
|Удаление узлов из родительской группы.|Выберите узлы, которые требуется переместить. Откройте контекстное меню для выбранного фрагмента и выберите **Группа**, **удалить из родительского элемента**. При этом узлы перемещаются в прародительскую группу или за пределы группы, если прародительской группы нет.<br /><br /> — или —<br /><br /> Выделите узлы и перетащите их за пределы группы.|

## <a name="AddRemoveNodesLinks"></a>Добавление, удаление и переименование узлов, ссылок и комментариев

Чтобы детализировать данные на карте или упростить ее, можно отображать на карте больше или меньше элементов. Вы также можете переименовывать элементы и добавлять к ним комментарии.

> [!CAUTION]
> Перед тем как предоставить общий доступ к карте, созданной в Visual Studio Enterprise, пользователям Visual Studio Professional, отобразите все скрытые элементы кода, которые требуется показать другим пользователям. В противном случае эти пользователи не смогут извлечь удаленные элементы кода.

### <a name="add-a-node-for-a-code-element"></a>Добавление узла для элемента кода

|**Чтобы**|**Выполните следующие действия**|
|-|-|
|Добавление нового универсального узла в текущем положении указателя мыши.|1. Наведите указатель мыши на место на карте, куда нужно поместить новый элемент кода, и нажмите клавишу **INSERT**.<br />     — или —<br />     Откройте контекстное меню для схемы и выберите **изменить**, **Добавить**, **универсальный узел**.<br />2. Введите имя нового узла и нажмите клавишу **return**.|
|Добавление узла элемента кода определенного типа в текущем положении указателя мыши.|1. Наведите указатель мыши на место на карте, куда нужно поместить новый элемент кода, и откройте контекстное меню для этой схемы.<br />2. Выберите **изменить**, **Добавить**и выберите нужный тип узла.<br />3. Введите имя нового узла и нажмите клавишу **return**.|
|Добавление узла элемента кода универсального или определенного типа в группу.|1. Выберите узел группы и откройте контекстное меню.<br />2. Выберите **изменить**, **Добавить**и выберите нужный тип узла.<br />3. Введите имя нового узла и нажмите клавишу **return**.|
|Добавление нового узла, связанного с существующим узлом и имеющего тот же тип.|1. Выберите элемент Code. Над ним появится всплывающая панель инструментов.<br />     ![панель инструментов диаграммы зависимостей](../modeling/media/depedencygraph_toolbar.png)<br />2. на панели инструментов щелкните второй значок, чтобы **создать узел с той же категорией, что и этот узел, и добавить в него новую ссылку**.<br />3. Выберите место на карте, чтобы поместить новый элемент кода, и нажмите левую кнопку мыши.<br />4. Введите имя нового узла и нажмите клавишу **return**.|
|Добавление нового универсального узла, на который указывает ссылка из существующего элемента кода, имеющего фокус.|1. с помощью клавиатуры нажмите клавишу **Tab** , чтобы элемент кода, из которого нужно выполнить компоновку, не получил фокус (пунктирный прямоугольник).<br />2. Нажмите клавиши **Alt**+**Вставить**.<br />3. Введите имя нового узла и нажмите клавишу **return**.|
|Добавление нового универсального узла со ссылкой на существующий элемент кода, имеющий фокус.|1. с помощью клавиатуры нажимайте клавишу **Tab** , пока элемент Code не свяжется с фокусом (пунктирный прямоугольник).<br />2. Нажмите клавиши **Alt**+**SHIFT**+**INSERT**.<br />3. Введите имя нового узла и нажмите клавишу **return**.|

|**Добавление элементов кода для**|**Выполните следующие действия**|
|-|-|
|Элементы кода в решении|1. Найдите элемент Code в **Обозреватель решений**. Используйте поле поиска **Обозреватель решений** или просмотрите решение. **Совет.**      Чтобы найти элементы кода, которые имеют зависимости от типа или члена, откройте контекстное меню для типа или члена в **Обозреватель решений**. Выберите требуемое отношение. **Обозреватель решений** отображаются только элементы кода с указанными зависимостями.<br />2. Перетащите интересующие вас элементы кода на поверхность схемы. Элементы кода можно также перетаскивать из представления классов и обозревателя объектов.<br />     — или —<br />     В **Обозреватель решений**выберите элементы кода, которые необходимо сопоставлять. Затем на панели инструментов **Обозреватель решений** нажмите кнопку **отобразить на карте кода**.<br /><br /> По умолчанию на карте отображается иерархия родительского контейнера для новых элементов кода. Чтобы изменить это поведение, используйте кнопку **включить родителей** на панели инструментов "карту кода". Если этот режим выключен, на карту добавляется только сам элемент кода. Чтобы отменить это поведение только для одного действия перетаскивания, нажмите и удерживайте клавишу **CTRL** при перетаскивании элементов кода на карту.<br /><br /> Visual Studio добавляет элементы кода для выделенных элементов кода верхнего уровня. Чтобы проверить, содержит ли элемент кода другие элементы, наведите на него указатель мыши, чтобы появился шеврон (стрелка вниз). Щелкните шеврон, чтобы развернуть элемент кода. Чтобы развернуть все элементы кода, нажмите клавиши **CTRL**+**A** , чтобы выбрать все элементы, откройте контекстное меню для этой схемы и выберите **Группа**, **развернуть**. Эта команда недоступна, если при развертывании всех групп карта станет непригодна к использованию или возникнут проблемы нехватки памяти.|
|Элементы кода, связанные с элементами кода на карте.|Нажмите кнопку « **Показывать связанные** » на панели инструментов «Таблица кода» и выберите тип связанных элементов.<br /><br /> — или —<br /><br /> Откройте контекстное меню элемента кода. Выберите один из пунктов **Показывать...** в меню в зависимости от типа интересующей вас связи. Например, можно просмотреть элементы, на которые ссылается текущий элемент или которые сами ссылаются на него, базовые и производные типы для классов, вызывающие объекты методов, а также содержащие классы, пространства имен и сборки.<br /><br /> Дополнительные сведения см. в [этом разделе](../modeling/map-dependencies-across-your-solutions.md).|
|Скомпилированные сборки .NET (DLL или EXE) или двоичные файлы.|Вне Visual Studio перетащите сборки или двоичные файлы на карту.<br /><br /> Объекты можно перетаскивать из проводника, только если проводник и Visual Studio запущены на одном уровне разрешений управления доступом на уровне пользователей. Например, если управление доступом на уровне пользователей включено и среда Visual Studio запущена с правами администратора, проводник Windows заблокирует операцию перетаскивания.|

### <a name="AddNodes"></a>

#### <a name="add-a-link-between-existing-code-elements"></a>Добавление связи между существующими элементами кода

1. Выделите исходный элемент кода. Над ним появится панель инструментов.

    ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph_toolbar.png)

2. На панели инструментов щелкните первый значок, **Создайте новую ссылку на этом узле, на который вы находились, щелкнув далее**.

3. Выделите целевой элемент кода. Между двумя элементами кода появится связь.

**OR**

1. Выделите исходный элемент кода на карте.

2. При наличии мыши переместите ее указатель за границы карты.

3. Откройте контекстное меню элемента кода и выберите **изменить** > **Добавить** > **универсальной ссылке**.

4. Перейдите к целевому элементу кода для связи с помощью клавиши TAB и выделите его.

5. Нажмите клавишу **ВВОД**.

### <a name="AddComments"></a>

#### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>Добавление комментария к существующему узлу на карте

1. Выделите элемент кода. Над ним появится панель инструментов.

     ![Панель инструментов графа зависимостей](../modeling/media/depedencygraph_toolbar.png)

2. На панели инструментов выберите третий значок и **Создайте новый узел комментария с новой ссылкой на выбранный узел**.

     \- или -

     Откройте контекстное меню элемента Code и выберите **изменить** > **новый комментарий**.

3. Введите комментарии. Чтобы ввести новую строку, нажмите клавиши **Shift** + **Ввод**.

#### <a name="add-a-comment-to-the-map-itself"></a>Добавление комментария к самой карте

1. Откройте контекстное меню для схемы и выберите **изменить** > **новый комментарий**.

2. Введите комментарии. Чтобы ввести новую строку, нажмите клавиши **Shift** + **Ввод**.

### <a name="RenameNodes"></a>

#### <a name="rename-a-code-element-or-link"></a>Переименование элемента кода или связи

1. Выделите элемент кода или связь, которые нужно переименовать.

2. Нажмите клавишу **F2**или откройте контекстное меню и выберите **изменить** > **Переименовать**.

3. Когда на карте появится поле редактирования, переименуйте элемент кода или связь.

**OR**

1. Откройте контекстное меню и выберите пункт **изменить** > **свойства**.

2. Измените свойство **Label** в окно свойств Visual Studio.

#### <a name="remove-a-code-element-or-link-from-the-map"></a>Удаление элемента кода или связи на карте

1. Выберите элемент кода или ссылку и нажмите клавишу **Delete** .

     \- или -

     Откройте контекстное меню элемента кода или ссылки и выберите **изменить** > **Удалить**.

2. Если элемент или ссылка является частью группы, то кнопка повторно **извлечь дочерние объекты** повторного выполнения ![значок дочерние элементы повторной выборки](../modeling/media/dependencygraph_deletednodesicon.png) отображается внутри группы. Нажмите ее, чтобы получить отсутствующие элементы и связи.

- Элементы кода и связи можно удалять с карты, не меняя базовый код. При удалении элементов кода и связей их определения удаляются из DGML-файла.

- Карты, созданные путем изменения DGML-файла, добавления неопределенных элементов кода или использования предыдущих версий Visual Studio, не поддерживают эту возможность.

#### <a name="flag-a-code-element-for-follow-up"></a>Добавление к элементу кода пометки к исполнению

1. Выделите элемент кода или связь, которые нужно пометить к исполнению.

2. Откройте контекстное меню и выберите **изменить** > **флаг для дальнейших действий**.

- По умолчанию элемент кода получает красный фон. Рассмотрите возможность [добавления комментария](#AddComments) к нему с соответствующими сведениями о дальнейших действиях.

- Измените цвет фона элемента или снимите флаг дальнейших действий, выбрав **изменить** > **другие цвета флагов**.

## <a name="ChangeStyleCodeOrLink"></a>Изменение стиля элемента кода или ссылки

Вы можете изменять значки на элементах кода, а также цвета элементов кода и связей, используя предопределенные значки и цвета. Например, можно выбрать цвет выделения элементов кода и связей в соответствии с категорией или свойством. Это позволит идентифицировать определенные области карты и сосредоточиться на них. Можно указать настраиваемые значки и цвета, изменив DGML файл Map. см. раздел [Настройка карт кода путем редактирования DGML файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).

### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>Применение предопределенного цвета или значка к элементам кода или связям с определенной категорией или свойством

1. На панели инструментов Map выберите **Условные обозначения**.

2. В поле **Условные обозначения** проверьте, присутствует ли в списке Категория или свойство элемента кода.

3. Если список не содержит категорию или свойство, выберите **+** в поле **Условные обозначения** , затем выберите **свойство узла**, **Категория узла**, **свойство ссылки**или **Категория связи**. Затем выберите свойство или категорию. Категория или свойство теперь отображается в поле **Условные обозначения** .

    > [!NOTE]
    > Чтобы создать и назначить категорию или свойство элементу кода, можно изменить DGML-файл Map. см. раздел [Настройка карт кода путем редактирования DGML файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).

4. В поле **Условные обозначения** щелкните значок рядом с добавленной категорией или свойством или необходимо изменить.

5. Воспользуйтесь следующей таблицей, чтобы выбрать стиль, который нужно изменить:

    |**Чтобы изменить**|**Choose**|
    |-|-|
    |Цвет фона|**Вводная информация**|
    |Цвет контура|**Водок**|
    |Цвет текста (для отображения результата отображается буква "f")|**Переднего плана**|
    |Значок|**Значки**|

     Откроется диалоговое окно выбора **цвета** или **Выбор набора значков** для выбора цвета или значка.

6. В диалоговом окне Выбор **набора цветов** или **набора значков** выполните одно из следующих действий.

    |**Чтобы применить**|**Выполните следующие действия**|
    |-|-|
    |Набор цветов или значков|Откройте список **Выбор цвета** (или **значка**). Выберите набор цветов или значков.|
    |Определенный цвет или значок|Откройте список значений категорий или свойств. Выберите цвет или значок.|

    > [!NOTE]
    > Стили можно изменить, удалить или временно сделать неактивными в поле **Условные обозначения** . См. раздел [Редактирование поля условных обозначений](#ModifyLegend).

## <a name="ModifyLegend"></a>Изменение поля условных обозначений

Стили можно изменить, удалить или временно сделать неактивными в поле **Условные обозначения** :

1. Откройте контекстное меню для стиля в поле **Условные обозначения** .

2. Выполните одну из следующих задач:

    |**Чтобы**|**Choose**|
    |-|-|
    |Отключение элемента кода|**Отключить**|
    |Удаление элемента кода|**Удаление**|
    |Перемещение стиля вверх|**Вверх**|
    |Перемещение элемента кода вниз|**Вниз**|

## <a name="CopyLegend"></a>Копирование стилей из одной схемы в другую

1. Убедитесь, что на исходной карте отображается поле **Условные обозначения** . Если он не отображается, на панели инструментов Map нажмите кнопку **Условные обозначения**.

2. Откройте контекстное меню для поля **Условные обозначения** . Выберите пункт **Копировать условные обозначения**.

3. Вставьте легенду на целевую карту.

## <a name="MergeMaps"></a>Слияние карт кода

Чтобы объединить карты, скопируйте и вставьте элементы кода из одной карты в другую. Если идентификаторы элементов кода совпадают, при вставке элементы кода объединяются. Чтобы упростить эту задачу, поместите все сборки или двоичные файлы, которые нужно визуализировать, в одну папку, чтобы полный путь к каждой сборке или двоичному файлу был одинаков для каждой карты, которую необходимо объединить.

Кроме того, можно перетащить сборки или двоичные файлы из этой папки на одну и ту же карту.

## <a name="see-also"></a>См. также раздел

- [Сопоставление зависимостей во всех решениях](../modeling/map-dependencies-across-your-solutions.md)
- [Использование карт кода для отладки приложений](../modeling/use-code-maps-to-debug-your-applications.md)
- [Поиск потенциальных проблем с помощью анализаторов карт кода](../modeling/find-potential-problems-using-code-map-analyzers.md)
- [Customize code maps by editing the DGML files](../modeling/customize-code-maps-by-editing-the-dgml-files.md)
- [Справочник по языку DGML](../modeling/directed-graph-markup-language-dgml-reference.md)
