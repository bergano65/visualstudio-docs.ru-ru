---
title: Создание кода в редакторе кода и текста | Документы Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-general
ms.topic: conceptual
f1_keywords:
- vs.texteditor
dev_langs:
- JScript
- VB
- CSharp
helpviewer_keywords:
- code editor, word wrap
- outlining
- code, editing
- squiggles
- code editor, outlining
- code editor, error and warning markers
- word wrap
- code editor, syntax coloring
- code editor, go to definition
- diff
- code editor [Visual Studio]
- code editor, diff
- error and warning markers
- code editor, navigation bar
- code editor, customizing
- comment selection
- code editor, tabify
- brace matching
- code editor, line numbers
- printing
- code editor, brace matching
- code editor, squiggles
- code editor, features
- line numbers
- go to definition
- syntax coloring
- code editor, navigate to
- code editor, comparing files
- code editor, zoom
- code editor
- code files
- go to line
- tabify
- zoom
- navigate to
- line break characters
- code editor, virtual space
- code editor, change tracking
- code editor, comment selection
- code editor, printing
- virtual space
- code editor, line break characters
- code editor, go to line
- code
ms.assetid: cb53ab9a-5b76-4759-b9e8-7bf32298ecbe
caps.latest.revision: 46
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: a949f920fe956d1b0b3e7e9522d1b82e26a60168
ms.sourcegitcommit: 1fc6ee928733e61a1f42782f832ead9f7946d00c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2019
ms.locfileid: "60077827"
---
# <a name="writing-code-in-the-code-and-text-editor"></a>Создание кода в редакторе кода и текста
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]
Редактор Visual Studio предоставляет множество функций, облегчающих написание кода и управление им. Используя структуру, вы можете разворачивать и сворачивать различные блоки кода. Узнать более подробно об используемом коде можно с помощью технологии IntelliSense, окна **Обозреватель объектов**и иерархии вызовов. Внутри кода можно перемещаться с помощью таких функций, как **Перейти к**, **Перейти к определению**и **Найти все ссылки**. Вставлять блоки кода можно с помощью фрагментов кода. Код также можно создавать с помощью функций, таких как **Создание в результате использования**. Если вы никогда не работали в редакторе Visual Studio 2015, см. краткий обзор в разделе [Редактирование кода](https://www.visualstudio.com/features/ide-vs) .  

 Код можно просматривать различными способами. Для просмотра имеющихся в решении классов можно открыть окно **Представление классов** или развернуть узлы в **Обозревателе решений** под интересующими файлами классов.  

 Можно выполнять поиск и замену текста для одного или нескольких файлов. Дополнительные сведения см. в разделе [Finding and Replacing Text](../ide/finding-and-replacing-text.md) (Поиск и замена текста). Если вы используете регулярные выражения, обратите внимание, что в функции поиска и замены теперь используются регулярные выражения .NET. Дополнительные сведения см. в разделе [Using Regular Expressions in Visual Studio](../ide/using-regular-expressions-in-visual-studio.md) (Использование регулярных выражений в Visual Studio).  

 Разные языки Visual Studio предоставляют разные наборы функций, а в некоторых случаях одни и те же функции ведут себя по-разному в разных языках. Многие из этих отличий указаны в описаниях функций. Дополнительные сведения можно найти в разделах, посвященных конкретным языкам Visual Studio.  

> [!IMPORTANT]
>  Работа функций в интегрированной среде разработки зависит от выпуска Visual Studio и используемых параметров. Они могут отличаться от описанных в этом разделе.  

## <a name="editor-features"></a>Функции редактора  

|||  
|-|-|  
|Цветовая раскраска синтаксических конструкций|Некоторые элементы синтаксиса кода и файлов разметки для наглядности выделяются разными цветами. Например, ключевые слова (такие как `using` в C# и `Imports` в Visual Basic) выделены одним цветом, а типы (такие как `Console` и `Uri`) — другим. Другие элементы синтаксиса (например, строковые литералы и комментарии) также выделены цветом. Язык C++ использует цвета для различения типов, перечислений и макросов среди других токенов.<br /><br /> Вы можете узнать, какой цвет задан по умолчанию для каждого типа, и изменить цвет для любого элемента синтаксиса в диалоговом окне [Fonts and Colors, Environment, Options Dialog Box](../ide/reference/fonts-and-colors-environment-options-dialog-box.md), которое можно открыть с помощью меню **Сервис** .|  
|Маркеры ошибок и предупреждений|В процессе добавления кода и сборки решения вы можете увидеть в коде (а) волнистые линии различного цвета (знак «тильда») или (б) лампочки. Красные волнистые линии обозначают ошибки синтаксиса, синие обозначают ошибку компилятора, зеленые — предупреждения, а фиолетовые — другие типы ошибок. [Лампочки](../ide/perform-quick-actions-with-light-bulbs.md) предлагают способы решения проблем и помогают легко применить их.<br /><br /> Вы можете узнать, какой цвет задан по умолчанию для каждой пометки ошибки и предупреждения, в диалоговом окне **Сервис/Параметры/Среда/Шрифты и цвета** . Посмотрите пункты: **Синтаксическая ошибка**, **Ошибка компилятора**, **Предупреждение**и **Другие ошибки**.|  
|Согласование скобок|Если курсор мыши поместить на открывающую фигурную скобку в файле кода, выделяются обе скобки — открывающая и закрывающая. Эта функция позволяет оперативно реагировать на неправильно поставленную или отсутствующую фигурную скобку. Согласование фигурных скобок можно включить или отключить с помощью параметра **Автоматически выделять разделители** (**Сервис/Параметры/Текстовый редактор**). Цвет выделения можно изменить в разделе **Шрифты и цвета** (**Сервис/Параметры/Среда**). Используйте параметр **Парные фигурные скобки (выделение)** или **Парные фигурные скобки (прямоугольник)**.|  
|Номера строк|Номера строк могут отображаться в левом поле окна кода. По умолчанию они не отображаются. Этот режим можно включить в разделе **Текстовый редактор, все языки** (**Сервис/Параметры/Текстовый редактор/Все языки**). Отображение номеров строк можно включить для определенных языков программирования, изменив параметры именно для этих языков (**Сервис/Параметры/Текстовый редактор/\<язык**). Чтобы номера строк выводились на печать, нужно установить флажок «Включить номера строк» в диалоговом окне **Печать** .|  
|Отслеживание изменений|С помощью цвета левого поля окна можно отслеживать изменения, внесенные в файл. Если с момента открытия файла были внесены изменения и они не были сохранены, в левом поле окна (поле выделения) появляется желтая полоска. Если изменения сохранить, но оставить файл открытым, полоска станет зеленой. Если отменить изменения после сохранения файла, полоска станет оранжевой. Включить или отключить эту функцию можно с помощью параметра **Отслеживать изменения** в разделе **Текстовый редактор** (**Сервис/Параметры/Текстовый редактор**).|  
|Выбор кода и текста|Текст можно выбрать в стандартном режиме в виде непрерывного потока или в режиме блока, когда выбирается прямоугольный фрагмент текста, а не набор строк. Чтобы сделать выбор в режиме блока, нажмите клавишу ALT при перемещении указателя мыши над фрагментом текста (или нажмите клавиши ALT+SHIFT+\<стрелка>). В выделение попадают все символы внутри прямоугольника, определяемого первым и последним символами выделенной области. Текст, введенный или вставленный в выделенной области, помещается в одну и ту же точку в каждой строке.|  
|Масштаб|Масштаб в любом окне кода можно увеличить или уменьшить. Для этого нужно, удерживая нажатой клавишу CTRL, вращать колесо прокрутки мыши (или использовать сочетание клавиш CTRL + SHIFT + . для увеличения и CTRL + SHIFT + , для уменьшения масштаба). Кроме того, можно указать конкретное значение масштаба в процентах в поле «Масштаб», расположенном в левом нижнем углу окна кода. Функция масштабирования не работает в окнах инструментов.|  
|Виртуальное пространство|По умолчанию строки в редакторах Visual Studio заканчиваются после последнего символа. Это означает, что при нажатии клавиши «Стрелка вправо» в конце строки происходит перемещение курсора в начало следующей строки. В некоторых других редакторах строка не заканчивается после последнего символа и вы можете поместить курсор в любое место в строке. Разрешить виртуальное пространство в редакторе можно в разделе **Сервис/Параметры/Текстовый редактор/Все языки** . Обратите внимание, что вы можете включить только какой-либо один из режимов: **Виртуальное пространство** или **Перенос по словам**.|  
|Печать|Используя параметры в диалоговом окне **Печать** , можно включить номера строк или скрыть свернутые области кода при печати файла. В диалоговом окне **Параметры страницы** вы можете также задать печать полного пути и имени файла, выбрав вариант **Верхний колонтитул страницы**.<br /><br /> Параметры цветной печати можно задать в диалоговом окне **Сервис/Параметры/Среда/Шрифты и цвета** . Выберите пункт **Принтер** в списке **Показать параметры для** , чтобы настроить цветную печать. Для печати файла можно указать не такие цвета, как для редактирования файла.|  
|Глобальные действия отмены и повтора|Команды **Отменить последнее глобальное действие** и **Повторить последнее глобальное действие** в меню **Правка** позволяют отменить или повторить глобальные действия, выполняемые над множеством файлов. К глобальным действиям относятся: переименование класса или пространства имен, выполнение операции поиска и замены по всему решению, рефакторинг базы данных или любое другое действие, приводящее к изменению множества файлов. Вы можете применить глобальные команды отмены и повтора для действий в текущем сеансе Visual Studio даже после закрытия решения, в котором применялись эти действия.|  

## <a name="advanced-editing-features"></a>Дополнительные функции редактирования  
 В подменю **Правка/Дополнительно** имеется набор дополнительных функций. Не все эти функции доступны для каждого типа файлов кода.  

|||  
|-|-|  
|Форматировать документ|Установка правильного отступа строк кода и перемещение фигурных скобок для разделения строк в документе.|  
|Форматировать выделенный фрагмент|Установка правильного отступа строк кода и перемещение фигурных скобок для разделения строк в выделенном фрагменте.|  
|Преобразовать пробелы в знаки табуляции в выделенных строках|Замена начальных пробелов на знаки табуляции там, где это уместно.|  
|Преобразовать знаки табуляции в пробелы в выделенных строках|Замена начальных знаков табуляции на пробелы. Если требуется преобразовать все пробелы в знаки табуляции в файле (или все знаки табуляции в пробелы), можно использовать команды `Edit.ConvertSpacesToTabs` и `Edit.ConvertTabsToSpaces` . Эти команды не включены в меню Visual Studio, но их можно вызывать из окна быстрого доступа или окна командной строки.|  
|Все прописные|Перевод всех символов в выделенном фрагменте в верхний регистр или, если ничего не выбрано, перевод символа в позиции курсора в верхний регистр.|  
|Все строчные|Перевод всех символов в выделенном фрагменте в нижний регистр или, если ничего не выбрано, перевод символа в позиции курсора в нижний регистр.|  
|Проверить документ|Проверка файлов с кодом JScript.|  
|Удалить пустое пространство по горизонтали|Удаление символов табуляции и пробелов в конце текущей строки.|  
|Показать пустое пространство|Отображение пробелов в виде приподнятых точек, а символов табуляции — в виде стрелок. Конец файла отображается как прямоугольный глиф. Если с помощью меню выбран вариант **Сервис/Параметры/Текстовый редактор/Все языки/Перенос по словам/Показать видимые глифы для переноса по словам** , этот глиф также будет отображаться.|  
|Перенос по словам|В этом режиме все строки документа отображаются полностью в окне кода. Перенос по словам можно включить или отключить в параметрах «Все языки» текстового редактора (**Сервис/Параметры/Текстовый редактор/Все языки**).|  
|Раскомментировать выделенный фрагмент|Добавление символов комментария к выбранному фрагменту или текущей строке.|  
|Закомментировать выделенный фрагмент|Удаление символов комментария из выбранного фрагмента или текущей строки.|  
|Увеличить отступ строки|Добавление символа табуляции (или эквивалентных пробелов) к выбранным строкам или текущей строке.|  
|Уменьшить отступ строки|Удаление символа табуляции (или эквивалентных пробелов) из выбранных строк или текущей строки.|  
|Выбрать тег|Выбор тега в документе, содержащем теги (например, XML или HTML).|  
|Выделить содержимое тега|Выбор содержимого в документе, содержащем теги (например, XML или HTML).|  

## <a name="navigate-in-the-code-window"></a>Навигация в окне кода  
 Перемещаться по документу можно несколькими способами. В дополнение к стандартным операциям вы можете использовать кнопки **Назад** (сочетание клавиш CTRL + знак минус) и **Вперед** (CTRL + SHIFT + знак минус) на панели инструментов для перемещения курсора в предыдущее положение или возврата его к более позднему положению в активном документе. Эти кнопки сохраняют в памяти 20 последних положений курсора.  

 ![Кнопки перехода вперед и назад](../ide/media/vs2015-nav-buttons.png "кнопки_навигации_VS2015_")  

 Кроме того, вы можете просмотреть высокоуровневое представление кода, используя расширенную полосу прокрутки в окне кода. В режиме карты можно просматривать код при перемещении курсора вверх и вниз по полосе прокрутки. Дополнительные сведения, см. в разделе [как: Отслеживание кода за счет настройки полосы прокрутки](../ide/how-to-track-your-code-by-customizing-the-scrollbar.md).  

 Следующие команды представляют собой различные методы навигации, зависящие от конкретного кода.  

|||  
|-|-|  
|Перейти к \<номер строки>|(**Правка/перейти к** или CTRL + G): Переместить строку с указанным номером в активном документе.|  
|Функция "Перейти к"|(**Правка/перейти к** или CTRL +,): Поиск символа или файла в активном решении. Она помогает выбрать хороший набор подходящих результатов из запроса. Вы можете искать ключевые слова, содержащиеся в символе, используя «верблюжий» стиль и знаки подчеркивания для разделения символа на ключевые слова.|  
|Найти все ссылки|(контекстное меню): Поиск всех ссылок на выбранный элемент в решении.|  
|Перейти к определению|(контекстное меню или клавиша F12): Поиск определения выбранного элемента.|  
|Показать определение|(контекстное меню или сочетание клавиш Alt + F12): Поиск определения выбранного элемента и отображает его во всплывающем окне. Дополнительные сведения см. в разделе [Как Просмотр и изменение кода с помощью "Показать определение" (Alt + F12)](../ide/how-to-view-and-edit-code-by-using-peek-definition-alt-plus-f12.md).|  
|Следующий метод, Предыдущий метод|(**Правка/Следующий метод, Предыдущий метод**) В файлах кода Visual Basic эти команды можно использовать для перемещения курсора на различные методы.|  
|Выделение ссылок|Если щелкнуть символ в исходном коде, выделяются все вхождения этого символа в документе. Выделенные символы могут содержать объявления и ссылки, а также множество других символов, возвращаемых командой **Найти все ссылки** . Сюда входят имена классов, объектов, переменных, методов и свойств. В коде Visual Basic выделяются также ключевые слова для многих управляющих структур. Чтобы перейти к следующему или предыдущему выделенному символу, нажмите сочетание клавиш CTRL + SHIFT + СТРЕЛКА ВНИЗ или CTRL + SHIFT + СТРЕЛКА ВВЕРХ. Цвет выделения можно изменить в разделе **Сервис/Параметры/Среда/Шрифты и цвета/Выделенная ссылка**.|  
|Найти сведения, связанные с кодом|Вы можете найти сведения о конкретном коде (например, изменения, автора этих изменений, ссылки, ошибки, рабочие элементы, проверки кода и состояние модульного теста), используя средство CodeLens в редакторе кода. Средство CodeLens работает как система индикации во время использования Visual Studio Enterprise с сервером Team Foundation Server. См. статью [Поиск изменений кода и других журналов](../ide/find-code-changes-and-other-history-with-codelens.md).|  

 Для перемещения по файлу кода можно также использовать **панель навигации**, которая представляет собой два раскрывающихся списка, расположенных в верхней части окна кода. Эта панель позволяет переходить непосредственно к определенному типу или одному из членов типа. Панель навигации появляется для файлов кода языков Visual Basic, C# и C++.  

 Чтобы скрыть панель навигации, измените значение параметра **Панель навигации** в параметрах «Все языки» текстового редактора (**Сервис/Параметры/Текстовый редактор/Все языки**или измените параметр для конкретного языка). Перемещаться с помощью раскрывающихся списков можно следующим образом.  

- Чтобы переместить фокус с окна кода на панель навигации, нажмите сочетание клавиш CTRL + F2.  

- Для возвращения фокуса с панели навигации в окно кода нажмите клавишу ESC.  

- Чтобы переместить фокус от элемента к элементу на панели навигации, нажмите клавишу TAB.  

- Чтобы выбрать элемент панели навигации, находящийся в фокусе, и вернуться в интегрированную среду разработки, нажмите клавишу ВВОД.  

- Чтобы перейти к классу или типу, выберите его имя в раскрывающемся списке слева.  

- Чтобы перейти непосредственно к процедуре в классе, выберите процедуру в раскрывающемся списке справа.  

  В разделяемом классе члены, определенные за пределами текущего файла кода, могут быть неактивны.  

## <a name="find-code-using-navigate-to"></a>Поиск кода с помощью команды "Перейти к"
Команда "Перейти к" в Visual Studio используется для направленного поиска кода и помогает быстро находить указанные элементы в файлах кода, путях к файлам и символах кода. В отличие от других команд текстового поиска, таких как "Найти" или "Найти в файлах", область выполнения команды "Перейти к" ограничена расположениями реального кода, такими как файлы, формы и модули кода. Например, при поиске строки в веб-приложении ASP.NET с использованием команд "Найти" или "Найти в файлах" во всем решении может быть найдено несколько совпадений, включая экземпляры строки в комментариях к коду. С помощью перейти к тем не менее, вы может получить только одной функции, все экземпляры строки в комментариях к коду.

### <a name="navigate-code-using-navigate-to"></a>Навигация по коду с помощью команды "Перейти к"

1. В Visual Studio откройте решение или папку.
1. В главном меню последовательно выберите **Правка**, **Перейти к** или нажмите сочетание клавиш **CTRL+,**.

    В верхнем углу редактора кода появится небольшое текстовое поле.
1. В текстовом поле введите имя элемента кода, который требуется найти.

    ![Окно "Перейти к"](../ide/media/vside-navigatetowindow.png "Окно \"Перейти к\"")

    По мере ввода результаты будут отображаться в раскрывающемся списке под текстовым полем.
1. Чтобы перейти к элементу, выберите его в списке.

### <a name="filter-your-search"></a>Фильтрация поиска

Чтобы ограничить область поиска только символами кода, запросом перейти к "\@" символов. Например, при поиске `@application` команда "Перейти к" отображает, скажем, только классы, которые содержат слово "application".

Если в коде используется смешанный регистр знаков, можно ускорить поиск элементов кода за счет ввода в имени элемента кода только прописных букв. Например, если код содержит компонент `ViewSwitcher`, его можно найти, введя лишь прописные буквы имени (`"VS"`) в окне "Перейти к".

![Окно "Перейти к" — поиск с использованием прописных букв](../ide/media/vside-capitalsearch.png "Окно \"Перейти к\" — поиск с использованием прописных букв")

Эта функция особенно полезна, если код содержит длинные имена.

## <a name="customize-the-editor"></a>Настройка редактора  
 **Импорт и экспорт параметров**: Вы можете параметры совместно с другим разработчиком, привести параметры в соответствие со стандартом или вернуться к настройкам по умолчанию Visual Studio с помощью **мастер импорта и экспорта параметров** на **средства** меню. Вы можете изменить общие параметры или язык и параметры конкретного проекта.  

 **Клавиш**: Можно определить новые или переопределить существующие в параметрах Tools/Options/Environment/Keyboard. Дополнительные сведения о сочетаниях клавиш см. в статье [Default Keyboard Shortcuts](../ide/default-keyboard-shortcuts-in-visual-studio.md) (Сочетания клавиш по умолчанию).  

 Дополнительные сведения о параметрах редактора, зависящих от языка, см. в следующих разделах.  

- [Параметры Visual Basic](http://msdn.microsoft.com/library/2712b3b1-18f2-430c-ae91-28468bbf5f32)  

- [Использование среды разработки Visual Studio для C#](../csharp-ide/using-the-visual-studio-development-environment-for-csharp.md)  

- ["Параметры", "Текстовый редактор", JavaScript, "Форматирование"](../ide/reference/options-text-editor-javascript-formatting.md)  

## <a name="in-this-section"></a>Содержание раздела  

- [Поиск и замена текста](../ide/finding-and-replacing-text.md)  

- [Кодировки и разрывы строк](../ide/encodings-and-line-breaks.md)  

- [Структура](../ide/outlining.md)  

- [Рефакторинг](../ide/refactoring-in-visual-studio.md)  

- [Советы по повышению производительности](../ide/productivity-tips-for-visual-studio.md)  

- [Использование технологии IntelliSense](../ide/using-intellisense.md)  

- [Настройка редактора](../ide/customizing-the-editor.md)  

- [Практическое руководство. Отслеживание кода путем настройки полосы прокрутки](../ide/how-to-track-your-code-by-customizing-the-scrollbar.md)  

- [Практическое руководство. Просмотр и изменение кода с помощью окна "Показать определение" (ALT+F12)](../ide/how-to-view-and-edit-code-by-using-peek-definition-alt-plus-f12.md)  

- [Выполнение быстрых действий с лампочками](../ide/perform-quick-actions-with-light-bulbs.md)  

- [Фрагменты кода](../ide/code-snippets.md)  

- [Использование панели элементов](../ide/using-the-toolbox.md)  

- [Просмотр структуры кода](../ide/viewing-the-structure-of-code.md)  

- [Установка закладок в коде](../ide/setting-bookmarks-in-code.md)  

- [Использование списка задач](../ide/using-the-task-list.md)  

- [Поиск изменений кода и других журналов](../ide/find-code-changes-and-other-history-with-codelens.md)  

## <a name="see-also"></a>См. также  
 [Интегрированная среда разработки Visual Studio](../ide/visual-studio-ide.md)
