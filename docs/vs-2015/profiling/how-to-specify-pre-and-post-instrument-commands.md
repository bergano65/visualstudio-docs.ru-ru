---
title: Практическое руководство. Указание команд, предваряющих инструментирование, и команд после инструментирования | Документы Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vs.performance.property.instrument
helpviewer_keywords:
- profiling tools, pre-instrument events
- events [Visual Studio], pre-instrument
- pre-instrument events, performance tools
ms.assetid: 6a8d5340-1d1b-4d81-88dd-8e1f435eb828
caps.latest.revision: 33
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: b152b381aaca2b9e43729616979cd7765d3a8c53
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2018
ms.locfileid: "49305471"
---
# <a name="how-to-specify-pre--and-post-instrument-commands"></a>Практическое руководство. Указание команд, предваряющих инструментирование, и команд после инструментирования
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Можно указать команды, которые выполняются до или после инструментирования двоичных файлов в сеансе анализа производительности. Каждую команду, выполняемую из командной строки, можно указать как событие, предшествующее инструментированию или следующее за ним. Например, можно указать команды, которые автоматизируют повторное подписание сборки ключом строгого имени в пакетном файле, выполняемое после инструментирования двоичных файлов.  
  
 Можно задать команды для всех инструментируемых двоичных файлов в сеансе профилирования или для отдельных двоичных файлов. При этом можно указать только одну команду, предшествующую инструментированию, и только одну команду, выполняющуюся после инструментирования. Нельзя одновременно задать команды для всех двоичных файлов и для отдельных двоичных файлов. При указании команд для всех двоичных файлов, команды выполняются до или после инструментирования каждого двоичного файла в сеансе.  
  
 **Requirements**  
  
-   [!INCLUDE[vsUltLong](../includes/vsultlong-md.md)], [!INCLUDE[vsPreLong](../includes/vsprelong-md.md)], [!INCLUDE[vsPro](../includes/vspro-md.md)]  
  
 Рабочий каталог, в котором выполняются команды, зависит от операционной системы, в которой выполняется [!INCLUDE[vs_current_short](../includes/vs-current-short-md.md)], и целевой платформы профилируемого приложения.  
  
 **32-разрядные компьютеры**  
  
 На 32-разрядных компьютерах каталог средств профилирования по умолчанию — диск\Program Files\Microsoft Visual Studio 10.0\Team Tools\Performance Tools.  
  
 **64-разрядные компьютеры**  
  
 На 64-разрядных компьютерах укажите путь в соответствии с целевой платформой профилируемого приложения.  
  
-   Для 32-разрядных приложений каталог средств профилирования по умолчанию:  
  
     *диск*\Program Files (x86)\Microsoft Visual Studio 10.0\Team Tools\Performance Tools  
  
-   Для 64-разрядных приложений каталог средств профилирования по умолчанию:  
  
     *диск*\Program Files (x86)\Microsoft Visual Studio 10.0\Team Tools\Performance Tools\x64  
  
### <a name="to-specify-pre-instrument-commands"></a>Указание команд, предшествующих инструментированию  
  
1.  Выполните одно из следующих действий.  
  
    -   Чтобы указать команды, предшествующие инструментированию для всех двоичных файлов в сеансе анализа производительности, выберите узел сеанса анализа производительности в **обозревателе производительности**, а затем щелкните правой кнопкой мыши и выберите пункт **Свойства**.  
  
    -   Чтобы указать команды, предшествующие инструментированию для конкретного двоичного файла, щелкните правой кнопкой мыши имя двоичного файла в списке **Цели** сеанса анализа производительности, а затем выберите пункт **Свойства**.  
  
2.  В окне **Страницы свойств** щелкните **Инструментирование**.  
  
3.  Введите команду в текстовое поле **Командная строка** в разделе **События до инструментирования**.  
  
    > [!NOTE]
    >  Можно нажать кнопку с многоточием **(...)** справа от поля **Командная строка** и выбрать соответствующий EXE-, CMD- или BAT-файл.  
  
4.  Нажмите кнопку **ОК**.  
  
     Чтобы запретить выполнение команды, не удаляя ее, установите флажок **Исключить из инструментирования**. Для изменения параметров компилятора или компоновщика используйте страницы свойств проекта.  
  
### <a name="to-specify-post-instrument-commands"></a>Указание команд после инструментирования  
  
1.  Выполните одно из следующих действий.  
  
    -   Чтобы указать команды, выполняющиеся после инструментирования для всех двоичных файлов в сеансе анализа производительности, выберите узел сеанса анализа производительности в **обозревателе производительности**, а затем щелкните правой кнопкой мыши и выберите **Свойства**.  
  
    -   Чтобы указать команды, выполняющиеся после инструментирования для конкретного двоичного файла, щелкните правой кнопкой мыши имя двоичного файла в списке **Цели** сеанса анализа производительности, а затем выберите пункт **Свойства**.  
  
2.  В окне **Страницы свойств** щелкните **Инструментирование**.  
  
3.  Введите команду в текстовое поле **Командная строка** в разделе **События после инструментирования**.  
  
    > [!NOTE]
    >  Можно нажать кнопку с многоточием **(...)** справа от поля **Командная строка** и выбрать соответствующий EXE-, CMD- или BAT-файл.  
  
4.  Нажмите кнопку **ОК**.  
  
     Чтобы запретить выполнение команды, не удаляя ее, установите флажок **Исключить из инструментирования**. Для изменения параметров компилятора или компоновщика используйте страницы свойств проекта.  
  
## <a name="see-also"></a>См. также  
 [Настройка сеансов анализа производительности](../profiling/configuring-performance-sessions.md)



