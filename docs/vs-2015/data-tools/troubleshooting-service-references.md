---
title: Диагностика ссылок на службы | Документация Майкрософт
ms.custom: ''
ms.date: 2018-06-30
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- msvse_wcf.Err.ReferenceGroup_NamespaceConflictsOther
- msvse_wcf.Err.AddSvcRefDlg_NothingSelectedOnGo
- msvse_wcf.Err.ErrorOnOK
- msvse_wcf.cfg.ConfigurationErrorsException
helpviewer_keywords:
- service references [Visual Studio], troubleshooting
- WCF services, troubleshooting
ms.assetid: 3b531120-1325-4734-90c6-6e6113bd12ac
caps.latest.revision: 25
author: gewarren
ms.author: gewarren
manager: ghogen
ms.openlocfilehash: f6d9510bf667b95dde4619f469b51041c07c0b4e
ms.sourcegitcommit: 55f7ce2d5d2e458e35c45787f1935b237ee5c9f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2018
ms.locfileid: "47573232"
---
# <a name="troubleshooting-service-references"></a>Диагностика ссылок на службы
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Последнюю версию этого раздела можно найти в [Устранение неполадок ссылок на службы](https://docs.microsoft.com/visualstudio/data-tools/troubleshooting-service-references).

В этом разделе перечислены распространенные проблемы, которые могут возникнуть при работе с [!INCLUDE[vsindigo](../includes/vsindigo-md.md)] или [!INCLUDE[ssAstoria](../includes/ssastoria-md.md)] ссылок в [!INCLUDE[vsprvs](../includes/vsprvs-md.md)].

## <a name="error-returning-data-from-a-service"></a>Ошибка при возвращении данных из службы
 При возврате `DataSet` или `DataTable` из службы, может возникнуть исключение «был превышен максимальный размер квоты входящих сообщений». По умолчанию `MaxReceivedMessageSize` для некоторые привязки задано значение относительно небольшое значение позволяет снизить уязвимость для атак типа "отказ в обслуживании". Можно увеличить это значение, чтобы избежать возникновения исключения.

 Чтобы исправить эту ошибку, сделайте следующее:

1.  В **обозревателе решений**, дважды щелкните файл app.config, чтобы открыть его.

2.  Найдите `MaxReceivedMessageSize` свойство и измените его на большее значение.

## <a name="cannot-find-a-service-in-my-solution"></a>Не удается найти службу в моем решении
 При нажатии кнопки **Discover** кнопку **добавить ссылку на службу** диалоговое окно, один или несколько проектов библиотек служб WCF в решении не отображаются в списке служб. Это может произойти, если библиотека службы был добавлен в решение, но еще не скомпилирована.

 Чтобы исправить эту ошибку, сделайте следующее:

-   В **обозревателе решений**, щелкните правой кнопкой мыши проект библиотеки служб WCF и нажмите кнопку **построения**.

## <a name="error-accessing-a-service-over-a-remote-desktop"></a>Ошибка доступа к службе удаленного рабочего стола
 Когда пользователь открывает службы WCF, размещенных на веб сервере через удаленный рабочий стол и пользователь не имеет разрешения администратора, используется проверка подлинности NTLM. Если пользователь не обладает правами администратора, пользователь может получить следующее сообщение об ошибке: «HTTP-запрос не разрешен для схемы проверки подлинности клиентов «Анонимно». Заголовок проверки подлинности, полученный от сервера был «NTLM».»

 Чтобы исправить эту ошибку, сделайте следующее:

1.  В проекте веб-сайт, откройте **свойства** страниц.

2.  На **параметры запуска** вкладке Очистить **проверки подлинности NTLM** "флажок".

    > [!NOTE]
    > Следует отключить проверку подлинности NTLM только для веб-сайтов, которые содержат исключительно службы WCF. Безопасность для служб WCF осуществляется через конфигурацию в файле web.config. Это делает ненужной проверку подлинности NTLM.

## <a name="access-level-for-generated-classes-setting-has-no-effect"></a>Уровень доступа для созданных классов не оказывает влияния
 Установка **уровень для созданных классов доступа** в диалоговом окне **Настройка ссылок на службы** диалоговое окно, чтобы **внутренний** или **Friend** может работать не всегда. Несмотря на то, что этот параметр отображается в диалоговом окне, результирующие классы поддержки будут создаваться с уровнем доступа `Public`.

 Это известное ограничение определенных типов, например тех, сериализованным с помощью <xref:System.Xml.Serialization.XmlSerializer>.

## <a name="error-debugging-service-code"></a>Ошибка отладки кода службы
 При заходе в код службы WCF из клиентского кода, может появиться ошибка, связанная с отсутствующими символами. Это может произойти, когда был перемещен или удален из решения службы, которая была частью решения.

 При первом добавлении ссылки на службу WCF, который является частью текущего решения, между проект службы и проект клиента службы добавляется явная зависимость построения. Это гарантирует, что клиент всегда имеет доступ к обновленным двоичным файлам службы, что особенно важно для отладки сценариев, таких как шаг с заходом из клиентского кода в код службы.

 Если проект службы удаляется из решения, эта явная зависимость построения становится недействительным. Visual Studio не может гарантировать, что перестраивается проект службы при необходимости.

 Чтобы устранить эту ошибку, необходимо вручную перестроить проект службы:

1.  В меню **Сервис** выберите пункт **Параметры**.

2.  В **параметры** диалогового окна разверните узел **проекты и решения**, а затем выберите **Общие**.

3.  Убедитесь, что **Показывать дополнительные конфигурации построения** флажок выбран и нажмите кнопку **ОК**.

4.  Загрузите проект службы WCF. Дополнительные сведения см. в разделе [ПРАКТИЧЕСКОЕ руководство: создание решений для нескольких проектов](http://msdn.microsoft.com/en-us/02ecd6dd-0114-46fe-b335-ba9c5e3020d6).

5.  В **Configuration Manager** диалоговом окне set **активная конфигурация решения** для **Отладка**. Дополнительные сведения см. в разделе [Практическое руководство. Создание и изменение конфигураций](../ide/how-to-create-and-edit-configurations.md).

6.  В **обозревателе решений**, выберите проект службы WCF.

7.  На **построения** меню, щелкните **Перестроить** повторное построение проекта службы WCF.

## <a name="wcf-data-services-do-not-display-in-the-browser"></a>Службы данных WCF не отображаются в браузере
 При попытке просмотреть XML-представление данных в [!INCLUDE[ss_data_service](../includes/ss-data-service-md.md)], Internet Explorer может неправильно интерпретировать данные как RSS-канал. Необходимо убедиться, что параметр, определяющий, отображаются ли RSS-каналы, отключен.

 Чтобы устранить эту ошибку, отключите RSS-каналы:

1.  В Internet Explorer на **средства** меню, щелкните **обозревателя**.

2.  На **содержимого** на вкладке **веб-каналов** щелкните **параметры**.

3.  В **параметры веб-канала** снимите флажок **включите чтения веб-канала** флажок и нажмите кнопку **ОК**.

4.  Нажмите кнопку **ОК** закрыть **обозревателя** диалоговое окно.

## <a name="see-also"></a>См. также

- [Службы Windows Communication Foundation и службы данных WCF в Visual Studio](../data-tools/windows-communication-foundation-services-and-wcf-data-services-in-visual-studio.md)