---
title: Обновление MDF-файлов | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-data-tools
ms.topic: conceptual
dev_langs:
- VB
- CSharp
- C++
- aspx
helpviewer_keywords:
- SQL Server Express
- SQL Server LocalDB
- LocalDB
- SQLEXPRESS
- upgrading SQLExpress to SQLExpress
- upgrading to LocalDB
ms.assetid: 14ca6f76-f80e-4926-8020-3fee2d802b75
caps.latest.revision: 36
author: gewarren
ms.author: gewarren
manager: jillfra
robots: noindex,nofollow
ms.openlocfilehash: dc67a44586d221830825b94dd1c0eb160e307d21
ms.sourcegitcommit: 8b538eea125241e9d6d8b7297b72a66faa9a4a47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "58980374"
---
# <a name="upgrade-mdf-files"></a>Обновление MDF-файлов
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

  
В этом разделе описываются параметры обновление файла базы данных (.mdf), после установки более новой версии Visual Studio. Он включает инструкции для выполнения следующих задач:  
  
- Обновить файл базы данных, чтобы использовать новую версию SQL Server Express LocalDB  
  
- Обновить файл базы данных для использования более новой версии SQL Server Express  
  
- Работать с файлом базы данных в Visual Studio, но сохранить совместимость с более старой версии SQL Server Express или LocalDB  
  
- Сделать SQL Server Express database engine по умолчанию  
  
  Visual Studio можно использовать, чтобы открыть проект, содержащий файл базы данных (.mdf), который был создан с помощью более старой версии SQL Server Express или LocalDB. Тем не менее чтобы продолжить разработку проекта в Visual Studio, необходимо иметь эту версию SQL Server Express или LocalDB установлена на одном компьютере с Visual Studio, или необходимо обновить файл базы данных. При обновлении файла базы данных, нельзя получить к ним доступ с помощью более старых версиях SQL Server Express или LocalDB.  
  
  Может также потребоваться обновить файл базы данных, которая была создана с помощью более ранней версии SQL Server Express или LocalDB Если версия файла не совместима с экземпляром SQL Server Express или LocalDB, установленную в настоящее время. Чтобы устранить проблему, Visual Studio предложит обновить файл.  
  
> [!IMPORTANT]
>  Мы рекомендуем использовать резервную копию файла базы данных перед его обновлением.  
  
> [!WARNING]
>  Если вы обновляете MDF-файла, который был создан в LocalDB 2014 г. (версия 12) 32-разрядная версия, до 2016 LocalDB (V13), вы не сможете снова откройте файл в 32-разрядной версии LocalDB.  В обновлении 2 для LocalDB V13 — только 64-разрядная.  
  
 Перед обновлением базы данных, учитывайте указанные ниже критерии.  
  
-   Не обновляйте, если вы хотите работать над проектом в более старой версии и более новой версии Visual Studio.  
  
-   Не обновляйте, если приложение будет использоваться в средах, использующих SQL Server Express, а не LocalDB.  
  
-   Не обновляйте Если приложение использует удаленные соединения, поскольку LocalDB не согласны с ними.  
  
-   Не обновляйте, если приложение использует на Internet Information Services (IIS).  
  
-   Если вы хотите протестировать приложения баз данных в изолированной среде, но не хотите Администрирование базы данных, рассмотрите возможность обновления.  
  
### <a name="to-upgrade-a-database-file"></a>Чтобы обновить файл базы данных  
  
1. В **обозревателя серверов**выберите **подключение к базе данных** кнопки.  
  
2. В **добавить подключение** диалоговом окне укажите следующие сведения:  
  
   -   **Источник данных**: `Microsoft SQL Server (SqlClient)`  
  
   -   **Имя сервера**:  
  
       -   Чтобы использовать версию по умолчанию: `(localdb)\MSSQLLocalDB`.  Этот параметр указывает ProjectV12 или ProjectV13, в зависимости от установленной версии Visual Studio и при создании первого экземпляра LocalDB. **MSSQLLocalDB** узел в **обозреватель объектов SQL Server** показывает, какая версия указывает на.  
  
       -   Чтобы использовать конкретную версию: `(localdb)\ProjectsV12` или `(localdb)\ProjectsV13`, где версии 12 — LocalDB 2014, а V13 — LocalDB 2016.  
  
   -   **Добавить файл базы данных**: Физический путь первичного MDF-файла.  
  
   -   **Логическое имя**: Имя, которое вы хотите использовать с файлом.  
  
3. Нажмите кнопку **OK**.  
  
4. Когда появится запрос, выберите **Да** кнопку, чтобы обновить файл.  
  
   Базы данных обновляется, присоединен к компоненту database engine LocalDB и больше не совместим с более старой версии LocalDB.  
  
   Можно также изменить подключение SQL Server Express для использования LocalDB, открыв контекстное меню для подключения, а затем выбрав **Изменение подключения**. В **Изменение подключения** диалогового окна можно изменить имя сервера, чтобы `(LocalDB)\MSSQLLocalDB`. В **дополнительные свойства** диалоговом окне убедитесь, что **пользовательский экземпляр** имеет значение **False**.  
  
### <a name="to-upgrade-to-a-newer-version-of-sql-server-express"></a>Обновление до более новой версии SQL Server Express  
  
1. В контекстном меню для подключения к базе данных, выберите **Изменение подключения**.  
  
2. В **Изменение подключения** выберите **Дополнительно** кнопки.  
  
3. В **дополнительные свойства** выберите **ОК** кнопки без изменения имени сервера.  
  
   Файл базы данных обновляется в соответствии с текущей версии SQL Server Express.  
  
### <a name="to-work-with-the-database-in-visual-studio-but-retain-compatibility-with-sql-server-express"></a>Чтобы работать с базой данных в Visual Studio, но сохранить совместимость с SQL Server Express  
  
-   В Visual Studio откройте проект без ее обновление.  
  
    -   Чтобы запустить проект, нажмите клавишу F5.  
  
    -   Чтобы изменить базу данных, откройте MDF-файл в **обозревателе решений**и разверните узел в **обозревателя серверов** для работы с базой данных.  
  
### <a name="to-make-sql-server-express-the-default-database-engine"></a>Чтобы сделать SQL Server Express database engine по умолчанию  
  
1. В строке меню выберите **средства** > **параметры**.  
  
2. В **параметры** диалогового окна разверните узел **Data Tools** параметры, а затем выберите **подключения к данным** узла.  
  
3. В **имя экземпляра SQL Server** текстовое поле, укажите имя экземпляра SQL Server Express или LocalDB, которую вы хотите использовать. Если экземпляр не имя, укажите `.\SQLEXPRESS or (localdb)\MSSQLLocalDB`.  
  
4. Нажмите кнопку **OK**.  
  
   SQL Server Express будет СУБД по умолчанию для ваших приложений.  