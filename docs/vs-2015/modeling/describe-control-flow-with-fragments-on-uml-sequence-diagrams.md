---
title: Описание потока управления с использованием фрагментов на схемах последовательностей UML | Документация Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vs.teamarch.sequencediagram.combinedfragment.interactionoperand
- vs.teamarch.sequencediagram.combinedfragment
helpviewer_keywords:
- UML sequence diagrams, control flow
- UML sequence diagrams, fragments
- sequence diagrams, fragments
- sequence diagrams, control flow
ms.assetid: efcc0949-be7e-4cf4-99ef-47c36b3803ae
caps.latest.revision: 17
author: gewarren
ms.author: gewarren
manager: douge
ms.openlocfilehash: 4ab4c65e554e9eef75a1761719ce19f3312e07ce
ms.sourcegitcommit: af428c7ccd007e668ec0dd8697c88fc5d8bca1e2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2018
ms.locfileid: "51727653"
---
# <a name="describe-control-flow-with-fragments-on-uml-sequence-diagrams"></a>Описание потока управления с использованием фрагментов на схемах последовательностей UML
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

На схеме последовательностей UML в Visual Studio *объединенные фрагменты* позволяют показывать циклы, ветви и другие альтернативные элементы.  
  
 Объединенный фрагмент состоит из одного или нескольких *операндов взаимодействия*, каждый из которых включает одно или несколько сообщений, использований взаимодействия или объединенных фрагментов.  
  
> [!NOTE]
>  Этот раздел посвящен фрагментам на схемах последовательностей. Дополнительные сведения о чтении UML-схемы последовательностей, см. в разделе [схемы последовательностей UML: Справочник по](../modeling/uml-sequence-diagrams-reference.md). Подробнее о рисовании схем последовательностей UML см. в разделе [UML Sequence Diagrams: Guidelines](../modeling/uml-sequence-diagrams-guidelines.md).  
  
 ![Объединенный фрагмент с двумя операндами взаимодействия](../modeling/media/uml-seqfragments.png "UML_SeqFragments")  
  
 На рисунке показаны перечисленные ниже элементы.  
  
1.  Объединенный фрагмент. Существует несколько видов объединенных фрагментов. В этом примере представлен объединенный фрагмент Alt, который позволяет показать, что возможны другие последовательности сообщений.  
  
2.  Операнды взаимодействия. Каждый объединенный фрагмент содержит хотя бы один операнд взаимодействия, который может содержать сообщения, использования взаимодействий и более мелкие объединенные фрагменты. В этом примере объединенный фрагмент Alt имеет два операнда взаимодействия, которые показывают две альтернативные последовательности сообщений.  
  
3.  Вы можете выделить каждый операнд взаимодействия отдельно, щелкнув внутри него. В этом примере выделен верхний операнд взаимодействия, так что можно видеть его границу. Как правило, видна только разделительная линия между операндами взаимодействия.  
  
    > [!NOTE]
    >  Чтобы выбрать верхний операнд взаимодействия, нужно щелкнуть не слишком близко к верхней границе объединенного фрагмента.  
  
4.  Условия. Каждому операнду взаимодействия можно назначить условие. Оно описывает требования, при соблюдении которых выполняются сообщения внутри операнда взаимодействия.  
  
## <a name="creating-combined-fragments"></a>Создание объединенных фрагментов  
 Список видов фрагментов, которые можно создавать, см. в разделе [Виды объединенных фрагментов](#KindsOfFragment).  
  
#### <a name="to-create-a-combined-fragment"></a>Создание объединенного фрагмента  
  
1. Выделите одно сообщение или последовательность сообщений, начинающихся на одной линии жизни или в одном вхождении выполнения.  
  
   > [!NOTE]
   >  При выборе нескольких сообщений они должны составлять непрерывную последовательность.  
  
2. Щелкните правой кнопкой мыши одно из сообщений, выберите пункт **Разместить во фрагменте**, а затем щелкните необходимый вид объединенного фрагмента, например **Альтернативный объединенный фрагмент**.  
  
    Появится новый объединенный фрагмент. Заголовок указывает вид выделенного объединенного фрагмента, например **Alt**.  
  
    Внутри объединенного фрагмента имеется фрагмент, который содержит выбранные сообщения.  
  
   В некоторые виды объединенных фрагментов можно добавлять дополнительные операнды взаимодействия.  
  
   Переупорядочив сообщения внутри объединенного фрагмента, выберите в контекстном меню пункт **Переупорядочить макет** , чтобы изменить размер рамки объединенного фрагмента.  
  
#### <a name="to-add-a-new-interaction-operand-to-a-combined-fragment"></a>Добавление нового операнда взаимодействия в объединенный фрагмент  
  
1. Щелкните правой кнопкой мыши в пустом пространстве внутри операнда взаимодействия (2) за пределами содержащихся в операнде фрагментов и под заголовком объединенного фрагмента.  
  
2. Наведите указатель мыши на пункт **Добавить**.  
  
3. Выберите пункт **Операнд взаимодействия до**или **Операнд взаимодействия после**.  
  
4. Чтобы добавить сообщения в новый операнд взаимодействия, можно воспользоваться средствами создания сообщений или скопировать и вставить существующие сообщения.  
  
   Можно задать свойство **Условие** операнда взаимодействия, чтобы описать условия, при которых выполняются сообщения внутри операнда. Например, в объединенном фрагменте **Loop** с помощью условия можно задать требования, при соблюдении которых цикл продолжается. В объединенном фрагменте **Alt** можно задать отдельное условие для каждого операнда взаимодействия.  
  
#### <a name="to-set-the-guard-of-an-interaction-operand"></a>Задание условия для операнда взаимодействия  
  
1. Щелкните в пустом пространстве внутри операнда взаимодействия (2) за пределами входящих в его состав фрагментов.  
  
    Вокруг операнда взаимодействия и условия отображается граница выделения.  
  
    В заголовке окна **Свойства** отображается **Операнд взаимодействия**.  
  
2. Введите условие.  
  
    Оно отобразится в верхней части фрагмента (4).  
  
   Для некоторых видов объединенных фрагментов можно задавать свойства.  
  
#### <a name="to-set-or-view-the-properties-of-a-combined-fragment"></a>Задание или просмотр свойств объединенного фрагмента  
  
-   Щелкните правой кнопкой мыши название объединенного фрагмента и выберите пункт **Свойства**.  
  
    > [!NOTE]
    >  Разные виды объединенных фрагментов имеют разные свойства.  
  
##  <a name="KindsOfFragment"></a> Виды объединенных фрагментов  
  
### <a name="fragments-describing-control-flow"></a>Фрагменты, описывающие поток управления  
 На простой схеме последовательностей отображается только одна типичная последовательность. Чтобы описать варианты, которые могут иметь место в разных случаях, можно использовать перечисленные ниже типы объединенных фрагментов.  
  
|Тип фрагмента|Описание:|  
|-------------------|-----------------|  
|**OPT**|Необязательный. Включает последовательность, которая может не произойти. В условии можно задать требования, при соблюдении которых она возникнет.|  
|**ALT**|Содержит список фрагментов, в состав которых входят альтернативные последовательности сообщений. В каждом случае может иметь место только одна последовательность.<br /><br /> Можно задать условие для каждого фрагмента, чтобы указать, при соблюдении каких требований он выполняется. Условие **else** указывает, что фрагмент должен выполняться, если ни одно из остальных условий не имеет значение true. Если все условия имеют значение false, а условие **else**не задано, не выполняется ни один из фрагментов.|  
|**Loop**|Фрагмент повторяется определенное число раз. В условии можно указать требования, при соблюдении которых он будет повторяться.<br /><br /> Объединенные фрагменты Loop имеют свойства **Min** и **Max**, обозначающие минимальное и максимальное число возможных повторений фрагмента. По умолчанию ограничение не задано.|  
|**Break**|Если этот фрагмент выполняется, остальные фрагменты последовательности игнорируются. Чтобы указать требования, при соблюдении которых выполняется этот тип фрагмента, можно воспользоваться условием.|  
|**Par**|Параллельный. События во фрагментах могут чередоваться.|  
|**Критические**|Используется внутри фрагмента Par или Seq. Указывает, что сообщения в этом фрагменте не следует чередовать с другими сообщениями.|  
|**SEQ**|Существует два или более фрагментов операнда. Сообщения, имеющие одну линию жизни, должны выполняться в порядке следования фрагментов. Если сообщения из разных фрагментов не имеют общих линий жизни, их можно чередовать параллельно.|  
|**Strict**|Существует два или более фрагментов операнда. Фрагменты должны использоваться в указанном порядке.|  
  
### <a name="fragments-about-how-to-interpret-the-sequence"></a>Фрагменты, определяющие способ интерпретации последовательности  
 По умолчанию схема последовательностей задает ряд сообщений, которые могут иметь место. В запущенной системе могут также иметь место другие сообщения, которые не выбирались для отображения на схеме.  
  
 Чтобы изменить эту интерпретацию, можно использовать указанные ниже типы фрагментов.  
  
|Тип фрагмента|Описание:|  
|-------------------|-----------------|  
|**Рассмотрите возможность**|Задает список сообщений, описываемых этим фрагментом. В запущенной системе могут иметь место другие сообщения, но они несущественны для целей данного описания.<br /><br /> В свойстве **Сообщения** задайте список.|  
|**игнорировать**|Список сообщений, не описываемых этим фрагментом. Они могут иметь место в запущенной системе, но не существенны для целей данного описания.<br /><br /> В свойстве **Сообщения** задайте список.|  
|**Assert**|Фрагмент операнда задает только допустимые последовательности. Обычно используется внутри фрагмента Consider или Ignore.|  
|**Neg**|Последовательность, показанная в этом фрагменте, не должна иметь место. Обычно используется внутри фрагмента Consider или Ignore.|  
  
## <a name="see-also"></a>См. также  
 [UML-схемы последовательностей: рекомендации](../modeling/uml-sequence-diagrams-guidelines.md)   
 [Схемы последовательностей UML: Справочник по](../modeling/uml-sequence-diagrams-reference.md)   
 [Изменение моделей и схем UML](../modeling/edit-uml-models-and-diagrams.md)



