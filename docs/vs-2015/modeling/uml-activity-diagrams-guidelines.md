---
title: 'UML-схемы деятельности: Рекомендации | Документация Майкрософт'
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- UML diagrams, activity
- diagrams - modeling, activity
- diagrams - modeling, UML activity
- activity diagrams
- UML, activity diagrams
ms.assetid: fe5dbe96-79ab-483a-b9bc-44d0d1d3efc2
caps.latest.revision: 50
author: alexhomer1
ms.author: gewarren
manager: douge
ms.openlocfilehash: de4ea9890f6a39fa263129f3a0df9559ae9ab479
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2018
ms.locfileid: "49176648"
---
# <a name="uml-activity-diagrams-guidelines"></a>UML-схемы деятельности: рекомендации
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

В Visual Studio можно создавать схемы активности, описывающие бизнес-процесс или программный алгоритм как рабочий процесс, состоящий из ряда действий. Эти действия могут выполняться людьми, программными компонентами или устройствами. Демонстрационные видеоматериалы см. в разделе: [бизнес-процессов с помощью схемы деятельности](http://channel9.msdn.com/posts/clinted/UML-with-VS-2010-Part-4-Capture-Business-Workflows/).  
  
 Чтобы узнать, какие версии Visual Studio поддерживают эту функцию, см. раздел [Поддержка версий для инструментов моделирования и архитектуры](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport).  
  
 Чтобы создать схему деятельности UML на **архитектура** меню, щелкните **создать схему UML или схему слоев**.  
  
 Схемы деятельности можно использовать для различных целей:  
  
-   для описания бизнес-процесса или рабочего процесса, в котором участвуют пользователи и система Дополнительные сведения см. в разделе [моделирование требований пользователей](../modeling/model-user-requirements.md).  
  
-   для описания шагов, выполняемых в варианте использования Дополнительные сведения см. в разделе [UML-схемы деятельности: рекомендации по](../modeling/uml-use-case-diagrams-guidelines.md).  
  
-   для описания метода, функции или операции программного обеспечения Дополнительные сведения см. в разделе [Моделирование архитектуры приложения](../modeling/model-your-app-s-architecture.md).  
  
 Создание схемы деятельности помогает улучшить процесс. Если схема существующего процесса оказывается очень сложной, можно подумать, как ее упростить.  
  
 Справочные сведения об элементах на схемах активности см. в разделе [UML-схемы деятельности: ссылка](../modeling/uml-activity-diagrams-reference.md).  
  
##  <a name="Relationships"></a> Отношение к другим схемам  
 Создавая схему активности для описания бизнес-процесса или способа применения системы пользователями, можно создать также схему вариантов использования, демонстрирующую различные точки зрения на одну и ту же информацию. На схеме вариантов использования действия изображаются как варианты использования. Присвойте вариантам использования имена, совпадающие с именами соответствующих действий. Представление вариантов использования позволяет выполнять следующее:  
  
-   с помощью отношения Includes показывать на одной схеме, каким образом большие действия или варианты использования формируются из меньших;  
  
-   явно привязывать каждое из действий или вариантов использования к пользователям или внешним системам, участвующим в его выполнении;  
  
-   проводить границы вокруг действий или вариантов использования, поддерживаемых системой или основными ее компонентами.  
  
 Также можно использовать схему активности для подробного описания операции программы.  
  
 На схеме активности можно показать поток данных, передаваемых между действиями. См. в разделе [Описание потока данных](#DataFlows). При этом схема активности не описывает структуру данных. Для этой цели можно создать UML-схему классов. Дополнительные сведения см. в разделе [UML-схемы классов: правила](../modeling/uml-class-diagrams-guidelines.md).  
  
##  <a name="BasicSteps"></a> Основные этапы создания схем активности  
 Подробные инструкции по созданию схем моделирования описаны в [моделей и схем UML, изменить](../modeling/edit-uml-models-and-diagrams.md).  
  
#### <a name="to-draw-an-activity-diagram"></a>Создание схемы активности  
  
1.  На **архитектура** меню, щелкните **создать схему UML или схему слоев**.  
  
2.  В разделе **шаблоны**, нажмите кнопку **схема активности UML**.  
  
3.  Назовите схему.  
  
4.  В **добавьте в проект моделирования**, выделите существующий проект моделирования в решении, или **создайте новый проект моделирования**.  
  
#### <a name="to-draw-elements-on-an-activity-diagram"></a>Создание элементов на схеме активности  
  
1.  Перетащите элементы из панели элементов на схему.  
  
     Начните с размещения на схеме основных действий, соедините их и закончите добавлением таких элементов, как начальные и конечные узлы.  
  
    > [!NOTE]
    >  Нельзя перетаскивать на схему существующие элементы из обозревателя моделей UML.  
  
2.  Чтобы подключить элементы, выполните следующие действия:  
  
    1.  В **схема активности** панели элементов, нажмите кнопку **соединитель**.  
  
    2.  Щелкните на схеме исходный элемент.  
  
    3.  Щелкните целевой элемент.  
  
        > [!NOTE]
        >  Чтобы использовать один и тот же элемент несколько раз, дважды щелкните его на панели элементов.  
  
#### <a name="to-move-an-activity-to-another-package"></a>Перемещение действия в другой пакет  
  
-   В **Обозреватель моделей UML**, перетащите действие в пакет.  
  
     \- или -  
  
-   В **Обозреватель моделей UML**, щелкните правой кнопкой мыши действие и нажмите кнопку **Вырезать**. Затем щелкните правой кнопкой мыши пакет и нажмите кнопку **вставить**.  
  
    > [!NOTE]
    >  Это действие отобразится в обозревателе моделей UML только при добавлении первого элемента на схему.  
  
##  <a name="SimpleControlFlow"></a> Описание потока управления  
 Схема активности описывает бизнес-процесс или программный алгоритм как последовательность действий. Стрелки-соединители показывают, как управление последовательно передается от одного действия к другому. Обычно действие может начаться только после завершения предыдущего действия.  
  
 На следующем рисунке приведен пример, как можно показывать последовательность действий с помощью действий, соединителей, ветвей и циклов. Более подробно элементы описаны в следующих разделах.  
  
 ![Простая схема деятельности](../modeling/media/uml-actguidectrl.png "UML_ActGuideCtrl")  
  
 Схемы активности используют **действия** и **соединители** для описания системы или приложение как последовательность действий с последовательно принимающих управление.  
  
-   Создание **действие** (1) для каждой основной задачи, выполняемой пользователем, системой или обоими.  
  
    > [!NOTE]
    >  Постарайтесь описать процесс или алгоритм всего несколькими действиями. Можно использовать **действия вызова поведения** для определения каждого действия более подробно на отдельной схеме, как описано в разделе [Описание вложенных действий с помощью действий вызова поведения](#Subactivities).  
  
-   Убедитесь, что заголовок каждого действия четко показывает, зачем оно нужно.  
  
-   Свяжите действия в последовательность с помощью **соединители** (2).  
  
-   Каждое действие заканчивается до начала следующего действия в потоке управления. Если вы хотите описываются действия, которые перекрываются, используйте **узел ветвления** как описано в разделе [параллельные потоки](#Concurrent).  
  
 Схема описывает последовательность действий, но не показывает, каким образом эти действия выполняются и как управление передается от одного действия к следующему. Если с помощью схемы изображается бизнес-процесс, управление может передаваться, например, при отправке сообщения электронной почты одним человеком другому. Если с помощью схемы иллюстрируется система программного обеспечения, управление может передаваться при нормальном потоке выполнения от одного оператора к другому.  
  
### <a name="describing-decisions-and-loops"></a>Описание решений и циклов  
  
-   Используйте **узла решения** (3), чтобы указать точку, в которой результат решения определяет следующий шаг. Можно добавить любое количество исходящих путей.  
  
-   Если с помощью схемы активности определяется часть приложения, следует определить условия (4), чтобы было понятно, когда следует использовать каждый из путей. Щелкните правой кнопкой мыши соединитель, нажмите кнопку **свойства**и в **свойства** окна, введите значение для **Guard** поля.  
  
-   Не всегда необходимо определять условия. Например, если схема активности используется для описания бизнес-процесса или протокола взаимодействия, ветвь определяет диапазон параметров, доступных для пользователя или взаимодействующих компонентов.  
  
-   Используйте **узел слияния** (5) используется для объединения двух или нескольких альтернативных потоков, ветвящихся в **узла решения**.  
  
    > [!NOTE]
    >  Следует использовать **узел слияния** для объединения альтернативных потоков, а не соединять потоки в действии. В примере не было бы связать узел решения напрямую обратно в **Выбор пункта меню**. Это связано с тем, что действие не запускается, пока потоки управления не поступят во все входящие соединители. Таким образом, объединять в действии следует только параллельные потоки. Дополнительные сведения см. в разделе [параллельные потоки](#Concurrent).  
  
-   Циклы можно описывать с помощью ветвей, как показано в примере.  
  
    > [!NOTE]
    >  Старайтесь вкладывать циклы структурированно, как в коде программы. Если вы описываете существующий бизнес-процесс, это может показать некоторые возможности для его улучшения.  
  
### <a name="starting-the-activity"></a>Начало активности  
 Точки входа в активность можно указывать двумя способами:  
  
-   **Начальный узел**  
  
     Создать **начальный узел** (6), чтобы указать первое действие действия.  
  
     Этот метод лучше всего работает при описании вложенных активностей или в случаях, когда прямо указывать инициатора активности не нужно. Например, активность "Заказ еды" определенно начинается с того, что клиент проголодался.  
  
-   **Узел события получения**  
  
     Создание **узлы события получения**, как описано в разделе [параллельные потоки](#Concurrent), чтобы указать начало потока, реагирующего на определенное событие, например на ввод данных пользователем. Не предоставляйте входящий в узел поток. Пропуск входящего потока означает, что поток запускается при каждом возникновении события.  
  
     Этот метод пригодится в том случае, если нужно описать ответ на определенное внешнее событие.  
  
### <a name="ending-the-activity"></a>Завершение действия  
 Используйте **конечный узел действия** (7), чтобы указать конец действия.  
  
-   При достижении потоком управления **конечный узел действия**, все параллельные действия и вложенные активности завершаются.  
  
-   Можно использовать несколько конечных узлов, чтобы сократить число соединителей.  
  
### <a name="interrupting-the-activity"></a>Прерывание действия  
 Чтобы описать, как можно прерывать обычный поток действий, например если пользователь решает отменить процесс, можно создать узел приема события, прослушивающий это событие. Дополнительные сведения см. в разделе [параллельные потоки](#Concurrent). Создайте поток управления между этим узлом и конечным узлом действия (7).  
  
### <a name="swimlanes"></a>Дорожки  
 Иногда части действия удобно разбить на области, соответствующие различным объектам или бизнес-ролям, выполняющим действия. Эти области являются оформляются в виде столбцов и называются *дорожки*.  
  
-   Используйте линии или прямоугольники из **простые фигуры** панели элементов для создания дорожек и других областях.  
  
-   Чтобы подписать дорожку, создайте примечание и задать его **Transparent** свойства **True**.  
  
 Простые фигуры не являются частью модели UML и не отображаются в обозревателе моделей UML.  
  
##  <a name="DataFlows"></a> Описание потока данных  
 Данные, передающиеся в действие или из него, можно описать одним из двух способов.  
  
-   Используйте **объекта узла**. Это простейший способ описания информации, передаваемой между действиями. Узел объекта похож на переменную в программе. Он представляет элемент, хранящий одно или несколько значений, которые передаются от одного действия к другому.  
  
-   Используйте **вывода ПИН-код** и **ввода ПИН-код**. Этот метод позволяет отдельно описывать выходные данные одного действия и входные данные другого. Закрепления похожи на параметры в программе. Закрепления представляют порты входа объектов в действие и выхода из него.  
  
    > [!NOTE]
    >  Обзор элементов, используемых в этом разделе, см. в поток данных проходит разделе этого раздела см. в разделе [UML-схемы деятельности: ссылка](../modeling/uml-activity-diagrams-reference.md).  
  
### <a name="describing-data-flow-with-object-nodes"></a>Описание потока данных с помощью узлов объектов  
 Большинство потоков управления передает данные. Например выходной поток действия "Клиент предоставляет сведения" передает ссылку на адрес доставки.  
  
 Если нужно описать эти данные на схеме, можно заменить соединитель узлом объекта и двумя соединителями, как показано на приведенном ниже рисунке.  
  
 ![Узлах объектов могут показываться данные, передаваемые между действиями](../modeling/media/uml-actguidedata.png "UML_ActGuideData")  
  
 Обратите внимание, что прямоугольники с закругленными углами, например "Отправить товары", представляют действия, в которых происходит обработка. Прямоугольники с прямыми углами, например "Адрес поставки", представляют потоки объектов из одного действия в другое.  
  
 Присвойте узлу объекта имя, отражающее роль узла как передаточного звена или буфера для объектов, передаваемых между действиями.  
  
 Можно задать **тип** узла объекта в окне «Свойства». Это может быть примитивный тип, например "Целое число", либо класс, интерфейс или перечисление, определенные на схеме классов. Например, можно создать класс "Адрес поставки" с атрибутами "Улица", "Город" и так далее, связав его с другим классом под названием "Клиент". Дополнительные сведения см. в разделе [UML-схемы классов: правила](../modeling/uml-class-diagrams-guidelines.md).  
  
> [!NOTE]
>  Если ввести имя типа, который еще не был определен, будут добавлены элемент **неуказанные типы** в обозревателе моделей UML. Если после этого определить тип с таким именем на схеме классов, необходимо сбросить тип узла объекта, чтобы он ссылался на новый тип.  
  
#### <a name="buffering-data-in-object-nodes"></a>Буферизация данных в узлах объектов  
 Узел объекта может выступать в качестве буфера для нескольких объектов. На следующем рисунке поток управления показывает, что пользователь может пройти цикл [выбрать еще] (1) много раз, а узел объекта "Выбранные элементы меню" (2) накапливает решения пользователя. Наконец, когда пользователь завершает выбор, управление передается действию "Подтвердить заказ" (3), которое принимает полный список решений из буфера "Выбранные элементы меню".  
  
 ![Буферизация данных в узлах объектов](../modeling/media/uml-actguidebuffer.png "UML_ActGuideBuffer")  
  
 Чтобы указать способ хранения элементов в буфере, настройте указанные ниже свойства узла объекта.  
  
-   Задайте **заказов** свойство:  
  
    -   **Неупорядоченный** Чтобы задать порядок случайных или не задан. (по умолчанию).  
  
    -   **Упорядоченные** Чтобы задать порядок, в соответствии с указанным ключом.  
  
    -   **FIFO** Чтобы задать порядок первым пришел, первым обслужен.  
  
    -   **LIFO** Чтобы задать порядок последним поступил — первым обслужен.  
  
-   Задайте **верхнюю границу** свойство, чтобы указать максимальное число объектов, которые могут содержаться в буфере. Значение по умолчанию — *. Это означает отсутствие ограничений.  
  
### <a name="describing-data-flow-with-input-and-output-pins"></a>Описание потока данных с помощью закреплений ввода и вывода  
 Используйте **закрепления вывода** и **ввода ПИН-код** для отдельно описывать выходные данные одного действия и вводы в другое.  
  
 ![Входные и выходные закрепления являются параметрами действий](../modeling/media/uml-actguidepins.png "UML_ActGuidePins")  
  
 Чтобы создать ПИН-код, щелкните **ввода ПИН-код** или **закрепления вывода** на панели элементов и выберите действие. Затем можно переместить закрепление по периметру действия и изменить его имя. Вы можете создания входных и выходных ПИН-кодов на любых действий, включая **действия вызова поведения**, **действия вызова операции**, **действия отправки сигнала**, и  **Примите действия события**.  
  
 Соединитель между двумя закреплениями представляет поток объектов (точно так же, как потоки в узел объекта и из него).  
  
 Присваивайте закреплениям имена, указывающие на роль создаваемых или принимаемых ими объектов, например имена параметров.  
  
 Тип передаваемых объектов можно задать **тип** свойства. Это должен быть тип, созданный на UML-схеме классов.  
  
 Объекты, передаваемые между соединенными закреплениями, должны быть каким-либо образом совместимы. Например, объекты, создаваемые закреплением вывода, могут принадлежать к производному типу типа закрепления ввода.  
  
 Также можно указать, что поток объектов включает преобразование, которое изменяет данные из типа закрепления вывода в тип закрепления ввода. Наиболее распространенные преобразования такого рода просто извлекают подходящую часть из большего типа. В примере на рисунке подразумевается преобразование, которое извлекает адрес доставки из сведений о заказе.  
  
##  <a name="Details"></a> Определение действий более подробно  
 Наряду с выбором имени, позволяющего описать получаемый действием результат, существуют и другие способы описать действие более подробно.  
  
-   Ввести более подробное описание **текст** свойство. Например, можно написать фрагмент программного кода или псевдокода или дать полное описание получаемых результатов.  
  
-   Заменить действие действием вызова поведения и подробно описать его поведение на отдельной схеме активности. См. в разделе [Описание вложенных активностей с помощью действий вызова поведения](#Subactivities).  
  
-   Задайте действие **Локальные постусловия** и **Локальные предусловия** свойства, чтобы описать его результат подробнее. Дополнительные сведения см. в разделе [Определение постусловий и предусловий](#Postcondition).  
  
###  <a name="Subactivities"></a> Описание вложенных активностей с помощью действий вызова поведения  
 Подробно описать поведение действия можно с помощью отдельной схемы активности. Вызываемое поведение — это схема активности, представленная на основной схеме активности действием вызова поведения. Действие вызова поведения позволяет также описать поведение, которое используется в разных активностях, и не создавать одну и ту же вложенную активность несколько раз.  
  
 Схема 1 на приведенном ниже рисунке демонстрирует активность с действием вызова поведения, а схема 2 — вложенную активность, отображающую вызываемое поведение.  
  
 ![Отдельной схеме деятельности показаны подробные действия](../modeling/media/uml-actguidedetail.png "UML_ActGuideDetail")  
  
##### <a name="to-describe-a-sub-activity-with-a-call-behavior-action"></a>Описание вложенной активности с помощью действий вызова поведения  
  
1.  Чтобы создать схему вложенной активности в **обозревателе решений**, щелкните правой кнопкой мыши проект моделирования, откройте пункт **добавить**и нажмите кнопку **новый элемент**.  
  
2.  В **Добавление нового элемента** диалогового **шаблоны** щелкните **схема активности** и в **имя** поле введите имя, которое планируется предоставить ваш **действие вызова поведения**.  
  
3.  Подробно изобразите рабочий процесс вложенной активности. Это называется вызываемым поведением.  
  
    -   На схеме вызываемой вложенной активности **начальный узел** указывает, где начинается управление при вызове поведения. **Конечный узел действия** показывает, где управление возвращается к родительскому действию.  
  
4.  Задайте **поведение** свойство **действие вызова поведения** для ссылки на схему вызываемого поведения.  
  
    > [!NOTE]
    >  Схема вложенного действия должна содержать элементы или диаграмме не будут доступны в раскрывающемся списке для **поведение** свойство. Кроме того, значок трезубца не появится на вашей **действие вызова поведения** фигуры, пока не будет задан его **поведение** свойство.  
  
5.  Задайте **является синхронным** свойство действия значение, указывающее, ожидает ли действие завершения вызванного действия.  
  
    -   Если задать **является синхронным** значение false, означает, что поток может переходить к следующему действию до завершения вызванной активности. Не следует определять закрепления вывода или исходящие потоки данных из действия.  
  
### <a name="describing-data-flow-in-and-out-of-sub-activities"></a>Описание потока данных, входящих и исходящих из вложенных активностей  
 Описание данных, передаваемых во вложенные действия и из них, сходно с использованием параметров в программном обеспечении.  
  
-   Создайте закрепления ввода и вывода (1) для действия поведения вызова для каждого фрагмента данных, передаваемого в активность или из нее. Назовите их.  
  
-   На схеме вложенной активности создайте **узел параметра действия** (2) для каждого закрепления ввода и вывода вызывающего действия. Присвойте каждому узлу имя, совпадающее с именем соответствующего закрепления.  
  
    > [!NOTE]
    >  Узел параметра действия похож на узел объекта. Чтобы проверить тип узла, который вы видите, щелкните правой кнопкой мыши узел и нажмите кнопку **свойства**. Тип узла будет указан в заголовке окна "Свойства".  
  
-   На схеме вложенной активности создайте соединители, показывающие поток объектов в каждый узел параметра действия и из каждого такого узла.  
  
 ![Закрепления поведения вызовов сопоставляются с параметрами активности](../modeling/media/uml-actguidesub.png "UML_ActGuideSub")  
  
###  <a name="Postcondition"></a> Определение постусловий и предусловий  
 Можно использовать **Локальные постусловия** и **Локальные предусловия** свойства, чтобы подробно описать результаты действия. Они описывают результат действия, не описывая способ достижения этого результата.  
  
 Чтобы задать эти свойства, щелкните правой кнопкой мыши действие и нажмите кнопку **свойства**. Введите значения свойств в окне "Свойства".  
  
#### <a name="local-postconditions"></a>Локальные постусловия  
 Постусловие — это условие, которое должно быть выполнено, прежде чем действие сможет считаться завершенным. В примере действия "Подтвердить заказ" постусловием может быть, например, следующее.  
  
 Клиент предоставил полные сведения, необходимые для обработки платежа по кредитной карте, в допустимом формате.  
  
 Постусловие может выражать отношение между состояниями до и после выполнения действия. Например:  
  
 процентная ставка удвоилась.  
  
 Можно писать постусловия в более формальном стиле, ссылаясь на определенные атрибуты данных, с которыми работают действия. Пример:  
  
 `InvoiceTotal == Sum(OrderItem.MenuItem.Price)`  
  
#### <a name="local-preconditions"></a>Локальные предусловия  
 Предусловие — это условие, которое должно быть удовлетворено к началу действия. Например, у действия "Подтвердить заказ" может быть следующее предусловие:  
  
 Пользователь выбрал хотя бы один элемент меню.  
  
### <a name="describing-calls-to-operations"></a>Описание вызовов к операциям  
 Как правило, действие описывает работу, выполняемую любой комбинацией людей, программ и компьютеров. Однако с помощью действия вызова операции можно описывать вызовы к определенным методам или функциям программы.  
  
-   Задайте имя действия вызова операции, указывающее, какая операция и для какого объекта или компонента вызывается.  
  
-   Добавьте к действию вызова операции закрепления ввода и вывода, чтобы описать параметры и возвращаемые значения.  
  
-   Можно задать **является синхронным** свойства действия, чтобы указать, является ли действие ожидает завершения операции.  
  
    -   Если задать **является синхронным** значение false, означает, что поток может переходить к следующему действию до завершения вызванной операции. Не следует определять закрепления вывода или исходящие потоки данных из действия.  
  
##  <a name="Concurrent"></a> Параллельные потоки  
 Можно использовать **узел ветвления** и **Соединительный узел** для описания действий, которые могут выполняться одновременно несколько потоков.  
  
 ![Узлы разъединения и объединения демонстрируют одновременные потоки](../modeling/media/uml-actguideconcurrent.png "UML_ActGuideConcurrent")  
  
 Последствия **узел ветвления** (1) разделить на два или более потока в потоке управления. После завершения предыдущего действия могут запускаться все действия на выходе ветвления.  
  
 Объект **Соединительный узел** (2) объединяет параллельные потоки. Действие после **Соединительный узел** не может начинаться до все действия, что приводит к **Соединительный узел** завершения.  
  
### <a name="describing-signals-and-events"></a>Описание сигналов и событий  
 Шаг в процессе, отправляющий сигнал, можно показать как действие отправки сигнала в активности. Шаг, ожидающий конкретного сигнала или события перед продолжением работы, можно показать как действие принятия события.  
  
 Например, можно показать шаг, отправляющий заказ, и другой шаг, который должен получить заказ, прежде чем его обработать.  
  
#### <a name="sending-a-signal"></a>Отправка сигнала  
 Действия отправки сигнала (3) позволяют указать, что какой-либо сигнал или сообщение отправлено в другие активности или процессы. Указывайте тип отправляемых сообщений в имени действия.  
  
-   Управление немедленно передается следующему действую в потоке управления (если есть).  
  
-   Действие отправки сигнала нельзя использовать для описания реакции процесса на возвращаемую информацию. Для этого нужно использовать отдельное действие приема события.  
  
-   Отобразим поток данных, входящий в действие отправки сигнала, чтобы указать, какие данные будут отправляться в исходящих сообщениях. Дополнительные сведения см. в разделе [Описание потока данных](#DataFlows).  
  
#### <a name="waiting-for-a-signal-or-event"></a>Ожидание сигнала или события  
 Действия приема события (4) позволяет указать, что данное действие ожидает некоторого внешнего события или входящего сообщения. Указывайте тип ожидаемых событий в имени действия.  
  
-   Чтобы показать, что действие ожидает внешнего события или сообщения в определенной точке потока, в подходящем месте активности изобразите действие приема события с входящим потоком.  
  
-   Чтобы показать, что действие может отвечать на внешнее событие или сообщение в любое время, изобразите действие приема события без входящего потока. При возникновении указанного внешнего события в активности начнется новый поток, который начинается с действия приема события.  
  
-   Действия приема события нельзя использовать для описания значений, возвращаемых отправителю сигнала. Для этого используется отдельное действие отправки сигнала.  
  
-   Отобразив исходящие из действия потоки данных, можно продемонстрировать, каким образом активность обрабатывает данные, получаемые с сигналом. Если вы хотите показать несколько исходящих потоков, следует задать **IsUnmarshall** свойство действия приема события, который указывает, что действие при анализе разделяет входящий сигнал на компоненты. Дополнительные сведения см. в разделе [Описание потока данных](#DataFlows).  
  
### <a name="describing-multiple-data-flows"></a>Описание нескольких потоков данных  
 Отобразив несколько потоков управления или потоков объектов, исходящих из действия, можно указать, что после завершения действия возникает несколько потоков. Это похоже на ветвление, за тем исключением, что можно использовать одновременно и потоки управления, и потоки объектов.  
  
 В следующем примере показано несколько потоков, исходящих из действий и входящих в действия.  
  
 ![Параллельные потоки объектов](../modeling/media/uml-actguidemulti.png "UML_ActGuideMulti")  
  
 После завершения действия "Клиент предоставляет сведения" создаются два объекта: "Адрес поставки" и "Данные кредитной карты". Затем эти два объекта передаются на обработку различными действиями.  
  
 Поскольку действие нуждается во всех входных данных до начала выполнения, последнее действие не начинается, пока не завершатся все ведущие к нему действия.  
  
### <a name="streams"></a>Потоки  
 С помощью схемы активности можно описывать конвейер или ряд действий, выполняющихся одновременно и постоянно передающих данные от действия к действию.  
  
 Суть следующего примера в том, что все действия могут создавать объекты и продолжать работу. Так как здесь нет потоков управления, действия могут начинаться сразу после получения первого объекта.  
  
 Обратите внимание, что соединители в этом примере являются потоками объектов, так как по меньшей мере один конец каждого из них находится в узле параметра действия, узле объекта или закреплении ввода или вывода.  
  
 ![Поток данных](../modeling/media/uml-actguidestream.png "UML_ActGuideStream")  
  
 1. В данном примере есть три узла параметра действия, представляющие его вводы и выводы.  
  
 2. Узлы объекта, закрепления ввода и закрепления вывода могут представлять буферы. Чтобы указать, сколько объектов может находиться в буфере одновременно, задайте свойство "Верхняя граница" для узла объекта.  
  
 3. Узлы решений позволяют показать, что поток разделяется и отправляет разные объекты в различные ветви. Пояснить критерии разделения можно с помощью примечаний или заголовков узлов.  
  
 4. Узлы ветвления позволяют показать, что создаются две или больше копий объектов, которые отправляются на параллельную обработку.  
  
 5. Соединительные узлы позволяют показать, что два потока обработки вновь соединяются в один.  
  
### <a name="selection-and-transformation"></a>Выбор и преобразование  
 Объекты в потоке объектов могут преобразовываться, выбираться или и то и другое. Поток объектов — это поток, идущий к закреплению или узлу объекта либо в противоположном направлении.  
  
-   Преобразование описывает, каким образом объекты, входящие в поток, преобразуются в другой тип.  
  
-   Выбор описывает, каким образом только часть объектов, входящих в поток, передается принимающему действию.  
  
 В примере показано преобразование. Первое действие на схеме 1 создает почтовый индекс на закреплении вывода. Он соединяется с закреплением ввода второго действия. При этом второе действие ожидает полный адрес. Преобразование из одного типа в другой задано во второй активности, Address Lookup (Поиск адреса). На него ссылается свойство "Преобразование" потока объектов. Активность Address Lookup содержит узел параметра действия для входящего почтового индекса и узел параметра действия для исходящего полного адреса.  
  
 ![Объект преобразование, определенное на другой схеме](../modeling/media/uml-actguidetransform.png "UML_ActGuideTransform")  
  
 Преобразование или выбор можно задать одним из двух способов:  
  
-   Добавить комментарий к закреплению ввода или вывода.  
  
    -   Чтобы отличить этот комментарий от обычного комментария, можно начать комментарий с <\<**преобразования**>> или <\<**выбора**>>.  
  
-   Подробно описать преобразование или выбор на отдельной схеме активности.  
  
    -   При использовании этого метода также добавьте комментарий с указанием на то, что определено преобразование.  
  
##### <a name="to-specify-a-transformation-or-selection-in-a-separate-activity-diagram"></a>Описание преобразования или выбора на отдельной схеме активности  
  
1.  Создайте новую схему активности для описания потока преобразования или выбора.  
  
    -   В **обозревателе решений**щелкните правой кнопкой мыши проект, выберите **добавить**, нажмите кнопку **новый элемент**, а затем нажмите кнопку **схема активности**. Присвойте схеме имя, соответствующее потоку преобразования или выделения. Нажмите кнопку **Добавить**.  
  
2.  На новой схеме выполните следующие действия.  
  
    1.  Создайте два узла параметра действия, один для входящего потока, второй для выходящего.  
  
    2.  Создайте действия, связанные с потоками объектов. Это показывает, как работает преобразование или выбор.  
  
3.  На любой схеме, где нужно использовать преобразование или выбор, выполните следующие действия.  
  
    1.  Создайте поток объектов, то есть соединитель, ведущий к закреплению ввода или вывода, узлу объекта либо узлу параметра действия или в обратном направлении.  
  
    2.  Щелкните правой кнопкой мыши поток объектов, а затем нажмите кнопку **свойства**.  
  
    3.  В **преобразования** или **выбора** свойства, выберите схему, в которой определяется поток преобразования или выбора.  
  
 Можно также определить выбор для узла объекта и отдельных закреплений ввода и вывода. Определите активность выбора, как в предыдущей процедуре, а затем установите **выбора** свойства узла объекта или закрепления ввода или вывода.  
  
## <a name="see-also"></a>См. также  
 [Изменение моделей и схем UML](../modeling/edit-uml-models-and-diagrams.md)   
 [Схемы последовательностей UML: Справочник по](../modeling/uml-sequence-diagrams-reference.md)   
 [Схемы компонентов UML: Справочник по](../modeling/uml-component-diagrams-reference.md)   
 [Схемы вариантов использования UML: Справочник по](../modeling/uml-use-case-diagrams-reference.md)   
 [UML-схемы классов: ссылка](../modeling/uml-class-diagrams-reference.md)   
 [Схемы компонентов UML: Справочник по](../modeling/uml-component-diagrams-reference.md)   
 [Видео: Записать бизнес-процессов с помощью схемы деятельности](http://channel9.msdn.com/posts/clinted/UML-with-VS-2010-Part-4-Capture-Business-Workflows/)



