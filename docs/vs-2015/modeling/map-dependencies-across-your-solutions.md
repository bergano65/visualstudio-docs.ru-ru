---
title: Сопоставление зависимостей в решениях | Документация Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-tfs-dev14
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: conceptual
f1_keywords:
- vs.progression.codemap
- vs.progression.standardgraphsdialog
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code exploration, dependency graphs
- dependency graphs, exporting
- code exploration, relationships
- DGML
- graph documents
- code visualization [Visual Studio ALM]
- graph documents, saving
- dependencies, visualizing
- dependency graphs, saving
- Visual Studio Ultimate, code visualization
- code, visualizing
- dependency graphs, creating
- dependency graphs
- graph documents, exporting
- code exploration, visualizing
ms.assetid: e04850a2-17c5-459b-93ec-6c74143b3292
caps.latest.revision: 245
author: alexhomer1
ms.author: gewarren
manager: douge
ms.openlocfilehash: f160ff1b8ea66eecaacd4aa7ccccdf1f52bb6134
ms.sourcegitcommit: 240c8b34e80952d00e90c52dcb1a077b9aff47f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/23/2018
ms.locfileid: "49894031"
---
# <a name="map-dependencies-across-your-solutions"></a>Сопоставление зависимостей в разных решениях
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Чтобы разобраться в реализованных в коде зависимостях, визуализируйте их, создав карты кода. Это поможет увидеть, как код сочетается друг с другом без чтения файлов и строк кода.  
  
 ![Просмотр зависимостей во всех решениях](../modeling/media/codemapsmainintro.png "CodeMapsMainIntro")  
  
 **Далее приводится несколько ссылок на видеоролики**:  
  
-   [Выявление зависимостей кода путем визуализации](http://go.microsoft.com/fwlink/?LinkID=252065)  
  
-   [Визуализация влияния изменений](http://go.microsoft.com/fwlink/?LinkID=252068)  
  
-   [Анализ сложного кода с помощью карт кода](http://go.microsoft.com/fwlink/?LinkID=259869)  
  
##  <a name="GetStarted"></a> Начало работы с картами кода  
 **Для работы с картами кода необходим один из следующих ресурсов**:  
  
-   Visual Studio Enterprise: позволяет создавать карты кода в редакторе кода, обозревателе решений, представлении классов или обозревателе объектов.  
  
-   Visual Studio Professional: позволяет открывать карты кода, вносить ограниченные изменения и перемещаться по коду.  
  
> [!WARNING]
>  Прежде чем предоставить общий доступ к картам, созданным в программе Visual Studio Enterprise, пользователям программы Visual Studio Professional, отобразите все элементы на карте, включая скрытые элементы, развернутые группы и связи между группами.  
  
 **Сопоставлять зависимости в коде можно на следующих языках**:  
  
- Visual C# .NET или Visual Basic .NET в решении или сборках (DLL или EXE);  
  
- машинный или управляемый код C или C++ в проектах Visual C++, файлы заголовков (H-файлы или `#include`) или двоичные файлы;  
  
- проекты и сборки X++, созданные из модулей .NET для Microsoft Dynamics AX.  
  
  **Примечание.** В проектах, отличных от проектов C# или Visual Basic .NET, доступно меньше способов создания карты кода или добавления элементов в существующую карту кода. Например, нельзя щелкнуть объект правой кнопкой мыши в редакторе текста проекта C++ и добавить его на карту кода. Однако вы можете перетаскивать отдельные элементы или файлы кода из обозревателя решений, представления классов и обозревателя объектов.  
  
#### <a name="to-see-the-overall-dependencies-across-your-solution"></a>Просмотр зависимостей во всем решении  
  
1.  Откройте меню **Архитектура** .  
  
2.  Если вы только открыли решение и еще не выполняли сборку, а также если с момента прошлой сборки код изменился, выберите пункт **Создать карту кода для решения**.  
  
3.  Если с момента прошлой сборки код не изменился, выберите пункт **Создать карту кода для решения без сборки** (это ускорит создание карты кода).  
  
4.  [Просмотр зависимостей во всем решении](#SeeOverviewSource) позволяет понять, как использовать карты кода для просмотра зависимостей во всем решении.  
  
#### <a name="to-see-specific-dependencies-within-your-solution"></a>Просмотр конкретных зависимостей в решении  
  
1.  Загрузите решение и откройте **обозреватель решений**.  
  
2.  Выберите все интересующие вас проекты, ссылки на сборки, папки, файлы, типы или члены.  
  
3.  На **обозревателе решений** панели инструментов выберите **Показать на карте кода**![создать кнопка "создать граф из выбранных узлов"](../modeling/media/createnewgraphfromselectedbutton.gif "CreateNewGraphFromSelectedButton "). Либо откройте контекстное меню и выберите пункт **Показать на карте кода**. Также можно перетащить элементы из представления классов или обозревателя объектов на новую или уже существующую карту кода.  
  
4.  [Просмотр конкретных зависимостей](#SeeSpecificSource) позволяет понять, как использовать карты кода для просмотра отдельных зависимостей в решении.  
  
###  <a name="CreateEmptyMap"></a> Добавление новой пустой карты кода в решение  
  
1.  В **обозревателе решений**откройте контекстное меню верхнего узла решения. Выберите пункт **Добавить** , а затем пункт **Новый элемент**.  
  
2.  В разделе **Установленные**выберите **Общие**.  
  
3.  В правой области выберите **Документ ориентированных графов** , а затем команду **Добавить**.  
  
     Вы получите пустую карту кода, которая появится в папке **элементов решения** .  
  
#### <a name="to-create-a-new-empty-code-map-without-adding-it-to-your-solution"></a>Создание пустой карты кода без добавления в решение  
  
1.  В меню **Архитектура** выберите пункт **Создать карту кода**.  
  
     \- или -  
  
2.  В меню **Файл** выберите команду **Создать** , а затем пункт **Файл**.  
  
3.  В разделе **Установленные**выберите **Общие**.  
  
4.  В правой области выберите **Документ ориентированных графов** , а затем команду **Открыть**.  
  
     Вы получите пустую карту кода, которая не будет отображаться в папках решения.  
  
##  <a name="SeeOverviewSource"></a> Просмотр зависимостей во всем решении  
  
###  <a name="OverviewSource"></a> Просмотр зависимостей во всем решении  
  
1. В меню **Архитектура** выберите пункт **Создать карту кода для решения**.  
  
    ![Создание команды создания карты кода](../modeling/media/codemapsarchitecturemenu.png "CodeMapsArchitectureMenu")  
  
    Отобразится карта кода со сборками верхнего уровня и совокупными связями между ними. Чем шире совокупная связь, тем больше зависимостей она представляет.  
  
2. Чтобы открыть список значков, обозначающих различные типы проектов (такие как тестовый, веб- или телефонный проект), элементов кода (таких как классы, методы и свойства) и типов отношений (таких как «Наследует от», «"Реализует» и «Вызывает»), нажмите кнопку **Условные обозначения** .  
  
    ![Верхней&#45;графа зависимостей уровня сборок](../modeling/media/dependencygraph-toplevelassemblies.png "DependencyGraph_TopLevelAssemblies")  
  
    Решение в этом примере включает папки решений (**Тесты** и **Компоненты**), тестовые проекты, веб-проекты и сборки. По умолчанию все отношения вложения представляются в виде *групп*, которые можно развернуть и свернуть. Группа **Внешние** содержит объекты вне решения, в том числе зависимости платформы. Во внешних сборках отображаются только используемые элементы. Для удобства системные базовые типы на карте по умолчанию скрыты.  
  
3. Чтобы детализировать карту, разверните группы, представляющие проекты и сборки. Чтобы развернуть все компоненты, выделите все узлы нажатием клавиш **CTRL+A** , а затем последовательно выберите в контекстном меню пункты **Группа**и **Развернуть** .  
  
    ![Развертывание всех групп карта кода](../modeling/media/codemapsexpandallgroups.png "CodeMapsExpandAllGroups")  
  
4. В большом решении это не пригодится. Более того, если решение комплексное, ограничения памяти могут не позволить развернуть все группы. Вместо этого разворачивайте отдельные интересующие вас узлы. Наведите указатель мыши на верхнюю часть узла и нажмите на значок шеврона (стрелка вниз), когда он появится.  
  
    ![Развернув узел на карте кода](../modeling/media/dependencygraph-containment.png "DependencyGraph_Containment")  
  
    Также можно выбрать нужный элемент с помощью клавиатуры и нажать клавишу**+**. Чтобы изучить более глубокие уровни кода, проделайте то же самое для пространств имен, типов и членов.  
  
   > [!TIP]
   >  Дополнительные сведения о работе с кодом сопоставляется с помощью мыши, клавиатуры и жестов см. раздел [Просмотр и реорганизация карт кода](../modeling/browse-and-rearrange-code-maps.md).  
  
5. Чтобы упростить карту и выделить ее отдельные части, выберите **Фильтры** на панели элементов в карте кода и отметьте только те типы узлов и связей, которые вас интересуют. Например, можно скрыть все контейнеры папки решения и сборки.  
  
    ![Упростить карту путем фильтрации контейнеров](../modeling/media/codemapsfilterfoldersassemblies.png "CodeMapsFilterFoldersAssemblies")  
  
    Карты можно также упростить, скрыв или удалив отдельные группы и элементы, но не меняя базовый код решения.  
  
6. Чтобы просмотреть отношения между элементами, выберите их на карте. Цвета связей обозначают типы отношений, как показано на панели **Условные обозначения** .  
  
    ![Просмотр зависимостей во всех решениях](../modeling/media/codemapsmainintro.png "CodeMapsMainIntro")  
  
    В этом примере фиолетовые связи обозначают вызовы, пунктирные — ссылки, а голубые — доступ к полю. Зеленые связи могут представлять наследование, а также *совокупные связи* , обозначающие сразу несколько видов отношений (или *категорий*).  
  
   > [!TIP]
   >  Если отображается зеленая связь, это не обязательно означает наличие только отношения наследования. Это могут быть также вызовы методов, но они скрыты за отношением наследования. Чтобы просмотреть определенные типы связей, скройте ненужные типы с помощью флажков на панели **Фильтры** .  
  
7. Для получения дополнительных сведений об элементе или связи наведите указатель на элемент или связь и дождитесь появления подсказки. Подсказка будет содержать подробные сведения об элементе кода или представляемых связью категориях.  
  
    ![Показать категории связи](../modeling/media/codemapsshowlinkcatgories.png "CodeMapsShowLinkCatgories")  
  
8. Чтобы проверить элементы и зависимости, представленные совокупной связью, выберите связь и откройте ее контекстное меню. Выберите пункт **Показать добавляющие ссылки** (или **Показать добавляющие ссылки на новой карте кода**). Программа развернет группы на обоих концах связи и отобразит только те элементы и зависимости, которые участвуют в связи.  
  
9. Чтобы сосредоточиться на определенных фрагментах карты, удалите все элементы, которые вас пока не интересуют. Например, чтобы получить детализированное представление класса и его членов, просто отфильтруйте все узлы пространства имен на панели **Фильтры** .  
  
     ![Детализация уровня классов и членов](../modeling/media/dependencygraph-expandedselectedgroups-2012.png "DependencyGraph_ExpandedSelectedGroups_2012")  
  
10. Еще один способ концентрации в комплексном решении — это создать новую карту с выбранными элементами существующей карты. Выделите необходимые элементы, удерживая нажатой клавишу **CTRL** , откройте контекстное меню и выберите пункт **Новый граф по выделенному фрагменту**.  
  
     ![Показать выбранные элементы на новой карте кода](../ide/media/codemapsshowonnewmap.png "CodeMapsShowOnNewMap")  
  
11. Выбранные элементы будут добавлены в новую карту вместе с контекстом. Скройте папки решений и другие ненужные контейнеры с помощью панели **Фильтры** .  
  
     ![Фильтрация контейнеров для упрощения просмотра](../modeling/media/codemapsexpandnewgroups.png "CodeMapsExpandNewGroups")  
  
12. Разверните группы и выберите элементы на карте, чтобы просмотреть отношения.  
  
     ![Выберите элементы для просмотра связей](../modeling/media/codemapsviewnewrelationships.png "CodeMapsViewNewRelationships")  
  
    См. также:  
  
-   [Просмотр и реорганизация карт кода](../modeling/browse-and-rearrange-code-maps.md)  
  
-   [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md)  
  
-   Для поиска потенциальных проблем в коде [запустите анализатор](../modeling/find-potential-problems-using-code-map-analyzers.md).  
  
###  <a name="OverviewCompiled"></a> Просмотр зависимостей в сборках или двоичных файлах  
  
1.  [Создайте пустую карту кода](#GetStarted)или откройте существующую карту (файл DGML).  
  
2.  Перетащите на карту необходимые сборки или двоичные файлы, которые хранятся не в Visual Studio. Например, перетащите сборки или двоичные файлы из проводника Windows или проводника.  
  
> [!NOTE]
>  Сборки или двоичные файлы можно перетаскивать из проводника Windows или проводника, только если проводник и Visual Studio запущены на одном уровне разрешений управления доступом на уровне пользователей. Например, если управление доступом на уровне пользователей включено и среда Visual Studio запущена с правами администратора, проводник Windows заблокирует операцию перетаскивания. Чтобы обойти эту проблему, проверьте, совпадают ли уровни разрешений с обеих сторон, или отключите управление доступом на уровне пользователей.  
  
##  <a name="SeeSpecificSource"></a> Просмотр конкретных зависимостей  
 В качестве примера предположим, что нужно выполнить проверку кода в некоторых файлах с ожидающими изменениями. Чтобы просмотреть зависимости в этих изменениях, создайте карту кода на основе этих файлов.  
  
 ![Показать конкретные зависимости на карте кода](../modeling/media/codemapsspecificdependenciesintro.png "CodeMapsSpecificDependenciesIntro")  
  
### <a name="see-specific-dependencies-in-your-solution"></a>Просмотр конкретных зависимостей в решении  
  
1.  Откройте **обозреватель решений**. Выберите проекты, ссылки на сборки, папки, файлы, типы или члены, которые вас интересуют. Чтобы найти элементы, имеющие зависимости от типов и членов, откройте контекстное меню типа или члена в **обозревателе решений**. Выберите тип зависимости, а затем результаты.  
  
2.  Сопоставьте элементы с их членами. На **обозревателе решений** панели инструментов нажмите кнопку **Показать на карте кода**![создать кнопка "создать граф из выбранных узлов"](../modeling/media/createnewgraphfromselectedbutton.gif "CreateNewGraphFromSelectedButton").  
  
     ![Выберите элементы, которые необходимо сопоставить](../modeling/media/codemapsselectinsolutionexplorer.png "CodeMapsSelectInSolutionExplorer")  
  
3.  На картах кода выбранные элементы отображаются в сборках, частью которых они являются.  
  
     ![Выбранные элементы показаны как группы на карте](../modeling/media/codemapsshowitemsfromsolnexplorer.png "CodeMapsShowItemsFromSolnExplorer")  
  
     Также можно перетащить элементы из обозревателя решений, представления классов или обозревателя объектов на новую или уже существующую карту кода. Инструкции по созданию пустой карты см. в разделе [Создание пустой карты кода](#GetStarted). Чтобы включить родительскую иерархию для элементов, перетащите элементы, нажав и удерживая клавишу **CTRL** , или нажмите кнопку **Включить родительские элементы** на панели инструментов карты кода и укажите действие по умолчанию.  
  
    > [!NOTE]
    >  Если добавить элементы из проекта, который совместно используется несколькими приложениями, такими как Windows Phone или Магазин Windows, эти элементы отобразятся на карте с текущим активным проектом приложения. Если изменить контекст на другой проект приложения и добавить дополнительные элементы из общего проекта, эти элементы отобразятся на карте с новым активным проектом приложения. Операции, выполняемые с элементом на карте, применяются только к тем элементам, которые имеют общий контекст.  
  
4.  Для исследования элементов разверните их. Наведите указатель мыши на элемент и щелкните значок шеврона (стрелка вниз), когда он появится.  
  
     ![Развернув узел на карте кода](../modeling/media/dependencygraph-containment.png "DependencyGraph_Containment")  
  
     Чтобы развернуть все элементы, выберите их с помощью клавиш **CTRL+A**, откройте контекстное меню для карты кода и последовательно выберите пункты **Группа**, **Развернуть**. Этот параметр недоступен, если при развертывании всех групп карта кода станет непригодна к использованию или возникнут проблемы с памятью.  
  
5.  Продолжайте разворачивать интересующие вас элементы вплоть до уровня классов и членов, если это понадобится.  
  
     ![Развернуть группы до уровня классов и членов](../modeling/media/codemapsexpandtoclassandmember.png "CodeMapsExpandToClassAndMember")  
  
     Чтобы просмотреть элементы, которые существуют в коде, но не отображаются на карте, щелкните **повторно извлечь дочерние элементы** значок ![повторно извлечь дочерние элементы значок](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon") в верхней части левом углу группы.  
  
6.  Для просмотра дополнительных элементов, связанных с элементами на карте, выделите нужный элемент и выберите команду **Показать связанные** на панели инструментов карты кода. После этого выберите тип связанных элементов, которые нужно добавить на карту. Также можно выбрать один или несколько элементов, открыть контекстное меню и выбрать пункт **Показать...** для типа связанных элементов, которые нужно добавить на карту. Пример:  
  
     Для **сборки**выберите пункт:  
  
    |||  
    |-|-|  
    |**Показать сборки, на которые ссылается эта сборка**|Добавьте сборки, на которые ссылается данная сборка. Внешние сборки приводятся в группе **Внешние** .|  
    |**Показать сборки, которые ссылаются на эту сборку**|Добавьте в решение сборки, которые ссылаются на данную сборку.|  
  
     Для **пространства имен**выберите пункт **Показать содержащую сборку**, если она еще не открыта.  
  
     Для **класса** или **интерфейса**выберите пункт:  
  
    |||  
    |-|-|  
    |**Показать базовые типы**|Для класса добавьте базовый класс и реализованные интерфейсы.<br /><br /> Для интерфейса добавьте базовые интерфейсы.|  
    |**Показать производные типы**|Для класса добавьте производные классы.<br /><br /> Для интерфейса добавьте производные интерфейсы и реализующие классы или структуры.|  
    |**Показать типы, на которые ссылается этот тип**|Добавьте все классы и их члены, используемые данным классом.|  
    |**Показать типы, которые ссылаются на этот тип**|Добавьте все классы и их члены, которые используют данный класс.|  
    |**Показать содержащее пространство имен**|Добавьте родительское пространство имен.|  
    |**Показать содержащие пространство имен и сборку**|Добавьте родительскую иерархию контейнера.|  
    |**Показать все базовые типы**|Рекурсивно добавьте иерархию базовых классов или интерфейсов.|  
    |**Показать все производные типы**|Для класса рекурсивно добавьте все производные классы.<br /><br /> Для интерфейса рекурсивно добавьте все производные интерфейсы и реализующие классы или структуры.|  
  
     Для **метода**выберите пункт:  
  
    |||  
    |-|-|  
    |**Показать методы, вызываемые этим методом**|Добавьте методы, вызываемые данным методом.|  
    |**Показать поля, на которые ссылается это поле**|Добавьте поля, на которые ссылается данный метод.|  
    |**Показать содержащий тип**|Добавьте родительский тип.|  
    |**Показать содержащие тип, пространство имен и сборку**|Добавьте родительскую иерархию контейнера.|  
    |**Показать переопределенные методы**|Для метода, переопределяющего другие методы или реализующего метод интерфейса, добавьте все абстрактные или виртуальные методы в переопределенные базовые классы и реализованный метод интерфейса (если имеется).|  
  
     Для **поля** или **свойства**выберите пункт:  
  
    |||  
    |-|-|  
    |**Показать содержащий тип**|Добавьте родительский тип.|  
    |**Показать содержащие тип, пространство имен и сборку**|Добавьте родительскую иерархию контейнера.|  
  
     ![Показать методы, вызванные этим членом](../modeling/media/codemapsshowrelatedmethods.png "CodeMapsShowRelatedMethods")  
  
7.  На карте показаны отношения. В этом примере методы вызываются методом `Find` и находятся в решении или за его пределами.  
  
     ![Показать конкретные зависимости на карте кода](../modeling/media/codemapsspecificdependenciesintro.png "CodeMapsSpecificDependenciesIntro")  
  
8.  Чтобы упростить карту и выделить ее отдельные части, выберите **Фильтры** на панели элементов в карте кода и отметьте только те типы узлов и связей, которые вас интересуют. Например, отключите отображение папок решения, сборок и пространств имен.  
  
     ![Используйте панель «Фильтр» для упрощения отображения](../modeling/media/almcodemapfilterpane.png "ALMCodeMapFilterPane")  
  
##  <a name="SeeSourceHeader"></a> Просмотр зависимостей между исходными файлами C и C++ и файлами заголовков  
 Если нужно создать более полные карты для проектов C++, установите в этих проектах параметр компилятора для просмотра информации (**/FR**). См. раздел [/FR, /Fr (Create .Sbr File)](http://msdn.microsoft.com/library/3fd8f88b-3924-4feb-9393-287036a28896). В противном случае отобразится запрос на установку этого параметра. При нажатии кнопки **ОК**этот параметр будет установлен только для текущей карты. Вы можете скрыть это сообщение для всех последующих карт. Если это сообщение было скрыто, можно снова сделать его видимым. Установите значение `0` для следующего раздела реестра или удалите этот раздел:  
  
 **HKEY_CURRENT_USER\Software\Microsoft\VisualStudio\14.0\NativeProvider: AutoEnableSbr**  
  
 При открытии решения, содержащего проекты Visual C++, обновление базы данных IntelliSense может занять некоторое время. При этом создание карт кода для файлов заголовков (H или `#include`) может оказаться невозможным до тех пор, пока не завершится обновление базы данных IntelliSense. Вы можете наблюдать за ходом обновления в строке состояния Visual Studio. Сведения о разрешении проблем или сообщений, которые появляются потому, что некоторые параметры IntelliSense отключены, см. в разделе [Устранение неполадок в картах для кода C и C++](#Troubleshooting).  
  
-   Чтобы просмотреть зависимости между всеми исходными файлами и файлами заголовков в решении, в меню **Архитектура** выберите пункт **Создать диаграмму включаемых файлов**.  
  
     ![Граф зависимостей для машинного кода](../modeling/media/dependencygraphgeneral-nativecode.png "DependencyGraphGeneral_NativeCode")  
  
-   Чтобы просмотреть зависимости между открытым файлом и связанными с ним исходными файлами и файлами заголовков, откройте либо исходный файл, либо файл заголовка. Откройте контекстное меню в любом месте файла. Выберите пункт **Создать диаграмму включаемых файлов**.  
  
     ![Первый&#45;граф зависимостей уровня для h-файл](../modeling/media/dependencygraph-native-firstlevel.png "DependencyGraph_Native_FirstLevel")  
  
###  <a name="Troubleshooting"></a> Устранение неполадок в картах для кода C и C++  
 Для кода C и C++ не поддерживаются указанные ниже элементы.  
  
- Базовые типы не отображаются на картах, включающих родительскую иерархию.  
  
- Большинство пунктов меню **Показать** недоступны для кода C и C++.  
  
  При создании карт для кода C и C++ могут возникать перечисленные ниже проблемы.  
  
|**Проблема**|**Возможная причина**|**Решение**|  
|---------------|------------------------|--------------------|  
|Не удалось создать карту кода.|Отсутствуют успешно собранные проекты в решении.|Устраните возникшие ошибки сборки и создайте карту кода заново.|  
|[!INCLUDE[vsprvs](../includes/vsprvs-md.md)] не отвечает при попытке создать карту кода из меню **Архитектура** .|Файл базы данных программы (PDB) может быть поврежден.<br /><br /> В PDB-файле хранятся сведения для отладки, такие как сведения о типе, методе и исходном файле.|Выполните сборку решения еще раз и повторите попытку.|  
|Некоторые параметры базы данных обзора IntelliSense отключены.|Возможно, отключены некоторые параметры IntelliSense в диалоговом окне [!INCLUDE[vsprvs](../includes/vsprvs-md.md)]**в** .|Включите нужные параметры.<br /><br /> См. в разделе [параметры "," Текстовый редактор "," C/C++, Дополнительно](../ide/reference/options-text-editor-c-cpp-advanced.md).|  
|В узле методов выводится сообщение **Неизвестные методы** .<br /><br /> Эта проблема возникает из-за невозможности разрешить имя метода.|Возможно, в двоичном файле отсутствует базовая таблица перемещений.|Включите параметр **/FIXED:NO** в компоновщике.<br /><br /> См. раздел [/FIXED (Fixed Base Address)](http://msdn.microsoft.com/library/929bba5e-b7d8-40ed-943e-056aa3710fc5).|  
||Возможно, не выполнена сборка файла базы данных программы (PDB).<br /><br /> В PDB-файле хранятся сведения для отладки, такие как сведения о типе, методе и исходном файле.|Включите параметр **/DEBUG** в компоновщике.<br /><br /> См. раздел [/DEBUG (Generate Debug Info)](http://msdn.microsoft.com/library/1af389ae-3f8b-4d76-a087-1cdf861e9103).|  
||Невозможно открыть или найти PDB-файл в ожидаемом местоположении.|Убедитесь в том, что PDB-файл существует в ожидаемом местоположении.|  
||Сведения, необходимые для отладки, удалены из PDB-файла.|Если в компоновщике использовался параметр **/PDBSTRIPPED** , включите полный PDB-файл.<br /><br /> См. раздел [/PDBSTRIPPED (Strip Private Symbols)](http://msdn.microsoft.com/library/9b9e0070-6a13-4142-8180-19c003fbbd55).|  
||Вызывающий объект не является функцией и представляет собой либо преобразователь в двоичном файле, либо указатель в разделе данных.|Если вызывающим методом является преобразователь, попробуйте использовать `_declspec(dllimport)`, чтобы избежать преобразования.<br /><br /> Пример<br /><br /> -   [Общие правила и ограничения](http://msdn.microsoft.com/library/6c48902d-4259-4761-95d4-e421d69aa050)<br />-   [Импорт вызовов функций, с помощью объявления __declspec(dllimport)](http://msdn.microsoft.com/library/6b53c616-0c6d-419a-8e2a-d2fff20510b3)<br />-   [dllexport, dllimport](http://msdn.microsoft.com/library/ff95b645-ef55-4e72-b848-df44657b3208)|  
  
##  <a name="RenderMoreQuickly"></a> Повышение скорости отрисовки карты кода  
 При создании карты кода в первый раз Visual Studio индексирует все найденные зависимости. Этот процесс может занять некоторое время, особенно для больших решений, но улучшает производительность в будущем. При изменении кода Visual Studio повторно индексирует только обновленный код. Чтобы сократить время, необходимое для отрисовки карты, соблюдайте приведенные ниже правила.  
  
- [Включайте в карту только те зависимости, которые вас интересуют.](#SeeSpecificSource)  
  
- Прежде чем создавать карту для всего решения, сократите область решения.  
  
- Отключите автоматическую сборку для решения с помощью кнопки **Пропустить сборку** на панели инструментов карты кода.  
  
- Отключите автоматическое добавление родительских элементов с помощью кнопки **Включить родительские элементы** на панели инструментов карты кода.  
  
- Удалите ненужные узлы и ссылки, отредактировав файл карты кода. Изменение карты не влияет на базовый код. См. раздел [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md).  
  
  ![Кнопки "Пропуск сборки" и "Включить родительские элементы](../modeling/media/codemapsfilterskipbuildicons.png "CodeMapsFilterSkipBuildIcons")  
  
  Хотя Visual Studio может выполняться при наличии 1 ГБ памяти, рекомендуется, чтобы на компьютере было по крайней мере 2 ГБ памяти во избежание длительных задержек во время создания индекса кода и формирования карты кода в Visual Studio.  
  
  Если для свойства **Копировать в выходной каталог** задано значение **Всегда копировать**, создание карты кода или добавление элементов в нее из обозревателя решений займет какое-то время. Это может привести к проблемам с добавочными сборками и к тому, что Visual Studio будет выполнять повторную сборку проекта каждый раз. Чтобы повысить производительность, измените значение этого свойства на **Копировать более позднюю версию** или `PreserveNewest`. См. раздел [Incremental Builds](../msbuild/incremental-builds.md).  
  
  В готовой карте будут отображаться зависимости только для успешно собранного кода. Если при создании каких-либо компонентов возникли ошибки сборки, они будут показаны на карте. Прежде чем принимать решения в отношении архитектуры на основании построенной карты кода, убедитесь в том, что компонент действительно создан и имеет зависимости.  
  
##  <a name="SavingExporting"></a> Совместное использование карт кода  
  
### <a name="share-the-map-with-other-visual-studio-users"></a>Совместное использование карты с другими пользователями Visual Studio  
 Для сохранения карты используйте меню **Файл** .  
  
 - или -  
  
 Чтобы сохранить карту кода как часть определенного проекта, на панели инструментов карты последовательно выберите пункты **Совместный доступ**и **Переместить** \<*Имя_карты_кода*>**.dgml в**и укажите проект, в котором нужно сохранить карту.  
  
 ![Переместите карту в другой проект](../modeling/media/codemapsmovemapmenu.png "CodeMapsMoveMapMenu")  
  
 Visual Studio сохранит карту в виде файла DGML, к которому вы можете предоставить доступ другим пользователям Visual Studio Enterprise и Visual Studio Professional.  
  
> [!NOTE]
>  Перед тем как предоставить общий доступ к карте пользователям Visual Studio Professional, разверните все группы, отобразите скрытые узлы и связи между группами и извлеките все удаленные узлы, которые нужно показать другим пользователям. В противном случае другие пользователи не увидят эти элементы.  
>   
>  При сохранении карты, находящейся в проекте моделирования или скопированной из такого проекта в другое место, может возникнуть следующая ошибка:  
>   
>  «Невозможно сохранить *имяФайла* вне каталога проекта. Связанные элементы не поддерживаются.»  
>   
>  Visual Studio выводит ошибку, но в любом случае создает сохраненную версию. Чтобы избежать этой ошибки, создавайте карту вне проекта моделирования. Затем ее можно сохранить в нужном месте. Простое копирование файла в другое место в решении и последующая попытка сохранения не помогают.  
  
### <a name="export-the-map-as-an-image-so-you-can-copy-it-into-other-applications-such-as-microsoft-word-or-powerpoint"></a>Экспорт карты как изображения для копирования в другие приложения, например Microsoft Word или PowerPoint  
  
1.  На панели инструментов карты кода последовательно выберите пункты **Совместный доступ**, **Отправить по электронной почте как изображение** или **Копировать изображение**.  
  
2.  Вставьте изображение в другое приложение.  
  
### <a name="export-the-map-as-an-xps-file-so-you-can-see-it-in-xml-or-xaml-viewers-like-internet-explorer"></a>Экспорт карты как файла XPS для просмотра в программе для работы с XML или XAML, например в Internet Explorer  
  
1.  На панели инструментов карты кода последовательно выберите пункты **Совместный доступ**, **Отправить по электронной почте как документ Portable XPS** или **Сохранить как документ Portable XPS**.  
  
2.  Выберите место для сохранения файла.  
  
3.  Укажите имя для карты кода. Убедитесь, что **тип** поле появляется текст **XPS-файлы (\*.xps)**. Нажмите кнопку **Сохранить**.  
  
## <a name="what-else-can-i-do"></a>Что еще можно сделать?  
  
-   [Использование карт кода для отладки приложений](../modeling/use-code-maps-to-debug-your-applications.md)  
  
-   [Сопоставление методов в стеке вызовов при отладке](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md)  
  
-   [Поиск потенциальных проблем с помощью анализаторов карт кода](../modeling/find-potential-problems-using-code-map-analyzers.md)  
  
-   [Просмотр и реорганизация карт кода](../modeling/browse-and-rearrange-code-maps.md)  
  
-   [Настройка карт кода путем редактирования DGML-файлов](../modeling/customize-code-maps-by-editing-the-dgml-files.md)



