---
title: Устранение определенных ошибок в развертываниях ClickOnce | Документация Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-deployment
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- Microsoft.VisualStudio.Publish.ClickOnceProvider.ErrorPrompt.UncRequired
- Microsoft.VisualStudio.Publish.ClickOnceProvider.ErrorPrompt.NoInstallUrl
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- deploying applications, ClickOnce
- troubleshooting ClickOnce deployments
- ClickOnce deployment, troubleshooting
ms.assetid: 22dfe8f1-8271-4708-9c25-6bbb13920ac8
caps.latest.revision: 15
author: mikejo5000
ms.author: mikejo
manager: wpickett
ms.openlocfilehash: d0b7e53eba21372641bad683c442e796648a4765
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2018
ms.locfileid: "49213646"
---
# <a name="troubleshooting-specific-errors-in-clickonce-deployments"></a>Устранение неполадок, приводящих к определенным ошибкам в развертываниях ClickOnce
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

В этом разделе перечислены следующие распространенные ошибки, которые могут возникнуть при развертывании [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] приложения, а также шаги по устранению каждой проблемы.  
  
## <a name="general-errors"></a>Общие ошибки  
  
#### <a name="when-you-try-to-locate-an-application-file-nothing-occurs-or-xml-renders-in-internet-explorer-or-you-receive-a-run-or-save-as-dialog-box"></a>При попытке найти файл приложения, ничего не происходит, XML-данные визуализируются в Internet Explorer или появляется диалоговое окно выполнения или сохранить как  
 Эта ошибка, скорее всего вызвана типы содержимого (также известные как типы MIME) не зарегистрирован правильно на сервере или клиенте.  
  
 Во-первых убедитесь, что сервер настроен для связи с типом содержимого «application/x-ms приложение» расширением .application.  
  
 Если сервер настроен правильно, убедитесь, что [!INCLUDE[dnprdnlong](../includes/dnprdnlong-md.md)] установлен на компьютере. Если [!INCLUDE[dnprdnlong](../includes/dnprdnlong-md.md)] установлен, и вы по-прежнему видите эту проблему, попробуйте удалить и переустановить [!INCLUDE[dnprdnlong](../includes/dnprdnlong-md.md)] необходимо повторно зарегистрировать тип содержимого на клиенте.  
  
#### <a name="error-message-says-unable-to-retrieve-application-files-missing-in-deployment-or-application-download-has-been-interrupted-check-for-network-errors-and-try-again-later"></a>Появляется сообщение об ошибке «не удалось получить приложение. Файлы, отсутствующие в развертывании» или «загрузка приложения было прервано, проверьте наличие ошибок сети и повторите попытку позже»  
 Это сообщение указывает, что один или несколько файлов, на которую ссылается [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] манифесты не могут быть загружены. Самый простой способ устранения этой ошибки — в попытке загрузить URL-адрес, [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] говорит: не удается загрузить. Ниже приведены некоторые возможные причины:  
  
-   Если файл журнала пишет «(403) запрещено» или «(404) не найден» убедитесь, что веб-сервер настроен таким образом, чтобы он не блокирует загрузку этого файла. Дополнительные сведения см. в разделе [Вопросы настройки сервера и клиента в развертываниях ClickOnce](../deployment/server-and-client-configuration-issues-in-clickonce-deployments.md).  
  
-   Если config-файл заблокирован на сервере, см. в разделе «Ошибка загрузки при попытке установить [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] приложения, которое имеет файл конфигурации» далее в этом разделе.  
  
-   Определить, является ли это произошло, так как `deploymentProvider` URL-адрес в манифест развертывания указывает на разных местоположениях URL-адрес, используемый для активации.  
  
-   Убедитесь, что все файлы присутствуют на сервере; [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] журнала следует определить, какой файл не найден.  
  
-   См. в статье, есть ли проблемы с сетевым подключением; Вы можете получили это сообщение, если клиентский компьютер перешел в автономный режим во время загрузки.  
  
#### <a name="download-error-when-you-try-to-install-a-clickonce-application-that-has-a-config-file"></a>Ошибка загрузки при попытке установки приложения ClickOnce, в которой есть файл .config  
 По умолчанию приложения на основе Windows в Visual Basic включает файл App.config. Будет существовать проблема при попытке установить с веб-сервера, который использует Windows Server 2003, так как операционная система блокирует установку файлов .config по соображениям безопасности. Чтобы включить файл .config для установки, нажмите кнопку **использовать расширение файла «.deploy»** в **параметры публикации** диалоговое окно.  
  
 Также необходимо задать типы содержимого (также известные как типы MIME) соответствующим образом .application ",".manifest "и".deploy файлы. Дополнительные сведения см. документацию сервера.  
  
 Дополнительные сведения см. в разделе «Windows Server 2003: заблокированной типы содержимого» в [Server вопросы настройки и клиента в развертываниях ClickOnce](../deployment/server-and-client-configuration-issues-in-clickonce-deployments.md).  
  
#### <a name="error-message-application-is-improperly-formatted-log-file-contains-xml-signature-is-invalid"></a>Сообщение об ошибке: «Приложение неправильно отформатировано»; Файл журнала содержит «Недопустимая подпись XML»  
 Убедитесь, что файла манифеста обновлен и подпишите его еще раз. Повторно опубликуйте приложение с помощью [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] или используйте Mage, чтобы подписать приложение еще раз.  
  
#### <a name="you-updated-your-application-on-the-server-but-the-client-does-not-download-the-update"></a>Вы обновили приложение на сервере, но клиент не загрузит обновления  
 Эту проблему можно устранить, выполнив одну из следующих задач:  
  
-   Изучите `deploymentProvider` URL-адрес в манифест развертывания. Убедитесь, что вы обновляете биты в том же расположении, `deploymentProvider` указывает.  
  
-   Проверьте интервал обновления в манифесте развертывания. Если этот интервал задается на основе периодических интервалов, например один раз каждые шесть часов, [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] не будет применять обновления пока не истечет этот интервал. Вы можете изменить манифест, чтобы искать обновление при каждом запуске приложения. Изменение интервала обновления — удобный параметр во время разработки для проверки установки обновлений, но он замедляет активацию приложения.  
  
-   Попробуйте еще раз запустить приложение в меню "Пуск". [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] Возможно, обнаружен обновления в фоновом режиме, но предложит установить при следующей активации.  
  
#### <a name="during-update-you-receive-an-error-that-has-the-following-log-entry-the-reference-in-the-deployment-does-not-match-the-identity-defined-in-the-application-manifest"></a>Во время обновления возникнет ошибка, имеющий следующий записи журнала: «ссылка в развертывании не соответствует удостоверению, определенному в манифесте приложения»  
 Эта ошибка может возникать изменено вручную манифестов развертывания и приложения и привели описание удостоверения сборки в один манифест для перестанут синхронизироваться с другими. Удостоверение сборки состоит из его имя, версию, язык и региональные параметры и маркер открытого ключа. Проверьте описания удостоверений в манифестах и устраните все различия.  
  
#### <a name="first-time-activation-from-local-disk-or-cd-rom-succeeds-but-subsequent-activation-from-start-menu-does-not-succeed"></a>Успешной активации с локального диска или компакт-диска первый раз, но последующие активации из меню "Пуск" завершилась с ошибками  
 [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] использует URL-адрес поставщика развертывания для получения обновлений для приложения. Проверьте правильность расположения, который указывает URL-адрес.  
  
#### <a name="error-cannot-start-the-application"></a>Ошибка: «не удается запустить приложение»  
 Это сообщение об ошибке обычно указывает на наличие проблемы с установкой нашему приложению легкий привкус [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] хранения. Произошла ошибка в приложении, либо повреждено хранилище. Файл журнала может сообщать, где произошла ошибка.  
  
 Вы должны сделайте следующее:  
  
-   Убедитесь, что идентификатор манифеста развертывания, удостоверения манифеста приложения, а идентификатор основного EXE приложения все уникальные.  
  
-   Убедитесь, что путей к файлам не длиннее 100 символов. Если приложение содержит пути к файлам, которые имеют слишком большую длину, может превысить ограничения в отношении максимального пути, который можно сохранить. Попробуйте сократить пути и переустановить.  
  
#### <a name="privatepath-settings-in-application-config-file-are-not-honored"></a>Параметры PrivatePath в файле конфигурации приложения не учитываются  
 Чтобы использовать PrivatePath (исследовательских путей Fusion), приложение должно запросить разрешение полного доверия. Попробуйте изменить манифест приложения, чтобы запросить полное доверие, а затем повторите попытку.  
  
#### <a name="during-uninstall-a-message-appears-saying-failed-to-uninstall-application"></a>Во время удаления появляется сообщение: «Не удалось удалить приложение»  
 Это сообщение обычно указывает, что приложение уже был удален или поврежден хранилище. После того как вы щелкнете **ОК**, **Установка и удаление программ** запись будет удалена.  
  
#### <a name="during-installation-a-message-appears-that-says-that-the-platform-dependencies-are-not-installed"></a>Во время установки выводится сообщение, не установлены зависимости платформы  
 Отсутствует необходимое условие в глобальном кэше СБОРОК (глобальный кэш сборок), необходимые для выполнения приложения.  
  
## <a name="publishing-with-visual-studio"></a>Публикация с помощью Visual Studio  
  
#### <a name="publishing-in-visual-studio-fails"></a>Не удается выполнить публикацию в Visual Studio  
 Убедитесь, что у вас есть право публикации на сервере вы используете. Например если вы вошли на компьютер сервера терминалов, как обычный пользователь, не будучи администратором, вы, вероятно, не будет права, необходимые для публикации в локальном веб-сервере.  
  
 При публикации с URL-адрес, убедитесь, что конечный компьютер имеет включены серверные расширения FrontPage.  
  
#### <a name="error-message-unable-to-create-the-web-site-site-the-components-for-communicating-with-frontpage-server-extensions-are-not-installed"></a>Сообщение об ошибке: Не удалось создать веб-сайт "\<сайта >". Компоненты взаимодействия с серверными расширениями FrontPage не установлены.  
 Убедитесь, что у вас есть Microsoft Visual Studio Web Authoring компонента, установленного на компьютере, на котором выполняется публикация из. Для пользователей Express этот компонент не устанавливается по умолчанию. Дополнительные сведения см. на веб-сайте [http://go.microsoft.com/fwlink/?LinkId=102310](http://go.microsoft.com/fwlink/?LinkId=102310).  
  
#### <a name="error-message-could-not-find-file-microsoftwindowscommon-controls-version6000-culture-publickeytoken6595b64144ccf1df-processorarchitecture-typewin32"></a>Сообщение об ошибке: Не удалось найти файл "Microsoft.Windows.Common-элементы управления, Version = 6.0.0.0, язык и региональные параметры = *, PublicKeyToken = 6595b64144ccf1df, ProcessorArchitecture =\*, тип = win32"  
 Это сообщение об ошибке появляется при попытке публикации приложения WPF с включенными визуальными стилями. Чтобы устранить эту проблему, см. в разделе [как: публикация приложения WPF с поддержкой Visual стили](../deployment/how-to-publish-a-wpf-application-with-visual-styles-enabled.md).  
  
## <a name="using-mage"></a>С помощью Mage  
  
#### <a name="you-tried-to-sign-with-a-certificate-in-your-certificate-store-and-a-received-blank-message-box"></a>Предпринята попытка подписать с помощью сертификата в хранилище сертификатов и получено пустое поле сообщения  
 В **подписывание** диалоговое окно, вы должны:  
  
-   Выберите **входа, сохраненным сертификатом**, и  
  
-   Выберите сертификат из списка; первый сертификат не является параметром по умолчанию.  
  
#### <a name="clicking-the-dont-sign-button-causes-an-exception"></a>Нажатие кнопки «Не подписывать» приводит к возникновению исключения  
 Это вызвано известной ошибкой. Все [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] манифесты — это должен быть подписан. Просто выберите один из вариантов подписания, а затем нажмите кнопку **ОК**.  
  
## <a name="additional-errors"></a>Дополнительные сведения об ошибках  
 В следующей таблице приведены некоторые распространенные сообщения об ошибках, которые пользователь клиентского компьютера может появиться, когда пользователь устанавливает [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] приложения. Каждое сообщение об ошибке отображается рядом с описание наиболее вероятная причина ошибки.  
  
|Сообщение об ошибке|Описание|  
|-------------------|-----------------|  
|Невозможно запустить приложение. Обратитесь к издателю приложения.<br /><br /> Не удается запустить приложение. Для получения помощи обратитесь к поставщику приложения.|Это общие сообщения об ошибках, которые возникают, если не удается запустить приложение, и нет особых причин можно найти. Часто это означает, что приложение каким-то образом поврежден, или который [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] повреждено хранилище.|  
|Не удается продолжить. Приложение имеет неправильный формат. Для получения помощи обратитесь к издателю приложения.<br /><br /> Не удалось выполнить проверку приложения. Не удается продолжить.<br /><br /> Не удалось получить файлы приложения. Файлы повреждены в развертывании.|Один из файлов манифеста в развертывании синтаксически не является допустимым или содержит хэш, который не согласуется с соответствующим файлом. Эта ошибка также может означать повреждение манифеста, встроенного в сборку. Повторно создайте развертывание и выполните повторную компиляцию приложения или найти и исправить ошибки вручную в манифестах.|  
|Не удалось получить приложение. Ошибка проверки подлинности.<br /><br /> Не удалось выполнить установку приложения. Не удается найти файлы приложений на сервере. Обратитесь к издателю приложения или администратору для получения помощи.|Не удается загрузить один или несколько файлов в развертывании, поскольку у вас нет разрешения на доступ к ним. Это может быть вызвано ошибка 403 Forbidden, возвращаемом веб-сервера, которые могут произойти, если один из файлов в развертывании заканчивается расширением, считать его защищенный файл веб-сервера. Кроме того чтобы получить доступ к каталог, содержащий один или несколько файлов приложения может потребоваться имя пользователя и пароль.|  
|Не удается загрузить приложение. Приложения отсутствуют необходимые файлы. Обратитесь за помощью к поставщику или системному администратору.|Не удается найти один или несколько файлов, перечисленных в манифесте приложения на сервере. Убедитесь, что отправили зависимые файлы развертывания и повторите попытку.|  
|Не удалось выполнить загрузку приложения. Проверьте сетевое подключение, или обратитесь к системному администратору или поставщика сетевых услуг.|[!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] не удается установить сетевое подключение к серверу. Проверьте доступность сервера и состояние сети.|  
|URLDownloadToCacheFile завершилась с ошибкой HRESULT "\<номер >". Ошибка при попытке скачать "\<файл >".|Если пользователь установил расширенной безопасности Internet Explorer параметр «Предупреждать о переключении безопасный и режима безопасности» на конечном компьютере развертывания, и в том случае, если URL-адрес установки приложения ClickOnce, перенаправляется из незащищенному каналу на безопасный сайт (или и наоборот), установка завершится ошибкой, поскольку прервет предупреждение Internet Explorer.<br /><br /> Чтобы устранить эту проблему, выполните одно из следующих действий.<br /><br /> -Снимите флажок параметра безопасности.<br />-Убедитесь в том, что URL-адреса установки не перенаправляется таким образом, что изменения режима безопасности.<br />-Полностью удалите перенаправление и укажите URL-адрес самой установки.|  
|Ошибка записи на диск. Может существовать недостаточно места на диске. Обратитесь за помощью к поставщику или системному администратору.|Возможно, недостаточно места на диске для хранения приложения, но это может также указывать более Общая ошибка ввода-вывода, когда вы пытаетесь сохранить файлы приложения на диск.|  
|Не удается запустить приложение. Не недостаточно свободного места на диске.|Жесткий диск заполнен. Очистите место и попробуйте снова запустить приложение.|  
|Слишком много развернутых активаций пытаются загрузить за один раз.|[!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] ограничение на количество различных приложений, которые могут запускаться в то же время. Именно так в основном для защиты от вредоносных попыток проведения атак типа "отказ в обслуживании" локальной нацеленных на [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] службы; пользователи, которые попытаются запустить то же приложение несколько раз, в быстрой последовательности, сводится с одним экземпляром приложение.|  
|Не удается активировать ярлыки по сети.|Сочетания клавиш для [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] приложение можно запустить только на локальном жестком диске. Они не удается запустить, открыв URL-адрес, указывающий на файл ярлыка на удаленном сервере.|  
|Приложение слишком велик для работы в интерактивном режиме с частичным доверием. Обратитесь за помощью к поставщику или системному администратору.|Приложения, работающего в режиме частичного доверия, не может быть больше половины размера квоты интерактивных приложений, который по умолчанию — 250 МБ.|  
  
## <a name="see-also"></a>См. также  
 [Развертывание и безопасность технологии ClickOnce](../deployment/clickonce-security-and-deployment.md)   
 [Устранение неполадок развертывания ClickOnce](../deployment/troubleshooting-clickonce-deployments.md)



