---
title: Практическое руководство. Управление обновлениями для ClickOnce-приложения | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-deployment
ms.topic: conceptual
f1_keywords:
- Microsoft.VisualStudio.Publish.ClickOnceProvider.Dialog.Update
dev_langs:
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, managing applications
- ClickOnce deployment, updates
- updating data, ClickOnce
- application updates
ms.assetid: a3f23f05-e7f1-4620-b23c-2d68f9643684
caps.latest.revision: 15
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 9781745af5d65d497652002c9afcd8132058ffb6
ms.sourcegitcommit: 8b538eea125241e9d6d8b7297b72a66faa9a4a47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "58992797"
---
# <a name="how-to-manage-updates-for-a-clickonce-application"></a>Практическое руководство. Управление обновлениями для приложения ClickOnce
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

[!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] приложения могут проверять обновления автоматически или программным способом. Как разработчик у вас есть множество гибко указывать время и способ обновления проверок, обязательных обновлений и где приложение должно проверять наличие обновлений.  
  
 Можно настроить приложение для проверки наличия обновлений автоматически до запуска приложения или через заданные интервалы времени, после запуска приложения. Кроме того, можно указать минимальную требуемую версию; то есть если версия пользователя меньше требуемой версии установки обновления.  
  
 Можно настроить приложение для проверки наличия обновлений программным способом на основании события, такого как запрос пользователя. В процедуре «программным образом проверить наличие обновлений» в этом разделе показано, как написать код, использующий <xref:System.Deployment.Application.ApplicationDeployment> класс для проверки наличия обновлений на основе события.  
  
 Можно также развернуть приложение из одного расположения и обновить его из другого. См. в процедуре «, чтобы указать расположение другое обновление.»  
  
 Дополнительные сведения см. в разделе [Выбор стратегии обновления ClickOnce](../deployment/choosing-a-clickonce-update-strategy.md).  
  
 Поведение обновления управляется в **обновления приложения** диалоговое окно, доступных из **публикации** странице **конструктора проектов.**  
  
### <a name="to-check-for-updates-before-the-application-starts"></a>Чтобы проверить наличие обновлений перед запуском приложения  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Перейдите на вкладку **Публикация**.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалоговом окне убедитесь, что **приложение должно проверять наличие обновлений** установлен флажок.  
  
5.  В **выбрать, когда приложение должно проверять наличие обновлений** выберите **перед запуском приложения**. Это гарантирует, что пользователи, подключенные к сети, всегда запустите приложение с последними обновлениями.  
  
### <a name="to-check-for-updates-in-the-background-after-the-application-starts"></a>Проверка наличия обновлений в фоновом режиме, после запуска приложения  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Перейдите на вкладку **Публикация**.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалоговом окне убедитесь, что флажок **приложение должно проверять наличие обновлений** выбран.  
  
5.  В **выбрать, когда приложение должно проверять наличие обновлений**выберите **после запуска приложения**. Приложение запускается быстрее таким образом, и затем будет проверять наличие обновлений в фоновом режиме и только уведомлять пользователя, когда доступно обновление. После установки обновления не вступят в силу только после перезапуска приложения.  
  
6.  В **укажите, как часто приложение должно проверять наличие обновлений** выберите либо **каждый раз при запуске приложения** (по умолчанию) или **проверьте каждый** и введите число и интервал времени.  
  
### <a name="to-specify-a-minimum-required-version-for-the-application"></a>Чтобы указать минимальную требуемую версию для приложения  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Перейдите на вкладку **Публикация**.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалоговом окне убедитесь, что **приложение должно проверять наличие обновлений** установлен флажок.  
  
5.  Выберите **Укажите минимальную требуемую версию для этого приложения** флажок, а затем введите **основных**, **незначительные**, **построения**и  **Версия** номеров для приложения.  
  
### <a name="to-specify-a-different-update-location"></a>Чтобы указать расположение различные обновления  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Перейдите на вкладку **Публикация**.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалоговом окне убедитесь, что **приложение должно проверять наличие обновлений** установлен флажок.  
  
5.  В **обновить расположение** введите расположение обновлений с полный URL-адрес, используя формат http://Hostname/ApplicationName, или UNC-путь в формате \\\Server\ApplicationName или щелкните **Обзор** чтобы перейти в расположение обновлений.  
  
### <a name="to-check-for-updates-programmatically"></a>Чтобы проверить наличие обновлений программным способом  
  
1.  Выберите проект в **обозревателе решений**, а затем в меню **Проект** щелкните **Свойства**.  
  
2.  Перейдите на вкладку **Публикация**.  
  
3.  Нажмите кнопку **обновления** кнопку, чтобы открыть **обновления приложения** диалоговое окно.  
  
4.  В **обновления приложения** диалоговом окне убедитесь, что **приложение должно проверять наличие обновлений** флажок установлен. (При необходимости можно выбрать этот флажок, чтобы проверить наличие обновлений программным способом и позволить ClickOnce выполнения автоматических проверок наличия обновлений.)  
  
5.  В **обновить расположение** введите расположение обновлений с полный URL-адрес, используя формат http://Hostname/ApplicationName, или UNC-путь в формате \\\Server\ApplicationName или щелкните **Обзор** чтобы перейти в расположение обновлений. Расположение обновлений — где приложение будет искать обновленной версии самого себя.  
  
6.  Создание кнопки, меню или другой элемент пользовательского интерфейса в форме Windows, который пользователь будет выбирать проверить наличие обновлений. Из этого элемента в обработчик событий вызовите метод, чтобы проверить и установить обновления. Вы найдете пример Visual Basic и Visual C# код для метода в [как: Проверка обновлений для приложения программным способом с помощью API развертывания ClickOnce](../deployment/how-to-check-for-application-updates-programmatically-using-the-clickonce-deployment-api.md).  
  
7.  Выполните сборку своего приложения.  
  
## <a name="see-also"></a>См. также  
 <xref:System.Deployment.Application.ApplicationDeployment>   
 [Диалоговое окно обновления приложения](http://msdn.microsoft.com/8eca8743-8e68-4d04-bfd5-4dc0a9b2934f)   
 [Выбор стратегии обновления ClickOnce](../deployment/choosing-a-clickonce-update-strategy.md)   
 [Публикация приложений ClickOnce](../deployment/publishing-clickonce-applications.md)   
 [Практическое руководство. Публикация приложения ClickOnce с помощью мастера публикации](../deployment/how-to-publish-a-clickonce-application-using-the-publish-wizard.md)   
 [Практическое руководство. Проверка обновлений для приложения программным способом с помощью функций API развертывания технологии ClickOnce](../deployment/how-to-check-for-application-updates-programmatically-using-the-clickonce-deployment-api.md)
