---
title: Предварительные условия для развертывания приложения | Документация Майкрософт
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-deployment
ms.topic: conceptual
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- ClickOnce deployment, platform detection
- ClickOnce deployment, prerequisites
- ClickOnce deployment, dependencies
- prerequisites, ClickOnce
- dependencies, ClickOnce
ms.assetid: fc6e047e-ad94-44e8-8ff5-b6d1f4ca7735
caps.latest.revision: 53
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.openlocfilehash: 0c76ed1b24350a10891df69687080988603553fa
ms.sourcegitcommit: 8b538eea125241e9d6d8b7297b72a66faa9a4a47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "58990676"
---
# <a name="application-deployment-prerequisites"></a>Предварительные условия для развертывания приложения
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Чтобы обеспечить успешную установку и запуск приложения, необходимо, в первую очередь, убедиться, что компоненты, от которых зависит приложение, уже установлены на целевом компьютере. Например, большинство приложений, которые создаются при помощи [!INCLUDE[vsprvs](../includes/vsprvs-md.md)], имеют зависимость от [!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)], поэтому перед установкой приложения на целевом компьютере должна быть установлена правильная версия среды CLR.  
  
 Можно выбрать эти компоненты в **Prerequisites Dialog Box** и установить .NET Framework и другие распространяемые пакеты в ходе установки. Это называется *начальной загрузкой*. Далее, [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] создает исполняемую программу Windows с именем Setup.exe, также известный как *загрузчика*. Начальный загрузчик установит необходимые компоненты перед запуском приложения. Дополнительные сведения о выборе необходимых компонентов, см. в разделе [Prerequisites Dialog Box](../ide/reference/prerequisites-dialog-box.md).  
  
 Каждый необходимый компонент является пакетом начальной загрузки. Пакет начальной загрузки — это группа директорий и файлов, в которых содержатся файлы манифеста, описывающие порядок установки необходимого компонента. Если в диалоговом окне **Необходимые компоненты** нет компонентов, необходимых для вашего приложения, создайте стандартные пакеты начальной загрузки и добавьте их в Visual Studio. После этого вы сможете выбрать необходимые компоненты в **одноименном диалоговом окне**. Дополнительные сведения см. в разделе [создание пакетов загрузчика](../deployment/creating-bootstrapper-packages.md).  
  
 По умолчанию для развертывания приложений ClickOnce начальная загрузка включена, а генерируемый для них начальный загрузчик подписан. Вы можете отключить начальную загрузку компонента, но только если точно знаете, что на всех целевых компьютерах уже установлена правильная версия компонента.  
  
## <a name="bootstrapping-and-clickonce-deployment"></a>Начальная загрузка и развертывание приложений ClickOnce  
 Перед установкой приложения на клиентском компьютере [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] проверит клиента и убедится, что он соответствует требованиям, установленным в манифесте приложения. В число этих требований входят следующие:  
  
- Минимальная необходимая версия среды CLR, определенная в качестве зависимости от сборки в манифесте приложения.  
  
- Минимальная версия операционной системы Windows, необходимая для приложения, согласно манифесту приложения с использованием элемента `<osVersionInfo>`. (См. в разделе [ \<зависимостей > элемент](../deployment/dependency-element-clickonce-application.md))  
  
- Минимальная версия сборок, которые должны быть предварительно установлены в глобальном кэше сборок (GAC), как указано в декларации зависимости от сборки в манифесте сборки.  
  
  [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] позволяет определить недостающие необходимые компоненты, после чего вы сможете установить необходимые компоненты с помощью начальной загрузки. Дополнительные сведения см. в разделе [Как Установка необходимых компонентов для приложения ClickOnce](../deployment/how-to-install-prerequisites-with-a-clickonce-application.md).  
  
> [!NOTE]
>  Чтобы изменить значения в манифестах, созданных такими инструментами, как [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] и MageUI.exe, необходимо отредактировать манифест приложения в текстовом редакторе, а затем снова подписать манифест приложения и манифест развертывания. Дополнительные сведения см. в разделе [Как Повторно подписать манифесты приложения и развертывания](../deployment/how-to-re-sign-application-and-deployment-manifests.md).  
  
 Если для развертывания приложения используются Visual Studio и ClickOnce, то выбираемые по умолчанию пакеты начального загрузчика будут зависеть от версии .NET Framework в решении. В случае изменения целевой версии .NET Framework необходимо будет обновить параметры в диалоговом окне **Необходимые компоненты** вручную.  
  
|Целевая версия .NET Framework|Выбранные пакеты начального загрузчика|  
|---------------------------|------------------------------------|  
|.NET Framework 4 (клиентский профиль)|.NET Framework 4 (клиентский профиль)<br /><br /> Установщик Windows версии 3.1|  
|.NET Framework 4|.NET Framework 4<br /><br /> Установщик Windows версии 3.1|  
  
 При развертывании приложений [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] на странице Publish.htm, генерируемой Мастером публикации [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)], указывается либо ссылка, позволяющая установить только приложение, либо ссылка, позволяющая установить как приложение, так и компоненты начальной загрузки.  
  
 Если начальный загрузчик генерируется с помощью мастера публикации ClickOnce или страницы публикации в Visual Studio, то файл Setup.exe подписывается автоматически. Если же для подписи начального загрузчика необходимо использовать сертификат клиента, то файл можно подписать позже.  
  
## <a name="bootstrapping-and-msbuild"></a>Начальная загрузка и MSBuild  
 Если вы не используете [!INCLUDE[vsprvs](../includes/vsprvs-md.md)], но компилируете приложения в командной строке, то приложение начальной загрузки [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)] можно создать с помощью задачи Microsoft Build Engine (MSBuild). Дополнительные сведения см. в разделе [задача GenerateBootstrapper](../msbuild/generatebootstrapper-task.md).  
  
 В качестве альтернативы начальному загрузчику можно предварительно развернуть компоненты с помощью электронной системы распределения, например Microsoft Systems Management Server (SMS).  
  
## <a name="bootstrapper-setupexe-command-line-arguments"></a>Аргументы командной строки начального загрузчика (Setup.exe)  
 Файл Setup.exe, сгенерированный с помощью [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] и задач MSBuild, поддерживает описанный ниже небольшой набор аргументов командной строки. Все аргументы передаются в приложение начальной загрузки после того, как будут направлены в установщик приложения.  
  
 В случае изменения параметров начального загрузчика необходимо изменить неподписанный начальный загрузчик, а затем подписать файл начального загрузчика.  
  
|Аргумент командной строки|Описание|  
|---------------------------|-----------------|  
|**-?, -h, -help**|Открывает диалоговое окно "Справка".|  
|**-URL-адрес, - componentsurl**|Показывает сохраненный URL и URL-адреса компонентов для этой установки.|  
|**-url=** `location`|Настраивает URL на то место, где Setup.exe будет искать приложение [!INCLUDE[ndptecclick](../includes/ndptecclick-md.md)].|  
|**-componentsurl =** `location`|Настраивает URL на то место, где Setup.exe будет искать зависимости, такие как [!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)].|  
|**-homesite=** `true` **&#124;** `false`|Когда `true`, то зависимости загружаются из предпочтительного источника на сайте поставщика. Это значение переопределяет **- componentsurl** параметр. Когда `false`, то зависимости загружаются по URL-адрес, определяемое **- componentsurl**.|  
  
## <a name="operating-system-support"></a>Поддержка операционной системой  
 Начальный загрузчик Visual Studio не поддерживается параметром установки Server Core операционной системы Windows Server 2008 или Windows Server 2008 R2, что означает незначительную поддержку серверной среды с ограниченным функционалом. Например, параметр установки Server Core поддерживает только профиль .NET Framework 3.5 Server Core, поэтому возможности Visual Studio, которые требуют полной установки .NET Framework, работать не будут.  
  
## <a name="see-also"></a>См. также  
 [Выбор стратегии развертывания ClickOnce](../deployment/choosing-a-clickonce-deployment-strategy.md)   
 [Развертывание и безопасность технологии ClickOnce](../deployment/clickonce-security-and-deployment.md)
