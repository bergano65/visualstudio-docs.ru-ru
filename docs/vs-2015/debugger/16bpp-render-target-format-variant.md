---
title: Вариант формата отображения глубиной цвета 16 бит | Документация Майкрософт
ms.custom: ''
ms.date: 2018-06-30
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 24b22ad9-5ad0-4161-809a-9b518eb924bf
caps.latest.revision: 8
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: dbf7ee89e18fdea39c88f35e3adf146db53a87dc
ms.sourcegitcommit: 55f7ce2d5d2e458e35c45787f1935b237ee5c9f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2018
ms.locfileid: "47564153"
---
# <a name="16bpp-render-target-format-variant"></a>Вариант формата однобуферной прорисовки 16 бит/пкс
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Последнюю версию этого раздела можно найти в [глубиной цвета 16 бит отрисовки вариант формата](https://docs.microsoft.com/visualstudio/debugger/graphics/16bpp-render-target-format-variant).  
  
Для всех целевых объектов отрисовки и буферов фона задается формат пикселей DXGI_FORMAT_B5G6R5_UNORM.  
  
## <a name="interpretation"></a>Интерпретация  
 Для целевого объекта отрисовки или буфера фона, как правило, используется формат с глубиной цвета 32 бита (32 бита на пиксель), например B8G8R8A8_UNORM. Форматы с глубиной цвета 32 бита могут использовать много пропускной способности памяти. Так как формат B5G6R5_UNORM имеет глубину цвета 16 бит, что вдвое меньше, чем у форматов с глубиной цвета 32 бита, с его помощью можно уменьшить нагрузку на пропускную способность памяти, но за счет снижения точности цветовоспроизведения.  
  
 Если этот вариант дает значительный прирост производительности, это с большой вероятностью указывает на то, что приложение потребляет слишком много пропускной способности памяти. Прирост производительности может быть особенно заметным, если в профилированном кадре имеется много перекрытий или альфа-смешения.  
  
 Если типы сцен, отрисовываемые приложением, не требуют высокой точности цветовоспроизведения и наличия альфа-канала у целевого объекта отрисовки, а также содержат мало плавных градиентов, из-за которых могут возникать видимые полосы при низкой точности цветовоспроизведения, рекомендуем использовать формат целевого объекта отрисовки с глубиной цвета 16 бит, чтобы сократить используемую пропускную способность памяти.  
  
 Если сцены, отрисовываемые приложением, требуют высокой точности цветовоспроизведения или наличия альфа-канала либо если в них часто встречаются плавные градиенты, рекомендуем прибегнуть к другим стратегиям для сокращения используемой пропускной способности памяти. Например, можно уменьшить количество перекрытий и альфа-смешения, уменьшить размеры буфера кадров или изменить ресурсы текстур так, чтобы они потребляли меньше пропускной способности памяти, включив сжатие или уменьшив размеры текстур. Как обычно, необходимо учитывать потери в плане качества изображения, связанные с этими оптимизациями.  
  
 Если в приложении выгодно использовать буфер фона с глубиной цвета 16 бит, но он является частью цепочки буферов, необходимо выполнить дополнительные действия, так как формат DXGI_FORMAT_B5G6R5_UNORM не является поддерживаемым форматом буфера фона для цепочки буферов, созданной с помощью `D3D11CreateDeviceAndSwapChain` или `IDXGIFactory::CreateSwapChain`. Вместо этого необходимо создать целевой объект отрисовки формата B5G6R5_UNORM с помощью метода `CreateTexture2D` и выполнить отрисовку в нем. Затем, перед тем как вызывать Present для цепочки буферов, скопируйте целевой объект отрисовки в буфер фона цепочки буферов, нарисовав полноэкранный квадрант с целевым объектом отрисовки в качестве исходной текстуры. Хотя это дополнительное действие, которое займет некоторую пропускную способность памяти, большинство операций отрисовки будут расходовать меньше пропускной способности, так как они будут производиться с целевым объектом отрисовки с глубиной цвета 16 бит. Если при этом будет экономиться больше пропускной способности, чем потребляется при копировании целевого объекта отрисовки в буфер фона цепочки буферов, производительность отрисовки повысится.  
  
 Архитектуры GPU, в которых применяются плиточные методы отрисовки, могут получить значительный прирост производительности за счет использования формата буфера кадров с глубиной цвета 16 бит, так как большая часть буфера кадров сможет помещаться в локальном кэше буфера кадров каждой плитки. Архитектуры с плиточной отрисовкой иногда встречаются в GPU для мобильных телефонов и планшетов. За пределами этого сегмента они практически не применяются.  
  
## <a name="remarks"></a>Примечания  
 Формат целевого объекта отрисовки DXGI_FORMAT_B5G6R5_UNORM устанавливается при каждом вызове метода `ID3D11Device::CreateTexture2D`, который создает целевой объект отрисовки. В частности, формат переопределяется, когда объект D3D11_TEXTURE2D_DESC, передаваемый в параметре pDesc, описывает целевой объект отрисовки, то есть:  
  
-   Для члена BindFlags установлен флаг D3D11_BIND_REDNER_TARGET.  
  
-   Для члена BindFlags снят флаг D3D11_BIND_DEPTH_STENCIL.  
  
-   Для члена Usage установлен флаг D3D11_USAGE_DEFAULT.  
  
## <a name="restrictions-and-limitations"></a>Ограничения  
 Так как формат B5G6R5 не имеет альфа-канала, альфа-содержимое не сохраняется при использовании этого варианта. Если приложение требует наличия альфа-канала в целевом объекте отрисовки, можно переключиться на формат B5G6R5.  
  
## <a name="example"></a>Пример  
 **Формат целевого объекта отрисовки глубиной цвета 16 бит** можно воспроизвести для целевых объектов отрисовки, созданных с помощью `CreateTexture2D` с помощью следующего кода:  
  
```  
D3D11_TEXTURE2D_DESC target_description;  
  
target_description.BindFlags = D3D11_BIND_RENDER_TARGET;  
target_description.Format = DXGI_FORMAT_B5G6R5_UNORM;  
d3d_device->CreateTexture2D(&target_description, nullptr, &render_target);  
```



