---
title: Элемент меню | Документация Майкрософт
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-sdk
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- VSCT XML schema elements, Menus
- Menus element (VSCT XML schema)
ms.assetid: ce0560f3-b4c9-4ab2-a99c-d4e10f37b9e0
caps.latest.revision: 16
ms.author: gregvanl
manager: ghogen
ms.openlocfilehash: a24eba8e0779bf77a93ec2ff742868bf8836d120
ms.sourcegitcommit: 240c8b34e80952d00e90c52dcb1a077b9aff47f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/23/2018
ms.locfileid: "49844657"
---
# <a name="menu-element"></a>Элемент Menu
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Определяет один элемент меню. Это шесть видов меню: контекстное меню, MenuController, MenuControllerLatched, инструментов и ToolWindowToolbar.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
<Menu guid=”guidMyCommandSet” id=”MyCommand” priority=”0x100” type=”button”>  
  <Parent>... </Parent>  
  <CommandFlag>... </CommandFlag>  
  <Strings>... </Strings>  
</Menu>  
```  
  
## <a name="attributes-and-elements"></a>Атрибуты и элементы  
 В следующих разделах описаны атрибуты, дочерние и родительские элементы.  
  
### <a name="attributes"></a>Атрибуты  
  
|Атрибут|Описание|  
|---------------|-----------------|  
|guid|Обязательно. Идентификатор GUID идентификатора GUID и идентификатора команды.|  
|id|Обязательно. Идентификатор GUID и идентификатора идентификатор команды.|  
|priority|Необязательный. Числовое значение, указывающее относительное положение меню в группе меню.|  
|ToolbarPriorityInBand|Необязательный. Числовое значение, указывающее относительное положение панели инструментов в полосе, если окно закреплено.|  
|type|Необязательный. Перечислимое значение, указывающее тип элемента.<br /><br /> Если не указано, по умолчанию используется тип меню.<br /><br /> Контекст<br /> Контекстное меню, которое отображается, когда пользователь щелкает правой кнопкой мыши окно. Контекстное меню имеет следующие характеристики:<br /><br /> -Не использует поля родительской и приоритет, когда меню должно отображаться как контекстное меню.<br />-Может использоваться как подменю, а также в виде контекстного меню. В этом случае учитываются поля "идентификатор группы" и "приоритет.<br />— Это не всегда доступен.<br /><br /> Контекстное меню отображается только в том случае, когда выполняются следующие условия:<br /><br /> -Отображается окна, на котором она размещена.<br />-Обработчик мыши в VSPackage обнаруживает правой кнопкой мыши в окне, а затем вызывает метод, который обрабатывает команду.<br />-В контекстном меню, отображаемых при вызове <xref:Microsoft.VisualStudio.Shell.Interop.IOleComponentUIManager.ShowContextMenu%2A> метод (рекомендуемый подход) или <xref:Microsoft.VisualStudio.Shell.Interop.IVsUIShell.ShowContextMenu%2A> метод.<br /><br /> Меню<br /> Предоставляет раскрывающегося меню. Раскрывающееся меню имеет следующие характеристики:<br /><br /> -Отношениях родительского элемента в его определение.<br />— Должен иметь родительскую группу или CommandPlacement в группу.<br />— Может быть в подменю в любой другой вид меню.<br />-Автоматически отображаются всякий раз, когда отображается его родительском меню.<br />— Не требуется реализация любого кода VSPackage, чтобы сделать их отображения.<br /><br /> MenuController<br /> Предоставляет разворачивающуюся кнопку раскрывающегося меню, которое обычно используется в панели инструментов. MenuController меню имеет следующие характеристики:<br /><br /> — Должен содержаться в другом меню через родительский или CommandPlacement.<br />-Отношениях родительского элемента в его определение.<br />— Может к какой-либо меню в качестве родительского.<br />-Автоматически становятся доступными каждый раз, когда отображается его родительском меню.<br />— Не требуется программную поддержку для отображения меню.<br /><br /> Команды в меню кнопки отображается на кнопке меню. Команда отображается имеет одно из следующих характеристик:<br /><br /> — Это последняя команда, которая используется, если команда выполняется по-прежнему отображаться и включен.<br />-Это первая отображается команда.<br /><br /> MenuControllerLatched<br /> Предоставляет разворачивающуюся кнопку раскрывающееся меню, для которого можно указать команду выбранным по умолчанию, помечая команды, как заблокирована.<br /><br /> Защелки команда — это команда, помеченное в меню как выбранный, как правило, отображая флажок. Команды могут помечаться как заблокирована, если он имеет OLECMDF_LATCHED флаг на нем в реализацию `QueryStatus` метод <xref:Microsoft.VisualStudio.OLE.Interop.IOleCommandTarget> интерфейс. MenuControllerLatched меню имеет следующие характеристики:<br /><br /> — Должен содержаться в другом меню через родительскую группу или CommandPlacement.<br />-Отношениях родительского элемента в его определение.<br />— Может к какой-либо меню в качестве родительского.<br />-Доступны всякий раз, когда отображается его родительском меню.<br />— Не требуется программную поддержку для отображения меню.<br /><br /> Команды в меню кнопки отображается на кнопке меню. Команда отображается имеет одно из следующих характеристик:<br /><br /> -Это первая команда отображается, она блокируется.<br />-Это первая отображается команда.<br /><br /> Toolbar<br /> Предоставляет панель инструментов. Панель инструментов имеет следующие характеристики:<br /><br /> -Пропускать родительского элемента в его определение.<br />-Не удается установить подменю любой из групп, даже используя CommandPlacement.<br />— Может отображаться всегда, щелкнув **панелей инструментов** на **представление** меню.<br />— Можно отобразить с помощью [VisibilityItem](../extensibility/visibilityitem-element.md).<br />— Не требуется код для его создания. Например о том, как создать панель инструментов, см. в разделе [Добавление панели инструментов](../extensibility/adding-a-toolbar.md).<br /><br /> ToolWindowToolbar<br /> Предоставляет панель инструментов, которая присоединяется к конкретному окну инструмента, так же, как панель инструментов подключен к среде разработки.<br /><br /> -Пропускать родительского элемента в его определение.<br />-Не удается установить подменю любой из групп, даже используя CommandPlacement.<br />— Отображается только в том случае, если окно инструментов, на котором размещена панель инструментов отображается и VSPackage явно добавляет панели инструментов окна инструментов. Обычно это делается, при создании окна инструментов, получив свойство узла панели инструментов (представленные как <xref:Microsoft.VisualStudio.Shell.Interop.IVsToolWindowToolbarHost> интерфейс) из фрейм окна инструментов, а затем вызвав <xref:Microsoft.VisualStudio.Shell.Interop.IVsToolWindowToolbarHost.AddToolbar%2A> метод.|  
|Условие|Необязательный. См. в разделе [условные атрибуты](../extensibility/vsct-xml-schema-conditional-attributes.md).|  
  
### <a name="child-elements"></a>Дочерние элементы  
  
|Элемент|Описание|  
|-------------|-----------------|  
|Родительский|Необязательный. Родительский элемент данного элемента меню.|  
|CommandFlag|Обязательно. См. в разделе [команду флаг элемент](../extensibility/command-flag-element.md). Ниже приведены допустимые значения CommandFlag для меню.<br /><br /> -   **AlwaysCreate**<br />-   **DefaultDocked**<br />-   **DefaultInvisible** -этот флаг не влияет на отображение панели инструментов.<br />-   **DontCache**<br />-   **DynamicVisibility** -этот флаг не влияет на отображение панели инструментов.<br />-   **IconAndText**<br />-   **NoCustomize**<br />-   **NotInTBList**<br />-   **NoToolbarClose**<br />-   **TextChanges**<br />-   **TextIsAnchorCommand**|  
|Строки|Обязательно. См. в разделе [строки элемента](../extensibility/strings-element.md). Дочерние `ButtonText` должен быть определен элемент.|  
|Комментарий|Дополнительный комментарий.|  
  
### <a name="parent-elements"></a>Родительские элементы  
  
|Элемент|Описание|  
|-------------|-----------------|  
|[Элемент Menus](../extensibility/menus-element.md)|Определяет все меню, которые реализует VSPackage.|  
  
## <a name="example"></a>Пример  
  
```  
<Menu guid="cmdGuidWidgetCommands" id="menuIDEditWidget"  
  priority="0x0002" type="Menu">  
  <Parent guid="cmdSetGuidWidgetCommands" id="groupIDFileEdit">  
    <CommandFlag>AlwaysCreate</CommandFlag>  
    <Strings>  
      <ButtonText>Edit Widget</ButtonText>  
    </Strings>  
    </Parent>  
</Menu>  
```  
  
## <a name="see-also"></a>См. также  
 [Файлы таблицы команд Visual Studio (VSCT-файлы)](../extensibility/internals/visual-studio-command-table-dot-vsct-files.md)