---
title: Обновление проектов модульных тестов
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-test
ms.topic: conceptual
ms.assetid: f1502b51-d6db-4894-9fbf-4a5723e4bb1a
caps.latest.revision: 8
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: 63e6be6a6b7c3e739ab590dd9f952fbb5988176b
ms.sourcegitcommit: 8b538eea125241e9d6d8b7297b72a66faa9a4a47
ms.translationtype: MTE95
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54788643"
---
# <a name="upgrade-visual-studio-2010-unit-test-projects"></a>Обновление проектов модульных тестов Visual Studio 2010
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

[!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] обеспечивает совместимость тестовых проектов с тестовыми проектами [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] с пакетом обновления 1 (SP1). Например, тестовые проекты, которые были созданы в [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] с пакетом обновления 1 (SP1) можно открыть с помощью [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] без какого-либо обновления. Следовательно ваш коллектив может использовать и [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] с пакетом обновления 1 (SP1), и [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] для работы с одним и тем же тестовым проектом. Дополнительные сведения см. в разделе [Обновление тестов из Visual Studio 2010](http://msdn.microsoft.com/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52).

 В [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] представлено несколько изменений в модульном тестировании. Вследствие этих изменений важно понимать проблемы совместимости между предыдущими версиями Visual Studio и [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)]. Из всех изменений, относящихся к модульному тестированию, значительным изменением является то, что [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] содержит в себе больше, чем один шаблон тестового проекта, в том числе и шаблон проекта модульного теста. Новые модульные тесты добавляются к новому шаблону проекта модульного теста. Модульные тесты можно также включать в другом новом шаблоне, называющемся "Проект закодированных тестов пользовательского интерфейса". Дополнительные сведения о новых шаблонах тестовых проектов см. в разделе [Обновление тестов из более ранних версий Visual Studio](http://msdn.microsoft.com/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52). Новые проекты модульных тестов больше не содержат в себе по умолчанию файл параметров тестирования. За счет исключения файла с параметрами тестирования улучшается производительность модульных тестов. Для обеспечения совместимости по-прежнему можно использовать существующие тестовые проекты, созданные с помощью Visual Studio 2010. Однако для повышения производительности рекомендуется удалить файл с параметрами тестирования, связанный с данным тестовым проектом, если в нем нет особой необходимости. Например, можно оставить файл с параметрами тестирования, если модульные тесты запускаются в распределенной среде или если требуется собирать конкретные диагностические данные. Если имеются схожие потребности при использовании нового шаблона проекта модульных тестов или проекта с закодированными тестами пользовательского интерфейса, то для них можно добавить файл с параметрами тестирования вручную.

> [!NOTE]
>  Существующие модульные тесты в тестовых проектах [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] с пакетом обновления 1 (SP1) будут легко работать с [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] с пакетом обновления 1 (SP1) и [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)]. В файлы тестовых проектов не вносятся никакие изменения, если тестовый проект Visual Studio 2010, содержащий модульные тесты, открывается в [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] или наоборот.

> [!CAUTION]
>  Visual Studio 2010 не может открыть проект C++/CLI, который нацелен на набор инструментов 11.0, то есть проект, созданный в Visual Studio 2012. Это ограничение применяется ко всем проектам C++/CLI, а не только к проектам модульных тестов C++/CLI.

> [!NOTE]
>  Новые модульные тесты можно выполнять с помощью программы vstest.console.exe из командной строки. Дополнительные сведения об использовании vstest.console.exe см. в разделе [Параметры командной строки для VSTest.Console.exe](http://msdn.microsoft.com/library/52e1689d-b1a8-4589-bd98-99a55acd0a11) или выполните команду с параметром вывода справки: **vstest.console.exe /?**. Вы можете продолжать запускать существующие модульные тесты с помощью команды MStest.exe. Дополнительные сведения см. в разделах [Запуск автоматических тестов из командной строки с помощью MSTest](http://msdn.microsoft.com/library/39b61ad0-0055-44b5-963f-25d8a6b51581) и [Параметры командной строки программы MSTest.exe](http://msdn.microsoft.com/library/8813ba7f-e790-4e92-9f91-7080508a1c36).

 Другое значительное изменение — это новый обозреватель тестов. В [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] некоторые окна тестирования, с которыми вы можете быть знакомы с предыдущих версий Visual Studio, объявлены нерекомендуемыми, как например, окно представления теста. Обозреватель тестов предназначен для лучшей поддержки разработчиков и коллективов, применяющих модульное тестирование на практике при разработке программного обеспечения. Дополнительные сведения см. в разделе [Выполнение модульных тестов с помощью обозревателя тестов](../test/run-unit-tests-with-test-explorer.md).

## <a name="compatibility-issues-between-visual-studio-2010-sp1-and-visual-studio-2012"></a>Проблемы совместимости между Visual Studio 2010 с пакетом обновления 1 (SP1) и Visual Studio 2012
 Ниже перечислены некоторые проблемы, которые следует учитывать при переносе модульных тестов между Visual Studio 2010 с пакетом обновления 1 (SP1) и [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)].

|Функциональность модульного теста|Проблемы|Решение|
|-----------------------------|-----------|--------------|
|Списки тестов (файлы VSMDI) в [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] нерекомендуемы.|В Visual Studio вы больше не можете создавать списки тестов (файлы VSMDI) или списки выполнения тестов. **Совет.**  Категории тестов обеспечивают более высокий уровень гибкости по сравнению с функцией списков тестов, использовавшейся в предыдущих версиях Microsoft Visual Studio. Для одновременного запуска тестов из нескольких категорий или ограничения выполняемых тестов только тестами из определенных категорий можно использовать категории тестов вместе с логическими операторами. Кроме того, категории тестов легко добавлять при создании методов тестов, и после создания этих методов не требуется вести списки тестов. Благодаря использованию категорий устраняется необходимость в извлечении и возврате файла **\<имя решения>.vsmdi**, содержащего списки тестов. Дополнительные сведения см. в разделе [Определение категорий тестов для группировки тестов](http://msdn.microsoft.com/library/2c26a648-f068-4d60-99b6-b9747b7bdbc9).|— Для сохранения совместимости с существующими тестовыми проектами, которые используют списки тестов, с помощью Visual Studio можно по-прежнему редактировать файлы VSMDI.<br />— Хотя перенесенные списки тестов нельзя запустить в Visual Studio, их по-прежнему можно запускать с помощью команды mstest.exe из командной строки. Дополнительные сведения см. в разделе [Запуск автоматических тестов из командной строки с помощью MSTest](http://msdn.microsoft.com/library/39b61ad0-0055-44b5-963f-25d8a6b51581).<br />— Если вы использовали список тестов в определении сборки, можно продолжать его использование. Дополнительные сведения см. в разделе [Как Настройка и запуск запланированных тестов после построения приложения](http://msdn.microsoft.com/32acfeb1-b1aa-4afb-8cfe-cc209e6183fd) и [выполнение тестов в процессе построения](http://msdn.microsoft.com/library/d05743a1-c5cf-447e-bed9-bed3cb595e38).|
|Закрытые методы доступа в [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] не рекомендованы.<br /><br /> В предыдущих версиях Visual Studio, можно было использовать Publicize для определения внутренних программных интерфейсов (API) и создания аналогичного открытого API, который можно вызывать в тестах, которые, в свою очередь, вызывают внутренние API продукта. Затем можно было использовать создание кода для создания тестовых заглушек и создания фрагмента кода внутри заглушки.|Вы больше не можете создавать закрытые методы доступа.|<ul><li>Тестовые проекты Visual Studio 2010 компилируются и работают в [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)]. Сборка будет включать в себя предупреждения вывода.</li><li>Если все же требуется протестировать внутренние API, то существуют следующие варианты:<br /><br /> <ul><li>Используйте класс <xref:Microsoft.VisualStudio.TestTools.UnitTesting.PrivateObject>, помогающий при доступе к внутренним и закрытым интерфейсам API в коде. Он находится в сборке Microsoft.VisualStudio.QualityTools.UnitTestFramework.dll.</li><li>Создайте платформу отражения, которая может отражать ваш код для доступа к внутренним или закрытым API.</li><li>Если код, к которому осуществляется доступ, является внутренним, то получить доступ к интерфейсам API можно с помощью <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute>, поэтому код теста может иметь доступ к внутренним API.</li></ul></li></ul>|
|Влияние на тест было удалено.|||
|Совместное использование результатов выполнения с помощью журналов TRX из обозревателя тестов.||Можно по-прежнему получать журналы TRX и из командной строки, и из меню "Командная сборка".|

## <a name="see-also"></a>См. также раздел
 [Перенос, миграция и обновление проектов Visual Studio](../porting/porting-migrating-and-upgrading-visual-studio-projects.md) [модульное тестирование кода](../test/unit-test-your-code.md) [обновление тестов из более ранних версиях Visual Studio](http://msdn.microsoft.com/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52) [обновление закодированных тестов пользовательского интерфейса с Visual Studio 2010](../test/upgrading-coded-ui-tests-from-visual-studio-2010.md)