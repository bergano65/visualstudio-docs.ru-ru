---
title: Создание пользовательских проектов и шаблонов элементов | Документация Майкрософт
ms.date: 3/16/2019
ms.topic: conceptual
ms.assetid: 586da5dc-f678-402b-afd0-0332959fd7a6
author: gregvanl
ms.author: gregvanl
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 01af6001bd116fd2b523668eddbdc68d2dd5beab
ms.sourcegitcommit: 4d9c54f689416bf1dc4ace058919592482d02e36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/19/2019
ms.locfileid: "58194474"
---
# <a name="create-custom-project-and-item-templates"></a>Создание пользовательских шаблонов проектов и элементов

Пакет SDK для Visual Studio включает шаблоны проектов, создание настраиваемого шаблона проекта и пользовательского шаблона элемента. Эти шаблоны включают некоторые распространенные подстановки параметров и сборки как ZIP-файлы. Они не были развернуты автоматически, и они недоступны в экспериментальном экземпляре. Созданный ZIP-файл необходимо скопировать каталог с пользовательскими шаблонами.

Шаблоны создания шаблонов позволяют включать шаблоны в большего расширения. Это позволяет реализовать систему управления версиями на исходные файлы и создавать группы шаблона проектов в одном пакете VSIX.

Кроме того, можно настроить шаблон для установки пакетов NuGet. Дополнительные сведения см. в разделе [пакеты NuGet в шаблонах Visual Studio](/nuget/visual-studio-extensibility/visual-studio-templates).

Для сценариев создания базового шаблона, следует использовать **Экспорт шаблона** мастер, который выводит в виде сжатого файла. Дополнительные сведения о создании базового шаблона см. в разделе [Создание шаблонов проектов и элементов](../ide/creating-project-and-item-templates.md).

> [!NOTE]
> Начиная с Visual Studio 2017, сканирование на наличие шаблонов пользовательских проектов и элементов больше не выполняется. Вместо этого расширения необходимо указать файлы манифеста, которые описывают расположение установки из этих шаблонов. Visual Studio 2017 можно использовать, чтобы обновить расширения VSIX. При развертывании расширения с помощью MSI, необходимо создать файлы манифеста шаблонов вручную. Дополнительные сведения см. в разделе [обновление настраиваемых шаблонов проектов и элементов для Visual Studio 2017](../extensibility/upgrading-custom-project-and-item-templates-for-visual-studio-2017.md). Шаблон манифеста документирована в [Справочник по схемам манифеста шаблонов Visual Studio](../extensibility/visual-studio-template-manifest-schema-reference.md).

## <a name="create-a-project-template"></a>Создание шаблона проекта

1. Создание проекта шаблона проекта. Вы найдете шаблон проекта в **новый проект** диалоговом окне, найдя «шаблон проекта» и выбрать пункт C# или версии Visual Basic.

     Шаблон создает файл класса, значок, *.vstemplate* файл, файл редактируемой проекта с именем *ProjectTemplate.vbproj* или *ProjectTemplate.csproj*и некоторые файлы, которые обычно создаются с других типов проектов таких *resources.resx* файл, *AssemblyInfo* файл и *.settings* файл. Каждый файл кода содержит распространенные подстановки параметров, где это необходимо.

2. Добавлять и удалять элементы из проекта, необходимые для проекта. Не удаляйте файл редактирования проекта, *AssemblyInfo* файл, или *.vstemplate* файл.

3. Обновление *.vstemplate* файл, чтобы отразить любой добавления и удаления. [Проекта](../extensibility/project-element-visual-studio-templates.md) элемент должен содержать [ProjectItem](../extensibility/projectitem-element-visual-studio-item-templates.md) для каждого файла, которые будут включены в шаблон.

4. Изменять файлы кода и другое содержимое пользовательского интерфейса и добавьте соответствующий параметр подстановки.

5. Изменение автоматически созданного содержимого при необходимости.

6. Выполните построение проекта.

     Visual Studio создает *ZIP-файл* файл, содержащий шаблон. Оно не развернуто, и он не доступен в экспериментальном экземпляре.

## <a name="create-an-item-template"></a>Создание шаблона элемента

1. Создание шаблона элемента проекта.

     Шаблон создает файл класса, значок, *.vstemplate* файл и *AssemblyInfo* файл. Файл класса содержит некоторые распространенные замены параметров.

2. Добавлять и удалять элементы из проекта, необходимые для проекта.

3. Обновление *.vstemplate* файл, чтобы отразить любой добавления и удаления. [Проекта](../extensibility/project-element-visual-studio-templates.md) элемент должен содержать [ProjectItem](../extensibility/projectitem-element-visual-studio-item-templates.md) для каждого файла, которые будут включены в шаблон.

4. Изменять файлы кода и другое содержимое пользовательского интерфейса и добавьте соответствующий параметр подстановки.

5. Измените созданное содержимое при необходимости.

6. Выполните построение проекта.

     Visual Studio создает сжатый файл, содержащий шаблон. Оно не развернуто, и он не доступен в экспериментальном экземпляре.

## <a name="deployment"></a>Развертывание

### <a name="to-deploy-the-project-or-item-template"></a>Чтобы развернуть шаблон проекта или элемента

1. Создайте проект VSIX. Дополнительные сведения см. в разделе [шаблоном проекта VSIX](../extensibility/vsix-project-template.md).

2. Назначьте проект VSIX запускаемым проектом. В **обозревателе решений**, выберите узел проекта VSIX, щелкните правой кнопкой мыши и выберите **Назначить запускаемым проектом**.

3. Установите проект шаблона проекта в качестве ресурса проекта VSIX. Откройте *.vsixmanifest* файла. Перейдите к **активы** вкладку и нажмите кнопку **New**.

    1. Задайте **тип** поле **Microsoft.VisualStudio.ProjectTemplate** или **Microsoft.VisualStudio.ItemTemplate**.

    2. Для источника выберите **проект в текущем решении** параметр, а затем выберите проект, содержащий шаблон.

4. Выполнить сборку решения и нажмите клавишу **F5**. Откроется экспериментальный экземпляр.

5. Для проекта шаблона проекта, вы увидите шаблон проекта, перечисленные в **новый проект** диалоговое окно (**файл** > **New**  >  **Проекта**), в Visual C# или Visual Basic узла. Для шаблона элемента проекта, вы увидите шаблона элемента, перечисленных в **Добавление нового элемента** диалоговое окно. Чтобы просмотреть **Добавление нового элемента** диалоговом окне из **обозревателе решений**, выберите узел проекта и нажмите кнопку **добавить** > **новый элемент**).

## <a name="see-also"></a>См. также

- [Справочник по шаблонов Visual Studio](../ide/creating-project-and-item-templates.md)
- [Пакеты NuGet в шаблонах Visual Studio](/nuget/visual-studio-extensibility/visual-studio-templates)
