---
title: Указание обработчиков файлов для расширений имен файлов | Документация Майкрософт
description: Узнайте, как определить, какое приложение обрабатывает расширение файла в пакете SDK для Visual Studio с помощью Опенвислист и Опенвиспрогидс.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- file extensions, specifying file handlers
ms.assetid: e3de4730-a95c-465a-b3b2-92ca85364ad7
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: d897cb9bb4697a687bd06eeb02c779e133090e33
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99848101"
---
# <a name="specifying-file-handlers-for-file-name-extensions"></a>Указание обработчиков файлов для расширений имен файлов
Существует несколько способов определить приложение, которое обрабатывает файл с определенным расширением. Команды Опенвислист и Опенвиспрогидс — это два способа указать обработчики файлов в записи реестра для расширения файла.

## <a name="openwithlist-verb"></a>Команда Опенвислист
 Если щелкнуть правой кнопкой мыши файл в проводнике Windows, появится команда **Открыть** . Если с расширением связано более одного продукта, вы увидите подменю **Открыть с помощью** .

 Можно зарегистрировать различные приложения, чтобы открыть расширение, задав ключ Опенвислист для расширения файла в HKEY_CLASSES_ROOT. Приложения, перечисленные под этим ключом для расширения файла, отображаются под заголовком **Рекомендуемые программы** в диалоговом окне **Открыть с помощью** . В следующем примере показаны приложения, зарегистрированные для открытия расширения файла vcproj.

```
HKEY_CLASSES_ROOT\
   .vcproj\
      (default)="VisualStudio.vcproj.14.0"
      OpenWithList\
         devenv.exe
```

> [!NOTE]
> Ключи, указывающие приложения, находятся в списке в разделе HKEY_CLASSES_ROOT\Applications.

 Добавив ключ Опенвислист, вы объявили, что приложение поддерживает расширение файла, даже если другое приложение становится владельцем расширения. Это может быть будущая версия приложения или другого приложения.

## <a name="openwithprogids"></a>опенвиспрогидс
 Программные идентификаторы (ProgID) — это понятные версии классов ClassID, которые определяют версию приложения или COM-объекта. Каждый объект, создаваемый совместно, должен иметь собственный идентификатор ProgID. Например, VisualStudio. DTE. 7.1 запускает Visual Studio .NET 2003 во время запуска VisualStudio. DTE. 10.0 [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] . Как владелец типа проекта или типа элемента проекта, необходимо создать для расширения файла идентификатор ProgID, зависящий от версии. Эти идентификаторы ProgID могут быть избыточными в том, что несколько ProgID могут запускать одно и то же приложение. Дополнительные сведения см. в разделе [Регистрация команд для расширений имен файлов](../extensibility/registering-verbs-for-file-name-extensions.md).

 Используйте следующее соглашение об именовании для файлов ProgID с версиями, чтобы избежать дублирования с регистрацией других поставщиков:

|Расширение файла|Идентификатор ProgID|
|--------------------|----------------------|
|расширение|ProductName. расширение. versionMajor. versionMinor|

 Можно зарегистрировать различные приложения, которые могут открывать определенное расширение файла, добавляя версии ProgID в качестве значений в HKEY_CLASSES_ROOT \\ *\<extension>* ключ \опенвиспрогидс. Этот раздел реестра содержит список альтернативных идентификаторов ProgID, связанных с расширением файла. Приложения, связанные с указанными идентификаторами ProgID, отображаются в подменю **Открыть с помощью**_имени продукта_ . Если одно и то же приложение указано в `OpenWithList` `OpenWithProgids` ключах и, операционная система выполняет слияние дубликатов.

> [!NOTE]
> `OpenWithProgids`Ключ поддерживается только в Windows XP. Так как другие операционные системы не пропускают этот ключ, не используйте его в качестве единственной регистрации для обработчиков файлов. Используйте этот ключ, чтобы обеспечить лучшую работу пользователей в Windows XP.

 Добавьте нужные идентификаторы ProgID в качестве значений типа REG_NONE. В следующем коде приведен пример регистрации идентификаторов ProgID для расширения файла (.*Ext*).

```
HKEY_CLASSES_ROOT\
   .ext\
      (default)="MyProduct.ext.14.0"
      OpenWithProgids
         progid        REG_NONE (zero-length binary value)
         otherprogid   REG_NONE (zero-length binary value)
```

 Идентификатор ProgID, указанный в качестве значения по умолчанию для расширения файла, является обработчиком файлов по умолчанию. Если изменить ProgID для расширения файла, которое поставлялось с предыдущей версией [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] или может быть переработано другими приложениями, необходимо зарегистрировать `OpenWithProgids` ключ для расширения файла и указать новый идентификатор ProgID в списке вместе со старыми поддерживаемыми идентификаторами ProgID. Пример:

```
HKEY_CLASSES_ROOT\
   .vcproj\
      (default)="VisualStudio.vcproj.14.0"
      OpenWithProgids
         vcprojfile              //old progid
         VisualStudio.vcproj.12.0 //old progid
         VisualStudio.vcproj.14.0 //new progid
```

 Если старый идентификатор ProgID имеет связанные с ним команды, эти команды также будут отображаться в разделе **Открыть с** *именем продукта* в контекстном меню.

## <a name="see-also"></a>См. также раздел
- [Сведения о расширениях имен файлов](../extensibility/about-file-name-extensions.md)
- [Регистрация команд для расширений имен файлов](../extensibility/registering-verbs-for-file-name-extensions.md)
