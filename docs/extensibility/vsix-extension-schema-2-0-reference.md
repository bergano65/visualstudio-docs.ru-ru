---
title: Справочник по схеме 2.0 расширения VSIX | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- vsix
- extension schema
ms.assetid: 0da81b98-f5e3-40d3-ba9a-94551378d0b4
author: gregvanl
ms.author: gregvanl
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: af4fd52b28846228f447f70320babbdd357bac89
ms.sourcegitcommit: 11337745c1aaef450fd33e150664656d45fe5bc5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2019
ms.locfileid: "57324134"
---
# <a name="vsix-extension-schema-20-reference"></a>Справочник по схеме 2.0 расширения VSIX
Файл манифеста развертывания VSIX описывает содержимое пакета VSIX. Формат файла регулируется схемы. Эта схема версии 2.0 поддерживает добавление пользовательских типов и атрибутов.  Схема манифеста является расширяемой. XML-элементы и атрибуты, которые не понимает, игнорирует манифеста загрузчика.

> [!IMPORTANT]
>  Visual Studio 2015 можно загрузить VSIX-файлы в форматах Visual Studio 2010, Visual Studio 2012 или Visual Studio 2013.

## <a name="package-manifest-schema"></a>Схема манифеста пакета
 Корневой элемент файла манифеста XML — `<PackageManifest>`. Он имеет один атрибут `Version`, которая является версией формат манифеста. Если значительных изменений в формат, формат версии изменяется. В этой статье описывается формат манифеста версии 2.0, который указывается в манифесте, задав `Version` равным значению версии = «2.0».

### <a name="packagemanifest-element"></a>Элемент PackageManifest
 В рамках `<PackageManifest>` корневого элемента, можно использовать следующие элементы:

-   `<Metadata>` -Метаданных и рекламную информацию о сам пакет. Только один `Metadata` элемент допускается в манифесте.

-   `<Installation>` — В этом разделе определяет метод, этот пакет расширений могут быть установлены, включая номера SKU приложения, его можно установить в. Только один `Installation` элемент допускается в манифесте. Манифест должен иметь `Installation` элемент, или этот пакет невозможно установить в любой SKU.

-   `<Dependencies>` -Здесь определены необязательный список зависимостей для этого пакета.

-   `<Assets>` — Этот раздел содержит все ресурсы, содержащиеся в этом пакете. Без в этом разделе этот пакет не будет возникать любое содержимое.

-   `<AnyElement>*` -Схемы манифеста достаточно гибок для того, чтобы разрешить любых других элементов. Дочерние элементы не распознаются манифеста загрузчика, представлены в API диспетчера расширений виде дополнительных объектов XmlElement. Используя эти дочерние элементы, расширения VSIX можно определить дополнительные данные в файле манифеста, код, выполняемый в Visual Studio можно получить доступ во время выполнения. См. разделы <xref:Microsoft.VisualStudio.ExtensionManager.IExtension.AdditionalElements%2A> и <xref:Microsoft.VisualStudio.ExtensionManager.IExtension.LocalizedAdditionalElements%2A>.

### <a name="metadata-element"></a>Элемент метаданных
 Этот раздел содержит метаданные о пакете, идентификатору и рекламу сведения. `<Metadata>` содержит следующие элементы:

-   `<Identity>` -Определяет идентификационные данные для этого пакета и включает следующие атрибуты:

    -   `Id` — Этот атрибут должен быть уникальный идентификатор для пакета, определяется ее автора. Имя должны быть определены как типы CLR, помещенные в пространство имен: Company.Product.Feature.Name. `Id` Атрибут более 100 знаков.

    -   `Version` -Определяет версию этого пакета и его содержимым. Этот атрибут имеет формат, управление версиями сборки среды CLR: Major.Minor.Build.Revision (1.2.40308.00). Пакет с более высокий номер версии считается обновления пакета и может устанавливаться поверх существующей установленной версии.

    -   `Language` — Этот атрибут является язык по умолчанию для пакета и соответствует текстовые данные в этом манифесте. Этот атрибут соответствует соглашению код языкового стандарта среды CLR для сборки ресурсов, например: en-us, en, fr-fr. Можно указать `neutral` для объявления расширения не зависящий от языка, который будет выполняться в любой версии Visual Studio. Значение по умолчанию — `neutral`.

    -   `Publisher` — Этот атрибут идентифицирует издателя компании или отдельное имя этого пакета. `Publisher` Атрибут более 100 знаков.

-   `<DisplayName>` -Этот элемент задает имя понятное пакета, который отображается в пользовательском Интерфейсе диспетчера расширений. `DisplayName` Содержимое ограничено до 50 символов.

-   `<Description>` — Это необязательный элемент — это краткое описание пакета и его содержимое отображается в пользовательском Интерфейсе диспетчера расширений. `Description` Содержимое может содержать любой текст, который требуется, но он имеет более 1000 символов.

-   `<MoreInfo>` — Это необязательный элемент — это URL-адрес страницы через Интернет, содержащий полное описание этого пакета. Протокол должен быть указан как http.

-   `<License>` — Это необязательный элемент является относительным путем в лицензии файл (.txt, .rtf), содержащиеся в пакете.

-   `<ReleaseNotes>` — Это необязательный элемент — это относительный путь к файл заметок о выпуске, содержащихся в пакете (.txt, .rtf) в противном случае URL-адрес веб-сайта, на которой отображаются в заметках о выпуске.

-   `<Icon>` — Это необязательный элемент — это относительный путь к файлу изображения (png, bmp, jpeg, ico) содержатся в пакете. Изображение значка должен быть 32 x 32 пикселя (или будет сжат до размера) и отображается в элементе управления listview пользовательского интерфейса. Если нет `Icon` элемент указан, по умолчанию использует пользовательский Интерфейс.

-   `<PreviewImage>` — Это необязательный элемент — это относительный путь к файлу изображения (png, bmp, jpeg) содержащиеся в пакете. Изображение для предварительного просмотра должен быть 200 x 200 пикселей и отображаемую в сведениях о пользовательском Интерфейсе. Если нет `PreviewImage` элемент указан, по умолчанию использует пользовательский Интерфейс.

-   `<Tags>` — Это необязательный элемент содержит список тегов дополнительный текст, разделенный точками с запятой, которые используются для указания поиска. `Tags` Может быть только 100 символов.

-   `<GettingStartedGuide>` — Это необязательный элемент — либо относительный путь к HTML-файл или URL-адрес веб-сайта со сведениями о том, как использовать расширение или содержимое этого пакета. В этом руководстве будет запущен как часть установки.

-   `<AnyElement>*` -Схемы манифеста достаточно гибок для того, чтобы разрешить любых других элементов. Дочерние элементы, которые не распознаются манифеста загрузчика предоставляются как список объектов XmlElement. С помощью этих дочерних элементов, расширения VSIX можно определить дополнительные данные в файле манифеста и перечислить их во время выполнения.

### <a name="installation-element"></a>Элемент установки
 В этом разделе определяет способ этот пакет можно установить и номера SKU приложения, его можно установить в. Этот раздел содержит следующие атрибуты:

-   `Experimental` -Установите значение true, если у вас есть расширение, установленную в настоящее время для всех пользователей, но вы разрабатываете обновленной версии на одном компьютере. Например если вы установили MyExtension 1.0 для всех пользователей, но требуется отладка MyExtension 2.0 на том же компьютере, задайте экспериментальные = «true». Этот атрибут, доступные в Visual Studio 2015 с обновлением 1 и более поздних версий.

-   `Scope` — Этот атрибут может принимать значение «Global» или «ProductExtension»:

    -   «Глобальные» указывает, что установка не ограничена определенной Конфигурацией. Например это значение используется, если установлен пакет SDK расширения.

    -   «ProductExtension» указывает, что традиционные расширения VSIX (версия 1.0) для отдельных SKU Visual Studio установлен. Это значение по умолчанию.

-   `AllUsers` — Это необязательный атрибут указывает, устанавливается ли этот пакет для всех пользователей. По умолчанию этот атрибут имеет значение false, который указывает, что пакет на пользователя. (Если это значение равно true, пользователя, выполняющего установку необходимо повысить уровень прав администратора для установки получившийся проект VSIX.

-   `InstalledByMsi` — Это необязательный атрибут указывает, установлен ли этот пакет с MSI. Пакеты, установленные с MSI установлено и управляется службой MSI (программы и компоненты), а не по Диспетчер расширений Visual Studio.  По умолчанию этот атрибут имеет значение false, которое указывает, что пакет не устанавливается по MSI.

-   `SystemComponent` — Это необязательный атрибут указывает, следует ли учитывать этот пакет компонентом системы. Компоненты системы больше не показывать в пользовательском Интерфейсе диспетчера расширений и не может быть обновлен. По умолчанию этот атрибут имеет значение false, которое указывает, что пакет не компонентом системы.

-   `AnyAttribute*` - `Installation` Элемент принимает открытый набор атрибутов, предоставляемых во время выполнения как словарь пары "имя значение".

-   `<InstallationTarget>` -Этот элемент определяет расположение, где установщик VSIX устанавливает пакет. Если значение `Scope` атрибута является «ProductExtension» пакет должен быть предназначен для SKU, устанавливаемая файл манифеста как часть ее содержимого, чтобы объявить его доступность для расширения. `<InstallationTarget>` Элемент имеет следующие атрибуты при `Scope` имеет явный атрибут или значение по умолчанию «ProductExtension»:

    -   `Id` — Этот атрибут идентифицирует пакет.  Атрибут соответствует соглашению, пространство имен: Company.Product.Feature.Name. `Id` Атрибута может содержать только буквы, цифры и более 100 знаков. Ожидаемые значения:

        -   Microsoft.VisualStudio.IntegratedShell

        -   Microsoft.VisualStudio.Pro

        -   Microsoft.VisualStudio.Premium

        -   Microsoft.VisualStudio.Ultimate

        -   Microsoft.VisualStudio.VWDExpress

        -   Microsoft.VisualStudio.VPDExpress

        -   Microsoft.VisualStudio.VSWinExpress

        -   Microsoft.VisualStudio.VSLS

        -   My.Shell.App

    -   `Version` — Этот атрибут указывает диапазон версий с минимальные и максимальные поддерживаемые версии этого SKU. Пакет можно подробные сведения о версиях номера SKU, которые она поддерживает. Нотация диапазон версии является [10.0 11.0], где

        -   [-минимальной версии включительно.

        -   ]-максимальный номер версии включительно.

        -   (-эксклюзивное минимальной версии.

        -   ) — эксклюзивное максимальный номер версии.

        -   Отдельная версия # — только указанной версии.

        > [!IMPORTANT]
        > Версию схемы VSIX 2.0 появился в Visual Studio 2012. Для использования этой схемы вы должен иметь Visual Studio 2012 или более поздней версии установлен на компьютере и используйте VSIXInstaller.exe, входит в состав этого продукта. Можно ориентироваться на более ранних версиях Visual Studio с Visual Studio 2012 или более поздней версии установщик VSIX, но только с помощью более поздней версии установщика.

        Номера версий Visual Studio 2017 можно найти в [номера сборки Visual Studio и даты выпуска](../install/visual-studio-build-numbers-and-release-dates.md).

        Задавая для выпусков Visual Studio 2017 версии, дополнительный номер версии всегда должно быть **0**. Например Visual Studio 2017 версии 15.3.26730.0 должен быть выражен как [15.0.26730.0,16.0). Это только необходимые для Visual Studio 2017 и более поздней версии.

    -   `AnyAttribute*` - `<InstallationTarget>` Элемент допускает открытый набор атрибутов, предоставляемый во время выполнения как словарь пары "имя значение".

### <a name="dependencies-element"></a>Dependencies-элемент
 Этот элемент содержит список зависимостей, которые объявляются с помощью этого пакета. Если указаны все зависимости, эти пакеты (определяется их `Id`) должны быть установлены перед.

-   `<Dependency>` элемент - это дочерний элемент имеет следующие атрибуты:

    -   `Id` — Этот атрибут должен быть уникальный идентификатор для зависимый пакет. Это значение удостоверения должно соответствовать `<Metadata><Identity>Id` атрибут пакета, зависящий от этого пакета. `Id` Атрибут соответствует соглашению, пространство имен: Company.Product.Feature.Name. Атрибут может содержать только буквы, цифры и более 100 знаков.

    -   `Version` — Этот атрибут указывает диапазон версий с минимальные и максимальные поддерживаемые версии этого SKU. Пакет можно подробные сведения о версиях номера SKU, которые она поддерживает. — Диапазон нотации версии [12.0, 13.0], где:

        -   [-минимальной версии включительно.

        -   ]-максимальный номер версии включительно.

        -   (-эксклюзивное минимальной версии.

        -   ) — эксклюзивное максимальный номер версии.

        -   Отдельная версия # — только указанной версии.

    -   `DisplayName` — Этот атрибут является отображаемое имя зависимого пакета, который используется в элементы пользовательского интерфейса, таких как диалоговые окна и сообщения об ошибках. Атрибут является необязательным, если зависимый пакет не установлен, MSI.

    -   `Location` — Это необязательный атрибут указывает относительный путь в этом VSIX для вложенных пакетов VSIX или URL-адрес в расположение загрузки для зависимости. Этот атрибут используется, чтобы помочь пользователю определить местонахождение готовности к установке пакета.

    -   `AnyAttribute*` - `Dependency` Элемент принимает открытый набор атрибутов, предоставляемых во время выполнения как словарь пары "имя значение".

### <a name="assets-element"></a>Элемент активы
 Этот элемент содержит список `<Asset>` теги для каждого расширения или содержимое элемента отображается для этого пакета.

- `<Asset>` -Этот элемент содержит следующие атрибуты и элементы.

  - `Type` — Тип расширения или содержимое, представленное данным элементом. Каждый `<Asset>` элемент должен быть одиночный `Type`, но несколько `<Asset>` элементов может иметь такую же `Type`. Этот атрибут должны быть представлены как полное доменное имя, в соответствии с соглашениями пространства имен. Ниже приведены известные типы.

    1. Microsoft.VisualStudio.VsPackage

    2. Microsoft.VisualStudio.MefComponent

    3. Microsoft.VisualStudio.ToolboxControl

    4. Microsoft.VisualStudio.Samples

    5. Microsoft.VisualStudio.ProjectTemplate

    6. Microsoft.VisualStudio.ItemTemplate

    7. Microsoft.VisualStudio.Assembly

       Можно создать собственные типы и дать им уникальные имена. Во время выполнения в Visual Studio код можно перечислить и этих пользовательских типов доступа через API диспетчера расширений.

  - `Path` — относительный путь к файлу или папке в пакет, содержащий ресурс.

  - `TargetVersion` — диапазон версий, к которому применяется данный ресурс. Используется для доставки несколько версий ресурсов для разных версий Visual Studio. Требуется Visual Studio 2017.3 или более поздней версии действовать.

  - `AnyAttribute*` -Открытый набор данных атрибутов, предоставляемый во время выполнения как словарь пары имя значение.

     `<AnyElement>*` — Любое структурированного содержимого должны разделяться `<Asset>` начальный и конечный тег. Все элементы передаются в виде списка объектов XmlElement. Расширения VSIX можно определить структурированных метаданных, определяемых в файле манифеста и перечислить их во время выполнения.

### <a name="sample-manifest"></a>Пример манифеста

```
<?xml version="1.0" encoding="utf-8"?>
<PackageManifest Version="2.0.0" xmlns="http://schemas.microsoft.com/developer/vsx-schema/2011" xmlns:d="http://schemas.microsoft.com/developer/vsx-schema-design/2011">
  <Metadata>
    <Identity Id="0000000-0000-0000-0000-000000000000" Version="1.0" Language="en-US" Publisher="Company" />
    <DisplayName>Test Package</DisplayName>
    <Description>Information about my package</Description>
    <MoreInfo>http://www.fabrikam.com/Extension1/</MoreInfo>
    <License>eula.rtf</License>
    <ReleaseNotes>notes.txt</ReleaseNotes>
    <Icon>Images\icon.png</Icon>
    <PreviewImage>Images\preview.png</PreviewImage>
  </Metadata>
  <Installation InstalledByMsi="false" AllUsers="false" SystemComponent="false" Scope="ProductExtension">
    <InstallationTarget Id="Microsoft.VisualStudio.Pro" Version="[11.0, 12.0]" />
  </Installation>
  <Dependencies>
    <Dependency Id="Microsoft.Framework.NDP" DisplayName="Microsoft .NET Framework" d:Source="Manual" Version="[4.5,)" />
    <Dependency Id="Microsoft.VisualStudio.MPF.12.0" DisplayName="Visual Studio MPF 12.0" d:Source="Installed" Version="[12.0]" />
  </Dependencies>
  <Assets>
    <Asset Type="Microsoft.VisualStudio.VsPackage" d:Source="Project" d:ProjectName="%CurrentProject%" Path="|%CurrentProject%;PkgdefProjectOutputGroup|" />
  </Assets>
</PackageManifest>
```

## <a name="see-also"></a>См. также
- [Доставка расширений Visual Studio](../extensibility/shipping-visual-studio-extensions.md)
