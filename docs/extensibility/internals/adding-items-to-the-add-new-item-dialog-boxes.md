---
title: Добавление элементов, чтобы добавить новый элемент диалоговым окнам | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- Add New Item dialog box, adding items
ms.assetid: 2f70863b-425b-4e65-86b4-d6a898e29dc7
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: d447090585a2314899bb2d6246c6fb450a9e767d
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/02/2019
ms.locfileid: "53956053"
---
# <a name="add-items-to-the-add-new-item-dialog-box"></a>Добавление элементов в диалоговом окне Добавление нового элемента
Процесс добавления элементов к **Добавление нового элемента** запускает диалоговое окно с разделами реестра. Как показано в следующей записи в реестре, **AddItemTemplates** раздел содержит путь и имя папки, в какие элементы доступны в **Добавление нового элемента** помещаются диалоговое окно.  

> [!NOTE]
>  Следующий сегмент кода сразу таблицы содержит дополнительные сведения о параметре реестра.  

 В этом разделе находится в папке **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\VisualStudio\14.0Exp\Projects**.

 Первый идентификатор GUID является CLSID для проектов этого типа; второй идентификатор GUID указывает тип зарегистрированного проекта для шаблонов добавить элементы:  

 **\\{C061DB26-5833-11D2-96F5-000000000000} \\AddItemTemplates\\TemplatesDir\\{ACEF4EB2-57CF-11D2-96F4-000000000000}\\1**

 **@** = #6 

 **TemplatesDir** = \\&lt;путь установки Visual Studio SDK&gt;\\VSIntegration\\&lt;SomeFolder&gt; \\ &lt;SomePackage&gt;\\&lt;SomeProject&gt;\\&lt;SomeProjectItems&gt;

 **SortPriority** = dword:00000064


| name | Тип | Данные (от *.rgs* файла) | Описание: |
|------------------|-----------| - | - |
| @ (По умолчанию) | REG_SZ | #% IDS_ADDITEM_TEMPLATES_ENTRY % | Идентификатор ресурса для **Добавление элемента** шаблонов. |
| Val TemplatesDir | REG_SZ | % TEMPLATE_PATH %\\&lt;SomeProjectItems&gt; | Путь проекта элементов, отображаемых в диалоговом окне для **Добавление нового элемента** мастера. |
| Val SortPriority | REG_DWORD | 100 ([!INCLUDE[vcprx64](../../extensibility/internals/includes/vcprx64_md.md)]) | Определяет порядок сортировки в узле дерева файлов, отображаемых в **Добавление нового элемента** диалоговое окно. |

> [!NOTE]
>  Ниже приведены идентификаторы GUID для Visual C# и типы проектов Visual Basic. 
> - [!INCLUDE[csprcs](../../data-tools/includes/csprcs_md.md)]: {FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}
> - [!INCLUDE[vbprvb](../../code-quality/includes/vbprvb_md.md)]: {F184B08F-C81C-45F6-A57F-5ABD9991F28F}  

 Каталога, выбранного для **TemplatesDir**, который является *% TEMPLATE_PATH %\\&lt;SomeProjectItems&gt;*, — это узел слева от **добавить Новый элемент** дерева поле диалогового окна. Дополнительные элементы в дереве основаны на подкаталог из этого корневого каталога. Файлы, доступные для добавления в проект — это элементы, в правой части **Добавление нового элемента** диалоговое окно.  

 Как правило, эта папка будет содержать файлы шаблонов для проекта, например шаблон HTML или *.cpp* файл и какой-либо *.vsz* файлы для запуска мастера. Чтобы контролировать, как отображаются элементы, можно также включить *.vsdir* файлов для локализации имен папок и значки. Локализованная строка — это заголовок, который отображается в диалоговом окне, которое представляет этот узел в **Добавление нового элемента** дерева поле диалогового окна.  

 Тем не менее, у вас есть все, что в одном *.vsdir* файла. Можно иметь один *.vsdir* файл для каждого элемента в каталоге. Дополнительные сведения см. в разделе [файл мастера (VSZ)](../../extensibility/internals/wizard-dot-vsz-file.md) и [файлы description (VSDir-) каталог шаблона](../../extensibility/internals/template-directory-description-dot-vsdir-files.md).  

> [!NOTE]
>  *.Vsdir* файлах в каталогах шаблона являются необязательными. Если вам нужно просто поместить элемент проекта в каталоге и отобразит в **Добавление нового элемента** диалоговом окне можно поместить этот файл в каталог шаблонов, указанных в **TemplatesDir** инструкции. Затем файл будет отображаться в правой части **Добавление нового элемента** диалоговое окно для этого проекта. Тем не менее, если вы хотите отобразить локализованные названия для файла или значок, необходимо включить хотя бы один *.vsdir* файл в каталоге шаблонов.  

## <a name="group-project-items"></a>Группирование элементов проекта  
 Если вы хотите содержат группы шаблонов в папках, в **Добавление нового элемента** дерева поле диалогового окна, необходимо иметь вложенные папки в корневом каталоге шаблона с элементами в них. Когда **Добавление нового элемента** диалоговое окно отображается для пользователей, они будут также представлены вложенные папки и получить возможность выбора из их элементов проекта.  

 Приоритет сортировки в сегменте кода определяет, где будет создан этот каталог шаблон в дереве относительно других элементов узла дерева. Для **Добавление нового элемента** » диалогового окна «приоритет сортировки — все, что необходимо включить, чтобы ваши элементы будут отображены в нужное место в диалоговом окне.  

 Вы также можете реализовать <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2> интерфейс для фильтрации отображаемых в **Добавление нового элемента** диалоговое окно. Реализовав этот интерфейс, можно выполнить настройку один шаблон каталога на диск, содержащий, например, 50 файлов шаблонов и мастера. Таким образом может иметь различных типов проектов с 20 файлов, которые принадлежат один тип проекта, 30 файлов, принадлежащих к другому типу проекта и все файлы, доступные в общий тип проекта. Таким образом, в зависимости от того, какой проект создается шаблон, можно отобразить другой набор файлов шаблонов.  

 Например в проекте Visual Basic, возможно, веб-проекты и проекты клиента. Веб-форм не полезные элементы для добавления в проект клиента, и windows forms не полезные элементы для добавления в проект веб-сервера. Таким образом можно создать один каталог шаблона, содержащий файлы для обоих типов проекта. Затем, путем реализации <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>, можно скрыть элементы, которые не должны отображаться на основе типа проекта или параметры проекта в проекте.  

## <a name="filter-project-items"></a>Фильтровать элементы проекта  
 `IVsFilterAddProjectItemDlg2` предоставляет для фильтрации элементов в дереве (слева) и файлы проекта (правая область), одним из следующих способов:  

- Локализованные имена (заголовки, отображаемые в диалоговом окне, содержащийся в *.vsdir* файл), предоставляемые `IVsFilterAddProjectItemDlg`.  

- По фактические имена файлов и папок на диске (нелокализованное — не *.vsdir* файл), предоставляемые `IVsFilterAddProjectItemDlg`.  

- По категориям, предоставляемые `IVsFilterAddProjectItemDlg2`.  

  Чтобы отфильтровать по категории, укажите строку категории для элемента в *.vsdir* файлы, например *веб-форму* или *элемент клиентского* в Visual Basic. Коду диалогового окна, затем извлекает классификации категории из *.vsdir* файл и передает его вам. Затем можно передать эту информацию для реализации `IVsFilterAddProjectItemDlg2` для фильтрации **Добавление нового элемента** диалоговое окно по категориям. Также позволяет отфильтровать элементы, для веб-страниц или как случаи приложений Win32 клиента. Кроме того, можно определить [!INCLUDE[vcprvc](../../code-quality/includes/vcprvc_md.md)] элементы с пометкой Microsoft Foundation Classes (MFC) или шаблонных элементов library (ATL). При идентификации этих элементов, система проектов можно определить свой собственный классификации, таким образом, чтобы система можно фильтровать по категории и классификации.  

  Если вы реализуете эту функцию фильтра, у вас нет сопоставление таблицы всех элементов, которые должны быть скрыты. Можно просто классификации в типы элементов и поместить классификации *.vsdir* файла или файлов. Затем можно скрыть элементы, которых затрагивает конкретный класс путем реализации интерфейса. Таким образом, чтобы сделать объекты в **Добавление нового элемента** динамическое поле диалогового окна на основе состояния в рамках проекта.  

## <a name="see-also"></a>См. также  
 <xref:Microsoft.VisualStudio.Shell.Interop.IVsFilterAddProjectItemDlg2>   
 [Регистрация шаблонов проектов и элементов](../../extensibility/internals/registering-project-and-item-templates.md)   
 [CATID для объектов, которые обычно используются для расширения проектов](../../extensibility/internals/catids-for-objects-that-are-typically-used-to-extend-projects.md)   
 [Добавьте в проект и шаблоны элементов проекта](../../extensibility/internals/adding-project-and-project-item-templates.md)   
 [Файлы описания (VSDir-) каталог шаблонов](../../extensibility/internals/template-directory-description-dot-vsdir-files.md)   
 [Файл мастера (VSZ)](../../extensibility/internals/wizard-dot-vsz-file.md)