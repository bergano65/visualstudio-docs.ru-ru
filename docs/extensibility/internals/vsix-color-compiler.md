---
title: Компилятор цветов VSIX | Документация Майкрософт
description: Сведения о средстве компилятора цветов расширения Visual Studio, которое представляет собой консольное приложение, которое преобразует цвета в темах Visual Studio в pkgdef-файл.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 99395da7-ec34-491d-9baa-0590d23283ce
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 7e6e4a07a023be398c4106984fe4dc33eddd2706
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99929203"
---
# <a name="vsix-color-compiler"></a>Компилятор цветов VSIX
Средство компилятора цветов расширения Visual Studio — это консольное приложение, которое принимает XML-файл, представляющий цвета для существующих тем Visual Studio, и преобразует его в файл pkgdef, чтобы эти цвета можно было использовать в Visual Studio. Так как легко сравнивать различия между XML-файлами, это средство полезно для управления пользовательскими цветами в системе управления версиями. Она также может быть подключена к средам сборки, чтобы выходные данные сборки были допустимым файлом pkgdef.

 **Схема XML темы**

 Полный файл Theme. XML выглядит следующим образом:

```xml
<Themes>
      <!—one or Theme elements -->
      <Theme>
        <!-- one or more Category elements -->
        <Category>
          <!-- one or more Color elements -->
          <Color>
            <!-- zero or one Background element -->
            <Background />
            <!-- zero or one Foreground element -->
            <Foreground />
          </Color>
        </Category>
      </Theme>
</Themes>
```

 **Тема**.

 \<Theme>Элемент определяет всю тему. Тема должна содержать по крайней мере один \<Category> элемент. Элементы темы определяются следующим образом:

```xml
<Theme Name="name" GUID="guid">
      <!-- one or more Category elements -->
</Theme>
```

|**Attribute**|**Определение**|
|-|-|
|Имя|Необходимости Имя темы|
|Идентификатор GUID|Необходимости Идентификатор GUID темы (должен соответствовать форматированию GUID)|

 При создании пользовательских цветов для Visual Studio эти цвета должны быть определены для следующих тем. Если для конкретной темы цвета не существуют, Visual Studio пытается загрузить недостающие цвета из светлой темы.

|**Имя темы**|**GUID темы**|
|-|-|
|Светлая|{de3dbbcd-f642-433c-8353-8f1df4370aba}|
|Темная|{1ded0138-47ce-435e-84ef-9ec1f439b749}|
|Синий|{a4d6a176-b948-4b29-8c66-53c97a1ed7d0}|
|Высокая контрастность|{a4d6a176-b948-4b29-8c66-53c97a1ed7d0}|

 **Категория**

 \<Category>Элемент определяет коллекцию цветов в теме. Имена категорий обеспечивают логические группирования и должны быть определены как можно более узкими. Категория должна содержать по крайней мере один \<Color> элемент. Элементы category определяются следующим образом:

```xml
<Category Name="name" GUID="guid">
      <!-- one or more Color elements -->
 </Category>
```

|**Attribute**|**Определение**|
|-|-|
|Имя|Необходимости Имя категории|
|Идентификатор GUID|Необходимости GUID категории (должен соответствовать форматированию GUID)|

 **Цвет**

 \<Color>Элемент определяет цвет для компонента или состояния пользовательского интерфейса. Предпочтительной схемой именования для цвета является [тип ИП] [State]. Не используйте слово «Color», так как оно избыточно. Цвет должен четко указывать тип элемента, ситуации или "состояние", для которого будет применен цвет. Цвет не должен быть пустым и должен содержать либо один, либо оба \<Background> \<Foreground> элемента и. Элементы Color определяются следующим образом:

```xml
<Color Name="name">
        <Background /> <!-- zero or one Background element -->
        <Foreground /> <!-- zero or one Foreground element -->
 </Color>
```

|**Attribute**|**Определение**|
|-|-|
|Имя|Необходимости Имя цвета|

 **Фон и (или) передний план**

 \<Background>Элементы и \<Foreground> определяют значение цвета и тип для фона или переднего плана элемента пользовательского интерфейса. Эти элементы не имеют дочерних элементов.

```xml
<Background Type="type" Source="int" />
<Foreground Type="type" Source="int" />
```

|**Attribute**|**Определение**|
|-|-|
|Тип|Необходимости Тип цвета. Может принимать одно из следующих значений:<br /><br /> *CT_INVALID:* Недопустимый или неустановленный цвет.<br /><br /> *CT_RAW:* Необработанное значение ARGB.<br /><br /> *CT_COLORINDEX:* НЕ ИСПОЛЬЗУЙТЕ.<br /><br /> *CT_SYSCOLOR:* Системный цвет Windows из Сисколор.<br /><br /> *CT_VSCOLOR:* Цвет Visual Studio из __VSSYSCOLOREX.<br /><br /> *CT_AUTOMATIC:* Автоматический цвет.<br /><br /> *CT_TRACK_FOREGROUND:* НЕ ИСПОЛЬЗУЙТЕ.<br /><br /> *CT_TRACK_BACKGROUND:* НЕ ИСПОЛЬЗУЙТЕ.|
|Источник|Необходимости Значение цвета, представленного в шестнадцатеричном формате|

 Все значения, поддерживаемые перечислением __VSCOLORTYPE, поддерживаются схемой в атрибуте Type. Однако рекомендуется использовать только CT_RAW и CT_SYSCOLOR.

 **Все вместе**

 Это простой пример допустимого файла Theme. XML:

```xml
<Themes>
  <Theme Name="Light" GUID="{de3dbbcd-f642-433c-8353-8f1df4370aba}">
    <Category Name="MyCategory" GUID="{0A96238B-70CE-4479-9170-EECEAA3FCD58}">
      <Color Name="MyActiveBorder">
        <Background Type="CT_RAW" Source="FFCCCEDB" />
      </Color>
    </Category>
  </Theme>
</Themes>
```

## <a name="how-to-use-the-tool"></a>Использование средства
 **Синтаксис**

 Всиксколоркомпилер \<XML file> \<PkgDef file>\<Optional Args>

 **Аргументы**

|**Имя коммутатора**|**Примечания**|**Обязательный или необязательный**|
|-|-|-|
|Безымянный (XML-файл)|Это первый безымянный параметр, который является путем к преобразуемому XML-файлу.|Обязательно|
|Безымянный (pkgdef-файл)|Это второй неименованный параметр, который является выходным путем для созданного pkgdef-файла.<br /><br /> По умолчанию: \<XML Filename> . pkgdef|Необязательный|
|/nologo|Установка этого флага останавливает печать сведений о продукте и авторских правах.|Необязательный|
|/?|Вывод справочной информации.|Необязательный|
|/help|Вывод справочной информации.|Необязательный|

 **Примеры**

- Всиксколоркомпилер D:\xml\colors.xml Д:\пкгдеф\колорс.пкгдеф

- Всиксколоркомпилер D:\xml\colors.xml/noLogo

## <a name="notes"></a>Примечания

- Для этого средства требуется установить последнюю версию среды выполнения VC + +.

- Поддерживаются только отдельные файлы. Групповое преобразование через пути к папке не поддерживается.

## <a name="sample-output"></a>Пример выходных данных
 Файл pkgdef, созданный средством, будет похож на следующие разделы:

```
[$RootKey$\Themes\{de3dbbcd-f642-433c-8353-8f1df4370aba}\Environment]
"Data"=hex:3a,00,00,00,0b,00,00,00,01,00,00,00,c3,d9,4e,62,fd,bd,fa,41,96,c3,7c,82,4e,a3,2e,3d,01,00,00,00,0c,00,00,00,41,63,74,69,76,65,42,6f,72,64,65,72,01,cc,ce,db,ff,01,33,31,24,ff

[$RootKey$\Themes\{de3dbbcd-f642-433c-8353-8f1df4370aba}\TreeView]
"Data"=hex:38,00,00,00,0b,00,00,00,01,00,00,00,8e,f0,ec,92,13,8b,f4,4c,99,e9,ae,26,92,38,21,85,01,00,00,00,0a,00,00,00,42,61,63,6b,67,72,6f,75,6e,64,01,f5,f5,f5,ff,01,1e,1e,1e,ff
```
