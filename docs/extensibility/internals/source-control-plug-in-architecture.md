---
title: Архитектура подключаемого модуля системы управления версиями | Документация Майкрософт
description: Узнайте, как добавить поддержку системы управления версиями в интегрированную среду разработки Visual Studio путем реализации и присоединения подключаемого модуля системы управления версиями.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control plug-ins, architecture
ms.assetid: 35351d4c-9414-409b-98fc-f2023e2426b7
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: e154e91ce552df9e54d45ea9210a0679edae5f28
ms.sourcegitcommit: 0c9155e9b9408fb7481d79319bf08650b610e719
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/05/2021
ms.locfileid: "97878070"
---
# <a name="source-control-plug-in-architecture"></a>Архитектура подключаемого модуля системы управления версиями
Вы можете добавить поддержку системы управления версиями в [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] интегрированную среду разработки (IDE), реализовав и присоединив подключаемый модуль системы управления версиями. Интегрированная среда разработки подключается к подключаемому модулю системы управления версиями через четко определенную систему управления версиями Plug-In API. Интегрированная среда разработки предоставляет возможности управления версиями системы управления версиями, предоставляя пользовательский интерфейс (UI), состоящий из панелей инструментов и команд меню. Подключаемый модуль системы управления версиями реализует функции управления версиями.

## <a name="source-control-plug-in-resources"></a>Ресурсы подключаемого модуля системы управления версиями
 Подключаемый модуль системы управления версиями предоставляет ресурсы, помогающие создать и подключить приложение версии в [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] интегрированной среде разработки. Подключаемый модуль системы управления версиями содержит спецификацию API, которая должна быть реализована с помощью подключаемого модуля системы управления версиями, чтобы ее можно было интегрировать в [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] интегрированную среду разработки. Он также содержит пример кода (написанный на языке C++), который реализует каркас подключаемого модуля системы управления версиями, демонстрирующий реализацию ключевых функций, совместимых с API подключаемого модуля системы управления версиями.

 Спецификация API подключаемого модуля системы управления версиями позволяет использовать любую систему управления версиями при создании библиотеки DLL системы управления версиями с требуемым набором функций, реализованных в соответствии с API подключаемого модуля системы управления версиями.

## <a name="components"></a>Components
 Пакет адаптера системы управления версиями на схеме является компонентом интегрированной среды разработки, который преобразует запрос пользователя для операции системы управления версиями в вызов функции, поддерживаемый подключаемым модулем системы управления версиями. В этом случае интегрированная среда разработки и подключаемый модуль системы управления версиями должны иметь эффективное диалоговое окно, которое передает информацию между интегрированной средой разработки и подключаемым модулем. Чтобы это диалоговое окно было выполнено, оба они должны говорить на одном языке. Интерфейс API подключаемого модуля системы управления версиями, описанный в этой документации, — это общий словарь для этого обмена.

 ![Схема архитектуры управления исходным кодом](../../extensibility/internals/media/vs_sccsdk_plug_in_arch.gif "vs_sccsdk_plug_in_arch") Схема архитектуры, показывающая взаимодействие между VS и подключаемым модулем системы управления версиями

 Как показано на схеме архитектуры, [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] оболочка, обозначенная как VS Shell на диаграмме, содержит рабочие проекты пользователя и связанные компоненты, такие как редакторы и Обозреватель решений. Пакет адаптера системы управления версиями обрабатывает взаимодействие между интегрированной средой разработки и подключаемым модулем системы управления версиями. Пакет адаптера системы управления версиями предоставляет собственный пользовательский интерфейс системы управления версиями. Это пользовательский интерфейс верхнего уровня, с которым взаимодействует пользователь, чтобы инициировать и определять область действия системы управления версиями.

 Подключаемый модуль системы управления версиями может иметь собственный пользовательский интерфейс, который может состоять из двух частей, как показано на рисунке. Поле с названием "Пользовательский интерфейс поставщика" представляет пользовательские элементы пользовательского интерфейса, которые в качестве создателя подключаемого модуля системы управления версиями предоставляют. Они отображаются непосредственно подключаемым модулем системы управления версиями, когда пользователь вызывает расширенную операцию системы управления версиями. Поле с меткой "вспомогательный пользовательский интерфейс" — это набор функций пользовательского интерфейса подключаемого модуля системы управления версиями, которые косвенно вызываются через IDE. Подключаемый модуль системы управления версиями передает связанные с ИП сообщения в интегрированную среду разработки через специальные функции обратного вызова, предоставляемые интегрированной средой разработки. Вспомогательный пользовательский интерфейс упрощает интеграцию с интегрированной средой разработки (часто с помощью кнопки " **Дополнительно** ") и обеспечивает более унифицированное взаимодействие с конечными пользователями.

 Подключаемый модуль системы управления версиями не может вносить изменения в [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] оболочку и, следовательно, в пакет адаптера системы управления версиями или пользовательский интерфейс системы управления версиями, предоставляемый интегрированной средой разработки. Он должен использовать максимальную гибкость, предлагаемую при реализации различных функций API подключаемого модуля системы управления версиями, которые приводят к интегрированному интерфейсу для конечного пользователя. В разделе Reference документации по API подключаемого модуля системы управления версиями содержатся сведения о некоторых расширенных возможностях подключаемых модулей системы управления версиями. Для использования этих функций подключаемый модуль системы управления версиями должен объявлять свои расширенные возможности интегрированной среде разработки во время инициализации, а также реализовывать определенные дополнительные функции для каждой возможности.

## <a name="see-also"></a>См. также раздел
- [Подключаемые модули системы управления версиями](../../extensibility/source-control-plug-ins.md)
- [Словарь терминов](../../extensibility/source-control-plug-in-glossary.md)
- [Создание подключаемого модуля системы управления версиями](../../extensibility/internals/creating-a-source-control-plug-in.md)
