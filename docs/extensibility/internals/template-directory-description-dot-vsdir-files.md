---
title: Описание каталога шаблонов (. VSDir) файлы | Документация Майкрософт
description: Узнайте, как файл описания каталога шаблонов позволяет интегрированной среде разработки Visual Studio отображать папки, VSZ-файлы и шаблоны, связанные с проектом.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- .vsdir files
- VSDIR files
- template directory description files
ms.assetid: 9df51800-190e-4662-b685-fdaafcff1400
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 0e2b56c061ce6e3124a7ed5a5dc00e41c3964204
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99898239"
---
# <a name="template-directory-description-vsdir-files"></a>Файлы описания каталога шаблона (VSDIR-файлы)
Файл описания каталога шаблонов (VSDir) — это текстовый файл, который позволяет интегрированной среде разработки (IDE) отображать папки, файлы Wizard. vsz и файлы шаблонов, связанные с проектом, в диалоговых окнах. Содержимое включает одну запись для каждого файла или папки. Объединяются все файлы VSDir в указанном расположении, хотя для описания нескольких папок, мастеров или файлов шаблонов обычно предоставляется только один VSDir-файл.

 Папки (подкаталоги), файлы, на которые имеются ссылки в файле VSDir, и сам файл VSDir находятся в одном каталоге. Когда интегрированная среда разработки запускает мастер или отображает папку или файл в диалоговых окнах **Новый проект** или **Добавление нового элемента** , интегрированная среда разработки проверяет каталог, содержащий выполненные файлы, для определения наличия файла VSDir. Если файл VSDir найден, интегрированная среда разработки считывает его, чтобы определить, содержит ли он запись для выполняемой или отображаемой папки или файла. Если запись найдена, в интегрированной среде разработки используются сведения, приведенные в ходе выполнения мастера, или отображается содержимое.

 В следующем примере кода из файла SourceFiles. VSDir в разделе \<EnvSDK> реестра \бскпрж\бскпрж\бскпржпрожектитемс\ Source_Files:

```
HeaderFile.h|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#125|130|#126|0|0|0|#127
SourceFile.cpp|{E59935A1-6156-11d1-87A6-00A0C91E2A46}|#122|110|#123|0|0|0|#124
```

 В этом случае две записи находятся в одном файле. Каждая запись отделяется новой строкой (символ возврата каретки). Каждая строка представляет файл другого типа. Символ вертикальной черты (&#124;) разделяет поля в каждой записи. Один каталог может содержать несколько файлов. VSDir с разными именами файлов или один файл VSDir для каждого типа файлов.

## <a name="fields"></a>Поля
 В следующей таблице перечислены поля, указанные для каждой записи.

| Поле | Описание |
| - | - |
| Имя относительного пути (Релпаснаме) | Имя папки, шаблона или файла VSZ, например Хеадерфиле. h или MyWizard. vsz. Это поле также может быть именем, используемым для представления папки. |
| {Клсидпаккаже} | Идентификатор пакета VSPackage, который обеспечивает доступ к локализованным строкам, таким как LocalizedName, Description, Иконресаурцеид и Сугжестедбасенаме, в ресурсах DLL-библиотеки вспомогательной динамической компоновки VSPackage. Иконресаурцеид применяется, если не указан DLLPath. **Примечание.**  Это поле является необязательным, если одно или несколько из предыдущих полей являются идентификатором ресурса. Это поле обычно пусто для файлов. VSDir, которые соответствуют сторонним мастерам, не предназначенным для локализации текста. |
| LocalizedName | Локализованное имя файла шаблона или мастера. Это поле может быть строкой или идентификатором ресурса в формате "#ResID". Это имя отображается в диалоговом окне **Добавление нового элемента** . **Примечание.**  Если LocalizedName является идентификатором ресурса, требуется {Клсидпаккаже}. |
| сортприорити | Целое число, представляющее относительный приоритет этого файла шаблона или мастера. Например, если этот элемент имеет значение 1, то этот элемент отображается рядом с другими элементами со значением 1 и впереди всех элементов со значением сортировки 2 или больше.<br /><br /> Приоритет сортировки задается относительно элементов в том же каталоге. В одном каталоге может быть несколько файлов VSDir. В этом случае все элементы из всех <em>.</em> файлы VSDir в этом каталоге сливаются. Элементы с одинаковым приоритетом перечисляются в лексикографическим порядком порядке без учета регистра отображаемого имени. `_wcsicmp`Функция используется для упорядочивания элементов.<br /><br /> Элементы, не описанные в файлах. VSDir, содержат номер приоритета, превышающий наивысший номер приоритета, указанный в VSDir-файлах. В результате эти элементы находятся в конце отображаемого списка, независимо от их имени. |
| Описание | Локализованное описание файла шаблона или мастера. Это поле может быть строкой или идентификатором ресурса в формате "#ResID". Эта строка отображается в диалоговом окне **Новый проект** или **Добавление нового элемента** при выборе элемента. |
| DLLPath или {Клсидпаккаже} | Используется для загрузки значка для файла шаблона или мастера. Значок загружается в виде ресурса из DLL-или EXE-файла с помощью Иконресаурцеид. Этот DLL-или exe-файл можно определить либо с помощью полного пути, либо с помощью идентификатора GUID пакета VSPackage. Библиотека DLL реализации VSPackage используется для загрузки значка (а не вспомогательной библиотеки DLL). |
| иконресаурцеид | Идентификатор ресурса в библиотеке DLL реализации DLL или VSPackage, определяющий отображаемый значок. |
| Flags ( <xref:Microsoft.VisualStudio.Shell.Interop.__VSDIRFLAGS> ) | Используется для отключения или включения полей « **имя** » и « **Расположение** » в диалоговом окне « **Добавление нового элемента** ». Значением поля **flags** является десятичный эквивалент сочетания требуемых битовых флагов.<br /><br /> Когда пользователь выбирает элемент на **новой** вкладке, проект определяет, будут ли поля имя и расположение отображаться при первом отображении диалогового окна **Добавление нового элемента** . Элемент с помощью VSDir-файла может управлять только тем, включены ли поля при выборе элемента. |
| сугжестедбасенаме | Представляет имя по умолчанию для файла, мастера или шаблона. Это поле может быть строкой или идентификатором ресурса в формате "#ResID". Интегрированная среда разработки использует это значение для предоставления имени элемента по умолчанию. Это базовое значение добавляется с целочисленным значением, чтобы сделать уникальное имя, например MyFile21. ASP.<br /><br /> В приведенном выше списке Description, DLLPath, Иконресаурцеид, flags и Сугжестедбасенумбер применяются только к файлам шаблонов и мастеров. Эти поля не применяются к папкам. Этот факт показан в коде в файле Бскпржпрожектитемс в разделе \<EnvSDK> реестра \бскпрж\бскпрж\бскпржпрожектитемс. Этот файл содержит три записи (по одному для каждой папки) с четырьмя полями для каждой записи: Релпаснаме, {Клсидпаккаже}, LocalizedName и Сортприорити.<br /><br /> `General&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#110&#124;100`<br /><br /> `Source_Files&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#111&#124;110`<br /><br /> `Env&#124;{E59935A1-6156-11d1-87A6-00A0C91E2A46}&#124;#112&#124;120` |

 При создании файла мастера следует также учитывать следующие моменты.

- Любое необязательное поле, для которого нет осмысленных данных, должно содержать 0 (нуль) в качестве заполнителя.

- Если локализованное имя не указано, в файле мастера используется относительный путь.

- DLLPath переопределяет Клсидпаккаже для расположения значка.

- Если значок не определен, интегрированная среда разработки замещает значок по умолчанию для файла с таким расширением.

- Если предлагаемое базовое имя не указано, используется "Project".

- При удалении VSZ файлов, папок или файлов шаблонов необходимо также удалить связанные с ними записи из файла VSDir.

## <a name="see-also"></a>См. также раздел
- [Мастера](../../extensibility/internals/wizards.md)
- [Файл мастера (VSZ-файл)](../../extensibility/internals/wizard-dot-vsz-file.md)
