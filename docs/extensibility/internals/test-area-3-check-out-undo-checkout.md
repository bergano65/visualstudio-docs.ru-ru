---
title: Область тестирования 3. Проверка Out-Undo извлечения | Документация Майкрософт
description: Эта область тестирования подключаемого модуля системы управления версиями содержит сведения об изменении и возврате элементов из хранилища версий с помощью команд извлечения и отмены извлечения.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control plug-ins, checkout
- source control plug-ins, undo checkout
- source control [Visual Studio SDK], checking out
- source control [Visual Studio SDK], undo checkout
ms.assetid: ce00c5a5-d472-4f45-8776-d77a1fbe9d37
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: bb59b0342d67ab9118ffcdba74c177106fcceea0
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99898117"
---
# <a name="test-area-3-check-outundo-checkout"></a>Область тестирования 3. Извлечение и отмена извлечения
Эта область тестирования подключаемого модуля системы управления версиями содержит сведения об изменении и возврате элементов из хранилища **версий с помощью команд извлечения и** **отмены извлечения** .

**Извлечь: помечает** элемент в хранилище версий как извлеченный, изменяет локальную копию на чтение и запись.

**Отменить извлечение**: помечает элемент в хранилище версий как возвращенный и возвращает локальную копию в состояние перед извлечением (в зависимости от параметров).

## <a name="command-menu-access"></a>Доступ к меню команд

[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)]В тестовых случаях используются следующие пути к меню интегрированной среды разработки.

##### <a name="check-out"></a>Извлечь:

- **Файл**, **система управления версиями**, **извлечь**.

- **Файл**, **Извлеките** его.

- Контекстное меню, **извлечь**.

- Отменить извлечение: **файл**, **система управления версиями**, **Отменить извлечение**.

## <a name="common-expected-behavior"></a>Типичное ожидаемое поведение

- После операции извлечения целевые файлы и (или) папки помечаются как извлеченные в хранилище версий.

- В хранилище версий атрибуты изменяются для правильного пользователя.

- Дата и время извлечения правильны (для параметров пользователя).

## <a name="test-cases"></a>Тестовые случаи

Ниже приведены конкретные тестовые случаи для тестовой области «извлечение и Отмена извлечения».

### <a name="case-3a-check-out"></a>Случай 3а. Извлечь

В этом разделе основное внимание уделяется работе команды извлечения.

|Действие|Шаги теста|Ожидаемые результаты для проверки|
|------------|----------------|--------------------------------|
|Извлечение в монопольном режиме (COE) клиентского проекта|1. Создайте клиентский проект.<br />2. Добавьте решение в систему управления версиями.<br />3. Извлеките весь проект в монопольном режиме (**файл** **, извлеките его**).|Происходит извлечение.|
|Извлечение монопольной (COE) файловой системы или локального веб-проекта IIS|1. Установите подключение веб-сервера к файловому ресурсу в **меню Сервис**, **Параметры**, **проекты**, **веб-параметры**.<br />2. Создайте веб-проект.<br />3. Добавьте решение в систему управления версиями.<br />4. Извлеките весь проект в монопольном режиме (**файл**, **система управления версиями**, **Извлечение).**|Происходит извлечение.|
|Извлечение элементов решения в решении (новый метод для обработки других файлов)|1. Создайте пустое решение.<br />2. Добавьте решение в систему управления версиями.<br />3. Ознакомьтесь с решением.<br />4. Добавьте несколько элементов решения.<br />5. верните все добавленные элементы.<br />6. Выберите несколько элементов решения.<br />7. Извлечение выбранных элементов (контекстное **меню, извлечение**).|Выбранные файлы извлечены.|
|Извлечь локальную версию (если подключаемый модуль в тесте поддерживает эту функцию)|1. пользователь 1. Создание клиентского проекта.<br />2. пользователь 1. Добавьте решение в систему управления версиями.<br />3. Пользователь 2. Откройте решение из системы управления версиями в другое расположение.<br />4. Пользователь 2. Извлеките файл.<br />5. Пользователь 2. Измените файл.<br />6. Пользователь 2. Верните файл.<br />7. пользователь 1. Извлеките локальную версию файла (установите флажок извлечь **локальную версию** дополнительно в диалоговом окне **"извлечение"** ).|Локальная версия файла извлечена.<br /><br /> Изменения, внесенные пользователем 2, не применяются к файлу пользователя 1.|

### <a name="case-3b-disconnected-check-out"></a>Случай 3b: отключено извлечение

Работа в отключенном режиме позволяет пользователям иметь определенный уровень непрерывной поддержки системы управления версиями, когда не присоединяется непосредственно к хранилищу версий. Это делается путем локального кэширования всех релевантных сведений о прикрепленном решении и проектах.

Монопольные операции извлечения могут возникать только при подключении к хранилищу системы управления версиями. Общие операции извлечения могут выполняться в любое время, независимо от того, подключен или отключен. Таким образом, при отключении от хранилища версий включена только команда " **извлечь из общего доступа** " (COS). В отключенном состоянии **Отмена извлечения** отключена, так как старая версия не может быть извлечена для замены изменений, внесенных пользователем.

Когда пользователь повторно подключается к хранилищу версий, состояния извлечения всех прикрепленных решений и проектов синхронизируются. Это делает необходимые обновления для магазина для извлечений, выполненных пользователем. После выполнения синхронизации пользователь может продолжить работу в нормальном режиме (подключенном).

#### <a name="expected-behavior"></a>Ожидаемое поведение

- Невозможно использовать команду " **извлечь монопольное** использование" при отключении от хранилища версий.

- Невозможно использовать команду " **Отменить извлечение** " при отключении от хранилища версий.

- Команда " **Общий возврат** " работает.

|Действие|Шаги теста|Ожидаемые результаты для проверки|
|------------|----------------|--------------------------------|
|При отсутствии подключения извлеките файл и подключитесь для синхронизации.|1. Отключение управляемого проекта с помощью диалогового окна изменения системы управления версиями (**файл**, **система управления версиями**, **изменение системы управления версиями**).<br />2. Извлеките файл.<br />3. в диалоговом окне предупреждения нажмите кнопку извлечь (отключено).<br />4. Измените файл.<br />5. подключение с помощью диалогового окна «смена системы управления версиями».<br />6. Получите последнюю версию редактируемого файла.|Типичное ожидаемое поведение|

### <a name="case-3c-query-editquery-save-qeqs"></a>Случай 3в. Изменение запроса и сохранение запроса (QEQS)
 Элементы в системе управления версиями отправляются для изменения, изменения и сохранения, чтобы помочь пользователям легко управлять своими файлами. При редактировании контролируемого элемента, который находится в состоянии "возвращен", QEQS перехватывает попытку изменения и запрашивает у пользователя запрос на извлечение файла для редактирования. В зависимости от **средств**, **параметров параметры,** пользователь принудительно извлекает файл для изменения или может быть разрешен для изменения копии в памяти и последующего извлечения. Если **средства** пользователя, **Параметры** не заданы для вывода диалогового окна Извлечение и просто отвлекать его, то по мере того как пользователь вносит изменения, файл автоматически извлекается, когда это возможно.

#### <a name="expected-behavior"></a>Ожидаемое поведение

- После операции извлечения целевые файлы и (или) папки помечаются как извлеченные в хранилище версий.

- В хранилище версий атрибуты изменяются для правильного пользователя.

- Дата и время извлечения являются правильными (для параметров пользователя).

- Локальная копия целевого файла или папки доступна для записи.

|Действие|Шаги теста|Ожидаемые результаты для проверки|
|------------|----------------|--------------------------------|
|Изменить возвращаемый текстовый файл|1. Создайте новый проект, содержащий текстовый файл.<br />2. Добавьте решение в систему управления версиями.<br />3. Установка **средств**, **параметров**, **системы управления версиями**, **разрешение на редактирование файлов на диске только для чтения** .<br />4. Установка **средств**, **параметров**, **системы управления версиями**, **запрос на извлечение** в поле " **при редактировании файлов в состоянии** ".<br />5. Настройка **средств**, **параметров**, **системы управления версиями**, **запрос на извлечение** в поле " **при сохранении файлов в репозитории** ".<br />6. Откройте текстовый файл в редакторе, попытайтесь ввести новый текст в файл. Если этот шаг выполнен, перейдите к следующему шагу.<br />7. Нажмите кнопку **"Отмена"** в диалоговом окне " **Извлечение для изменения** ". Если этот шаг выполнен, перейдите к следующему шагу.<br />8. Установка **средств**, **параметров**, **системы управления версиями**, **Разрешение редактирования файлов на диске** с установленным доступом только для чтения.<br />9. Откройте файл проекта в редакторе, попытайтесь ввести новый текст в файл. Если этот шаг выполнен, перейдите к следующему шагу.<br />10. Нажмите кнопку **изменить** в диалоговом окне **Извлечение для изменения** . Если этот шаг выполнен, перейдите к следующему шагу.<br />11. Измените текстовый файл и попытайтесь сохранить его.|`Result of step 6:`<br /><br /> Откроется диалоговое окно Извлечение для изменения.<br /><br /> `Result of step 7:`<br /><br /> Файл не изменяется.<br /><br /> `Result of step 9:`<br /><br /> Откроется диалоговое окно Извлечение для изменения.<br /><br /> `Result of step 10:`<br /><br /> Файл проекта можно изменить в памяти.<br /><br /> `Result of step 11:`<br /><br /> При сохранении отображается диалоговое окно извлечь при сохранении.|
|Изменение файла решения, который был возвращен|Повторите шаги, описанные в предыдущем тесте, но вместо изменения текстового файла измените свойства решения.|Аналогично предыдущему тесту|
|Изменение файла проекта, который был возвращен|Повторите шаги, описанные в предыдущем тесте, но вместо изменения текстового файла измените свойства проекта.|Аналогично предыдущему тесту.|

### <a name="case-3d-silent-check-out"></a>Вариант 3D: автоматическое извлечение
 В этой подобласти рассматриваются сценарии, в **которых диалоговое окно извлечения не** отображается для **инструментов**, **параметров**, **параметров системы управления версиями**.

#### <a name="expected-behavior"></a>Ожидаемое поведение

- После операции извлечения целевые файлы и (или) папки помечаются как извлеченные в хранилище версий.

- В хранилище версий атрибуты изменяются для правильного пользователя.

- Дата и время извлечения являются правильными (для параметров пользователя).

- Локальная копия целевого файла или папки доступна для записи.

|Действие|Шаги теста|Ожидаемые результаты для проверки|
|------------|----------------|--------------------------------|
|Автоматическое извлечение файла|1. Задайте **средства**, **Параметры**, **систему управления версиями** для **автоматического извлечения файлов при изменении**.<br />2. Создайте новый проект с файлом.<br />3. Добавьте решение в систему управления версиями.<br />4. Извлеките файл.|Файл извлечен автоматически (без пользовательского интерфейса).|
|Автоматическое извлечение проекта|1. Задайте **средства**, **Параметры**, **систему управления версиями** для **автоматического извлечения файлов при изменении**.<br />2. Создайте новый проект.<br />3. Добавьте решение в систему управления версиями.<br />4. Извлеките проект.|Файл извлечен автоматически (без пользовательского интерфейса).|

### <a name="case-3e-undo-check-out"></a>Корпус 3E: Отмена извлечения
 **Отменить** извлечение используется для отмены извлеченного из файла состояния и предотвращения возврата изменений, внесенных в файл.

#### <a name="expected-behavior"></a>Ожидаемое поведение

- Значение по умолчанию зависит от параметра "извлечение **локальной версии** " пользователя. Если пользователь выбрал вариант для извлечения локальной версии, то по умолчанию для отмены извлечения всегда возвращается версия, которая была извлечена.

- После принятия изменений значки в **Обозреватель решений** обновляются для затронутых файлов, а элемент удаляется из окна **Ожидающие возвраты** .

|Действие|Шаги теста|Ожидаемые результаты для проверки|
|------------|----------------|--------------------------------|
|Отмена извлечения отдельного файла, монопольно извлеченного|1. Создайте клиентский проект.<br />2. Добавьте решение в систему управления версиями.<br />3. Извлеките файл только в монопольном режиме.<br />4. Измените файл.<br />5. Отмена извлечения (**файл**, **система управления версиями**, **Отмена извлечения**).|Типичное ожидаемое поведение.|
|Отменить извлечение одного файла, который извлечен в общий доступ|1. Создайте клиентский проект.<br />2. Добавьте решение в систему управления версиями.<br />3. Извлеките файл с общим доступом.<br />4. Измените файл.<br />5. Отмена извлечения (**файл**, **система управления версиями**, **Отмена извлечения**).|Типичное ожидаемое поведение.|
|Отменить извлечение проекта после добавления файлов в проект|1. Создайте новый проект и добавьте его в систему управления версиями.<br />2. Извлеките проект.<br />3. Добавьте файл в проект.<br />4. Отмена извлечения проекта.|Добавленный файл удаляется из проекта в обозреватель решений.<br /><br /> Проект больше не извлекается.|
|Отменить извлечение проекта после удаления файлов из проекта|1. Создайте новый проект и добавьте его в систему управления версиями.<br />2. Извлеките проект.<br />3. Удалите файл из проекта.<br />4. Отмена извлечения проекта.|Удаленный файл появится в проекте в обозреватель решений.<br /><br /> Проект больше не извлекается.|

## <a name="see-also"></a>См. также раздел
- [Руководство по тестированию подключаемых модулей системы управления версиями](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)
