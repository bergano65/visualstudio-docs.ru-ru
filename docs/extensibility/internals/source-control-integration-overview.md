---
title: Общие сведения об интеграции системы управления версиями | Документация Майкрософт
description: 'Сведения о различиях между двумя способами интеграции системы управления версиями в Visual Studio: подключаемый модуль системы управления версиями и пакет VSPackage.'
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- source control [Visual Studio SDK], about source control
ms.assetid: 3a46e4eb-e677-49c3-8647-d927d035a19a
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 7f3b0ddf956c3f5c2ec2fe51163b52f2a7a973aa
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99846430"
---
# <a name="source-control-integration-overview"></a>Общие сведения об интеграции системы управления версиями
В этом разделе сравниваются два способа интеграции в систему управления версиями Visual Studio. Подключаемый модуль системы управления версиями и пакет VSPackage, который предоставляет решение для управления версиями и выделяет новые функции системы управления версиями. Visual Studio позволяет вручную переключаться между пакетами VSPackage системы управления версиями и подключаемыми модулями системы управления версиями, а также автоматическим переключением на основе решений.

## <a name="source-control-integration"></a>Интеграция системы управления версиями
 [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] поддерживает два типа параметров интеграции системы управления версиями. Во всех версиях [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] можно интегрировать подключаемый модуль на основе API подключаемого модуля системы управления версиями (ранее он также назывался API MSSCCI), который обеспечивает базовую функциональность системы управления версиями при использовании пользовательского интерфейса системы управления версиями Visual Studio. Пакет VSPackage системы управления версиями, с другой стороны, предоставляет новый, глубокий путь интеграции, [!INCLUDE[vsipsdk](../../extensibility/includes/vsipsdk_md.md)] подходящий для интеграции системы управления версиями, которая требует высокого уровня сложности и автономности в модели управления исходным кодом.

 ![Общие сведения об управления версиями файлов](../../extensibility/internals/media/sourcectnrloverview.gif "саурцектнрловервиев")

## <a name="source-control-plug-in"></a>Подключаемый модуль системы управления версиями
 Все версии Visual Studio поддерживают спецификацию API подключаемого модуля системы управления версиями версии 1,2 в качестве пути интеграции. Разработчик подключаемого модуля системы управления версиями записывает библиотеку DLL, которая реализует функции API подключаемого модуля системы управления версиями для интеграции и регистрации системы управления версиями, как описано в разделе [Создание подключаемого модуля системы управления](../../extensibility/internals/creating-a-source-control-plug-in.md)версиями. При таком подходе интегрированная среда разработки (IDE) использует [!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)] Пользовательский интерфейс для диалоговых окон, таких как возврат, извлечение, Сервис/Параметры страницы свойств, панели инструментов и глифы системы управления версиями. Строгое соответствие интерфейсу API подключаемого модуля системы управления версиями гарантирует простую интеграцию с Visual Studio и неудобство для пользователя. Это означает, что подключаемый модуль системы управления версиями должен реализовывать большинство функций и обратных вызовов, описанных в API.

 Чтобы реализовать подключаемый модуль системы управления версиями с помощью API подключаемого модуля системы управления версиями, выполните следующие действия.

1. Создайте библиотеку DLL, которая реализует функции, указанные в [подключаемых модулях системы управления версиями](../../extensibility/source-control-plug-ins.md).

2. Зарегистрируйте библиотеку DLL, сделав соответствующие записи реестра (описанные в разделе [инструкции. Установка подключаемого модуля системы управления версиями](../../extensibility/internals/how-to-install-a-source-control-plug-in.md)).

3. Создание вспомогательного пользовательского интерфейса и отображение при появлении запроса в пакете адаптера системы управления версиями (компонент Visual Studio, который обрабатывает функции управления исходным кодом через подключаемые модули системы управления версиями)

   В ответ на команду управления исходным кодом в интегрированной среде разработки Visual Studio представлен стандартный пользовательский интерфейс для основных операций, а затем данные передаются подключаемому модулю системы управления версиями через функции, определенные в интерфейсе API подключаемого модуля системы управления версиями. Для дополнительных параметров подключаемый модуль системы управления версиями может быть вызван для представления собственного пользовательского интерфейса, например для обзора проекта с управлением версиями. Это означает, что при работе с системой управления версиями пользователю может быть предоставлено два возможных стиля пользовательского интерфейса: Пользовательский интерфейс, представляемый Visual Studio, и пользовательский интерфейс, который представляется подключаемым модулем системы управления версиями. Это наиболее заметно для расширенных операций системы управления версиями.

### <a name="drawbacks-to-implementing-a-source-control-plug-in"></a>Недостатки реализации подключаемого модуля системы управления версиями

- Для дополнительных функций пользователь может видеть два разных стиля интерфейсов, что приводит к возможным путаницам.

- Подключаемый модуль системы управления версиями ограничен моделью системы управления версиями, подразумеваемой интерфейсом API подключаемого модуля системы управления версиями.

- Интерфейс API подключаемого модуля системы управления версиями может быть слишком узким для некоторых сценариев управления версиями.

### <a name="advantages-to-implementing-a-source-control-plug-in"></a>Преимущества реализации подключаемого модуля системы управления версиями

- Visual Studio предоставляет весь пользовательский интерфейс для всех основных операций системы управления версиями, так что подключаемому модулю системы управления версиями не требуется реализовывать потенциально сложный пользовательский интерфейс.

- Благодаря стандартному интерфейсу API подключаемый модуль системы управления версиями может взаимодействовать с внешними программами управления версиями, чтобы обеспечить более широкие функциональные возможности. Visual Studio не слишком сильно позаботится о том, как достигается функциональность системы управления версиями, только она выполняется в соответствии с API подключаемого модуля системы управления версиями.

- Реализовать подключаемый модуль системы управления версиями проще, чем пакет VSPackage системы управления версиями.

## <a name="source-control-vspackage"></a>Пакет VSPackage системы управления версиями
 [!INCLUDE[vsipsdk](../../extensibility/includes/vsipsdk_md.md)] обеспечивает глубокую интеграцию в Visual Studio с полным контролем над функциями управления версиями и полной заменой пользовательского интерфейса системы управления версиями, предоставленного Visual Studio. Пакет VSPackage системы управления версиями регистрируется в Visual Studio и предоставляет функции управления исходным кодом. Несмотря на то, что в Visual Studio можно зарегистрировать несколько пакетов VSPackage системы управления версиями, только одна из них может быть активна в любой момент времени. Пакет VSPackage системы управления версиями имеет полный контроль над функциональностью и внешним видом системы управления версиями в Visual Studio, когда она активна. Все остальные пакеты VSPackage системы управления версиями, которые могут быть зарегистрированы в системе, неактивны и не будут отображать ни одного пользовательского интерфейса.

 Для реализации пакета VSPackage системы управления версиями требуется стратегия "все или ничего". Создатель пакета управления исходным кодом должен вкладывать значительный объем усилий в реализацию ряда интерфейсов системы управления версиями и новых элементов пользовательского интерфейса (диалоговых окон, меню и панелей инструментов), чтобы охватить всю функциональность системы управления версиями. Дополнительные сведения см. [в разделе Создание пакета VSPackage системы управления версиями](../../extensibility/internals/creating-a-source-control-vspackage.md) .

### <a name="drawbacks-to-implementing-a-source-control-vspackage"></a>Недостатки реализации пакета VSPackage системы управления версиями

- Пакет VSPackage должен реализовывать ряд сложных интерфейсов для успешной интеграции с Visual Studio.

- Пакет VSPackage должен предоставлять весь пользовательский интерфейс, необходимый для управления исходным кодом; Visual Studio не предоставит помощь в этой области.

- Пакет VSPackage системы управления версиями тесно привязан к Visual Studio и не может работать с автономными программами, поэтому функциональность не может быть легко предоставлена внешней версией программы управления версиями.

### <a name="advantages-to-implementing-a-source-control-vspackage"></a>Преимущества реализации пакета VSPackage системы управления версиями

- Поскольку пакет VSPackage имеет полный контроль над пользовательским ИНТЕРФЕЙСом и функциональностью системы управления версиями, он представляет собой простой интерфейс для системы управления версиями.

- Пакет VSPackage не ограничен определенной моделью системы управления версиями.

## <a name="see-also"></a>См. также раздел
- [Система управления версиями](../../extensibility/internals/source-control.md)
- [Создание подключаемого модуля системы управления версиями](../../extensibility/internals/creating-a-source-control-plug-in.md)
- [Создание пакета VSPackage системы управления версиями](../../extensibility/internals/creating-a-source-control-vspackage.md)
- [Новые возможности системы управления версиями](../../extensibility/internals/what-s-new-in-source-control.md)
