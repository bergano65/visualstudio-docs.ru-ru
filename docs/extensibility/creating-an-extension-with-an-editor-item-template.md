---
title: Создание расширения с помощью шаблона элемента редактора | Документация Майкрософт
description: Узнайте, как использовать шаблоны элементов в пакете SDK для Visual Studio, чтобы создать базовые расширения редактора, которые добавляют в редактор классификаторы, декоративные элементы и поля.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
helpviewer_keywords:
- editors [Visual Studio SDK], new - extensions
ms.assetid: fa3b993b-ab95-47fa-a38b-b788f3a5b2d8
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: c8bfdcd854cf35c392578d9851a7421bacc8cbfe
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99884992"
---
# <a name="create-an-extension-with-an-editor-item-template"></a>Создание расширения с помощью шаблона элемента редактора
Вы можете использовать шаблоны элементов, которые включены в пакет SDK для Visual Studio, для создания базовых расширений редактора, добавляющих в редактор классификаторы, декоративные элементы и поля. Шаблоны элементов редактора доступны для проектов Visual C# или Visual Basic VSIX.

## <a name="prerequisites"></a>Предварительные требования
 Начиная с Visual Studio 2015, пакет SDK для Visual Studio не устанавливается из центра загрузки. Он входит в состав программы установки Visual Studio как дополнительный компонент. Пакет SDK для VS можно установить и позже. Дополнительные сведения см. [в статье Установка пакета SDK для Visual Studio](../extensibility/installing-the-visual-studio-sdk.md).

## <a name="create-a-classifier-extension"></a>Создание расширения классификатора
 Шаблон элемента классификатора редактора создает классификатор редактора, который определяет цвет для соответствующего текста (в данном случае все) в любом текстовом файле.

1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `TestClassifier`. Нажмите кнопку **OK**.

2. В **Обозреватель решений** щелкните правой кнопкой мыши узел проекта и выберите команду **Добавить**  >  **новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите пункт **классификатор редактора**. Оставьте имя файла по умолчанию (*EditorClassifier1.CS*).

3. Существует четыре файла кода, как показано ниже.

    - *EditorClassifier1.CS* содержит `EditorClassifier1` класс.

    - *EditorClassifier1ClassificationDefinition.CS* содержит `EditorClassifier1ClassificationDefinition` класс.

    - *EditorClassifier1Format.CS* содержит `EditorClassifier1Format`  класс.

    - *EditorClassifier1Provider.CS* содержит `EditorClassifier1Provider` класс.

4. Выполните сборку решения и запустите отладку. Откроется экспериментальный экземпляр Visual Studio.

     При открытии текстового файла весь текст подчеркивается на самом фиолетовом фоне.

## <a name="create-a-text-relative-adornment-extension"></a>Создание расширения, соотносящегося к тексту
 Шаблон декоративного элемента текста редактора создает соотношение текста, соотносящегося к тексту, который добавляет все экземпляры текстового символа "a" с помощью прямоугольника с красной контуром и синим фоном. Он является относительным для текста, поскольку поле всегда накладывает символы "a", даже если они перемещены или переформатированы.

1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `TestAdornment`. Нажмите кнопку **OK**.

2. В **Обозреватель решений** щелкните правой кнопкой мыши узел проекта и выберите команду **Добавить**  >  **новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите **текстовый элемент редактора**. Оставьте имя файла по умолчанию (*TextAdornment1.cs/vb*).

3. Существует два файла кода, как показано ниже.

    - *TextAdornment1.CS* содержит `TextAdornment1` класс.

    - *TextAdornment1TextViewCreationListener.CS* содержит `TextAdornment1TextViewCreationListener` класс.

4. Выполните сборку решения и запустите отладку. Откроется экспериментальный экземпляр. При открытии текстового файла все символы "a" в тексте выделены красным цветом на синем фоне.

## <a name="create-a-viewport-relative-adornment-extension"></a>Создание расширения элементов, относительных для окна просмотра
 Шаблон оформления окна просмотра редактора создает элемент, относительный от окна просмотра, который добавляет Фиолетовое поле с красной структурой в правый верхний угол окна просмотра.

> [!NOTE]
> **Окно просмотра** — это область отображаемого в данный момент текстового представления.

### <a name="to-create-a-viewport-adornment-extension-by-using-the-editor-viewport-adornment-template"></a>Создание расширения элемента области просмотра с помощью шаблона оформления окна просмотра редактора

1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `ViewportAdornment`. Нажмите кнопку **OK**.

2. В **Обозреватель решений** щелкните правой кнопкой мыши узел проекта и выберите команду **Добавить**  >  **новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите **элемент окно просмотра редактора**. Оставьте имя файла по умолчанию (*ViewportAdornment1.cs/vb*).

3. Существует два файла кода, как показано ниже.

    - *ViewportAdornment1.CS* содержит `ViewportAdornment1` класс.

    - *ViewportAdornment1TextViewCreationListener.CS* содержит `ViewportAdornment1TextViewCreationListener` класс

4. Выполните сборку решения и запустите отладку. Откроется экспериментальный экземпляр. При создании нового текстового файла в правом верхнем углу окна просмотра отображается Фиолетовое поле с красным контуром.

## <a name="create-a-margin-extension"></a>Создание расширения поля
 Шаблон поля редактора создает зеленое поле, которое отображается вместе со словами **Hello World!* под горизонтальной полосой прокрутки.

### <a name="to-create-a-margin-extension-by-using-the-editor-margin-template"></a>Создание расширения поля с помощью шаблона поля редактора

1. В диалоговом окне **Новый проект** разверните узел **Visual C#** или **Visual Basic** и выберите пункт **расширяемость**. В области **шаблоны** выберите **проект VSIX**. В поле **Имя файла** введите `MarginExtension`. Нажмите кнопку **OK**.

2. В **Обозреватель решений** щелкните правой кнопкой мыши узел проекта и выберите команду **Добавить**  >  **новый элемент**. Перейдите в узел **расширяемость** Visual C# и выберите **поле редактора**. Оставьте имя файла по умолчанию (EditorMargin1.cs/vb).

3. Существует два файла кода, как показано ниже.

    - *EditorMargin1.CS* содержит `EditorMargin1` класс.

    - *EditorMargin1Factory.CS* содержит `EditorMargin1Factory` класс.

4. Постройте этот проект и начните отладку. Откроется экспериментальный экземпляр. При открытии текстового файла под горизонтальной полосой прокрутки отображается зеленая поле с словами **Hello EditorMargin1** .

## <a name="see-also"></a>См. также раздел
- [Точки расширения языковой службы и редактора](../extensibility/language-service-and-editor-extension-points.md)
