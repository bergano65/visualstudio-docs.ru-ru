---
title: Функция Сккдифф | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- SccDiff
helpviewer_keywords:
- SccDiff function
ms.assetid: d49bc8c5-f631-4153-9d3c-feb3564da305
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: 8ff2b2d5e5a0043cde17fecd2d59c084d2958e32
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99943118"
---
# <a name="sccdiff-function"></a>Функция Сккдифф
Эта функция отображает (или при необходимости просто проверяет) различия между текущим файлом (на локальном диске) и последней возвращенной версией в системе управления версиями.

## <a name="syntax"></a>Синтаксис

```cpp
SCCRTN SccDiff(
   LPVOID    pvContext,
   HWND      hWnd,
   LPCSTR    lpFileName,
   LONG      fOptions,
   LPCMDOPTS pvOptions
);
```

### <a name="parameters"></a>Параметры
 пвконтекст

окне Структура контекста подключаемого модуля системы управления версиями.

 hWnd

окне Обработчик окна интегрированной среды разработки, который может использоваться подключаемым модулем системы управления версиями в качестве родительского для любых предоставляемых им диалоговых окон.

 лпфиленаме

окне Имя файла, для которого запрашивается разница.

 фоптионс

окне Флаги команд. Дополнительные сведения см. в разделе "Примечания".

 пвоптионс

окне Параметры, зависящие от подключаемого модуля системы управления версиями.

## <a name="return-value"></a>Возвращаемое значение
 Реализация подключаемого модуля системы управления версиями для этой функции должна возвращать одно из следующих значений:

|Значение|Описание|
|-----------|-----------------|
|SCC_OK|Рабочая копия и версия сервера идентичны.|
|SCC_I_FILESDIFFERS|Рабочая копия отличается от версии в системе управления версиями.|
|SCC_I_RELOADFILE|Необходимо перезагрузить файл или проект.|
|SCC_E_FILENOTCONTROLLED|Файл не находится в системе управления версиями.|
|SCC_E_NOTAUTHORIZED|Пользователю не разрешено выполнять эту операцию.|
|SCC_E_ACCESSFAILURE|Возникла проблема при доступе к системе управления версиями, возможно, из-за проблем с сетью или состязаниями. Рекомендуется повторить попытку.|
|SCC_E_NONSPECIFICERROR|Неконкретный сбой; не удалось получить разницу в файле.|
|SCC_E_FILENOTEXIST|Локальный файл не найден.|

## <a name="remarks"></a>Remarks
 Эта функция служит двум различным целям. По умолчанию он отображает список изменений в файле. Подключаемый модуль системы управления версиями открывает собственное окно в любом выбранном вами формате, чтобы отобразить различия между файлом пользователя на диске и последней версией файла в системе управления версиями.

 Кроме того, интегрированной среде разработки может просто потребоваться определить, был ли изменен файл. Например, интегрированной среде разработки может потребоваться определить, является ли файл ненадежным для извлечения, не уведомляя пользователя. В этом случае интегрированная среда разработки передает `SCC_DIFF_CONTENTS` флаг. Подключаемый модуль системы управления версиями должен проверять файл на диске, байт по байтам и возвращать значение, указывающее, отличаются ли два файла, не отображая их для пользователя.

 В качестве оптимизации производительности подключаемый модуль системы управления версиями может использовать альтернативный вариант на основе контрольной суммы или отметки времени вместо побайтового сравнения, вызываемого с помощью `SCC_DIFF_CONTENTS` : эти формы сравнения, очевидно, быстрее, но менее надежны. Не все системы управления версиями могут поддерживать эти альтернативные методы сравнения, поэтому подключаемому модулю может потребоваться вернуться к сравнению содержимого. Все подключаемые модули системы управления версиями должны, как минимум, поддерживать сравнение содержимого.

> [!NOTE]
> Флаги быстрого различия являются взаимоисключающими. Допустимо не передавать флаги, но нельзя одновременно передавать больше одного. `SCC_DIFF_QUICK_DIFF`— это маска, которая объединяет все флаги, может использоваться для проверки, но никогда не должна передаваться в качестве параметра.

|`fOption`|Значение|
|---------------|-------------|
|SCC_DIFF_IGNORECASE|Сравнение без учета регистра (может использоваться как для быстрого, так и для визуального различия).|
|SCC_DIFF_IGNORESPACE|Игнорирует пробелы (может использоваться для быстрого или визуального различия).|
|SCC_DIFF_QD_CONTENTS|Автоматически сравнивает файл, байт по байтам.|
|SCC_DIFF_QD_CHECKSUM|Автоматически сравнивает файл с помощью контрольной суммы, если поддерживается. Если не поддерживается, возвращается к сравнению содержимого.|
|SCC_DIFF_QD_TIME|Автоматически сравнивает файл по метке времени, если он поддерживается. Если не поддерживается, возвращается к сравнению содержимого.|

## <a name="see-also"></a>См. также раздел
- [Функции API подключаемого модуля системы управления версиями](../extensibility/source-control-plug-in-api-functions.md)
