---
title: Функция SccDiff | Документация Майкрософт
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- SccDiff
helpviewer_keywords:
- SccDiff function
ms.assetid: d49bc8c5-f631-4153-9d3c-feb3564da305
author: gregvanl
ms.author: gregvanl
manager: jillfra
ms.workload:
- vssdk
ms.openlocfilehash: 282c3575de351079feba95b3d4f6985f0cf57327
ms.sourcegitcommit: 2193323efc608118e0ce6f6b2ff532f158245d56
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2019
ms.locfileid: "54936896"
---
# <a name="sccdiff-function"></a>Функция SccDiff
Эта функция отображает (или при необходимости просто проверяет наличие) различия между текущего файла (на локальном диске) и его последней возвращенной версии в источнике системы управления версиями.  
  
## <a name="syntax"></a>Синтаксис  
  
```cpp  
SCCRTN SccDiff(  
   LPVOID    pvContext,  
   HWND      hWnd,  
   LPCSTR    lpFileName,  
   LONG      fOptions,  
   LPCMDOPTS pvOptions  
);  
```  
  
### <a name="parameters"></a>Параметры  
 pvContext  
 [in] Структура подключаемого модуля контекста исходного элемента управления.  
  
 hWnd  
 [in] Дескриптор окна интегрированной среды разработки, подключаемый модуль системы управления версиями можно использовать в качестве родительского для любой диалоговых окон, которые он предоставляет.  
  
 lpFileName  
 [in] Имя файла, для которого запрашивается разницу.  
  
 Возможности  
 [in] Флаги команды. Дополнительные сведения см. примечания.  
  
 pvOptions  
 [in] Параметры конкретного подключаемого модуля системы управления версиями.  
  
## <a name="return-value"></a>Возвращаемое значение  
 Подключаемый модуль реализации элемента управления источника этой функции должен возвращать одно из следующих значений:  
  
|Значение|Описание|  
|-----------|-----------------|  
|SCC_OK|Версия рабочей копии и server идентичны.|  
|SCC_I_FILESDIFFERS|Рабочая копия отличается от версии в системе управления версиями.|  
|SCC_I_RELOADFILE|Файл или проект должен быть перезагружен.|  
|SCC_E_FILENOTCONTROLLED|Файл не существует в системе управления версиями.|  
|SCC_E_NOTAUTHORIZED|Пользователю запрещено для этой операции.|  
|SCC_E_ACCESSFAILURE|Возникла проблема с доступом к системе управления версиями, возможно, из-за проблемы с сетью или конфликтов. Рекомендуется повторить операцию.|  
|SCC_E_NONSPECIFICERROR|Обнаружена неспецифическая ошибка; различия между файлами не был получен.|  
|SCC_E_FILENOTEXIST|Локальный файл не найден.|  
  
## <a name="remarks"></a>Примечания  
 Эта функция выступает в двух различных целей. По умолчанию он отображает список изменений в файл. Подключаемый модуль системы управления версиями откроется отдельное окно, в том формате, он выбирает для отображения различия между пользовательский файл на диске и последнюю версию файла в системе управления версиями.  
  
 Кроме того, интегрированная среда разработки может быть достаточно просто определения того, был ли изменен файл. Например интегрированной среды разработки может потребоваться определить, является ли оно безопасно извлечь файл без уведомления пользователя. В этом случае передает интегрированной среды разработки в `SCC_DIFF_CONTENTS` флаг. Подключаемый модуль системы управления версиями необходимо проверить файл на диске, по байтам, для файла, контролируемого системой управления версиями и возвращают значение, указывающее, различаются ли два файла не отображаются для пользователя.  
  
 В качестве оптимизации производительности, подключаемый модуль системы управления версиями может использовать альтернативное, на основе контрольной суммы или метку времени вместо сравнения по байтам, вызывается для `SCC_DIFF_CONTENTS`: эти формы сравнения, очевидно, что проходит быстрее, но менее надежной. Не все системы управления версиями могут поддерживать эти методы альтернативные сравнения, и подключаемый модуль может потребоваться переключиться на сравнение содержимого. Все источника подключаемые модули управления должен как минимум, поддерживать сравнение содержимого.  
  
> [!NOTE]
>  Флаги быстрого различие являются взаимоисключающими. Передать флаги не допускается, но он не допускается одновременно передавать несколько. `SCC_DIFF_QUICK_DIFF`, который является маска, которая объединяет все флаги можно использовать для тестирования, но он никогда не должен быть передан как параметр.  
  
|`fOption`|Значение|  
|---------------|-------------|  
|SCC_DIFF_IGNORECASE|Сравнение без учета регистра (может использоваться для быстрого либо visual разницы).|  
|SCC_DIFF_IGNORESPACE|Игнорирует пробелы (может использоваться для быстрого либо visual разницы).|  
|SCC_DIFF_QD_CONTENTS|Автоматически сравнивает файле байт за байтом.|  
|SCC_DIFF_QD_CHECKSUM|Автоматически сравнивает файлы с помощью контрольной суммы, когда это возможно. Если не поддерживается, возвращается к Сравнение содержимого.|  
|SCC_DIFF_QD_TIME|Автоматически сравнивает файлы с помощью по метке времени, когда это возможно. Если не поддерживается, возвращается к Сравнение содержимого.|  
  
## <a name="see-also"></a>См. также  
 [Функции API подключаемого модуля управления источника](../extensibility/source-control-plug-in-api-functions.md)