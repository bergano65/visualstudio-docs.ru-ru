---
title: Добавление значков в команды меню | Документация Майкрософт
description: Узнайте, как добавлять значки в команды, которые могут отображаться как в меню, так и на панелях инструментов в интегрированной среде разработки Visual Studio (IDE).
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
helpviewer_keywords:
- icons [Visual Studio], adding to toolbars
- toolbars [Visual Studio], adding icons to commands
- commands [Visual Studio], adding icons
ms.assetid: 362a0c7e-5729-4297-a83f-1aba1a37fd44
author: acangialosi
ms.author: anthc
manager: jmartens
ms.workload:
- vssdk
ms.openlocfilehash: b9f37bd14ed43ab0e165346f8ce09512c3981177
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99934368"
---
# <a name="add-icons-to-menu-commands"></a>Добавление значков к командам меню
Команды могут отображаться как в меню, так и на панелях инструментов. На панелях инструментов обычно команда отображается с помощью значка (для экономии пространства), а в меню отображается команда с текстом и значком.

 Значки имеют ширину 16 пикселей на 16 пикселей и могут иметь глубину цвета 8 разрядов (256 цветов) или глубину цвета 32 бит (True Color). в качестве предпочтительных используются 32-битовые цветовые значки. Значки обычно располагаются в одной горизонтальной строке одного точечного рисунка, хотя допускается использование нескольких точечных рисунков. Этот рисунок объявляется в *vsct* -файле вместе с отдельными значками, доступными в точечном рисунке. Дополнительные сведения см. в справочнике по [элементу Bitmap](../extensibility/bitmaps-element.md) .

## <a name="add-an-icon-to-a-command"></a>Добавление значка в команду
 В следующей процедуре предполагается наличие существующего проекта VSPackage с командой меню. Чтобы узнать, как это сделать, см. раздел [Создание расширения с помощью команды меню](../extensibility/creating-an-extension-with-a-menu-command.md).

1. Создайте точечный рисунок с глубиной цвета 32 бит. Значок всегда имеет размер 16 x 16, поэтому размер точечного рисунка должен быть не более 16 пикселей в ширину, кратный 16 пикселям.

     Каждый значок размещается рядом с точечным рисунком в одной строке. Используйте альфа-канал, чтобы обозначить участки прозрачности в каждом значке.

     Если используется 8-разрядная глубина цвета, `RGB(255,0,255)` в качестве прозрачности используется пурпурный цвет. Однако предпочтительнее использовать 32-разрядные цветные значки.

2. Скопируйте файл значка в каталог *ресурсов* в проекте VSPackage. В **Обозреватель решений** добавьте значок в проект. (Выберите **ресурсы**, а затем в контекстном меню щелкните **Добавить**, затем **существующий элемент** и выберите файл значка.)

3. Откройте файл *vsct* в редакторе.

4. Добавьте `GuidSymbol` элемент с именем **тестикон**. Создайте GUID (**Tools**  >  **CREATE GUID**, выберите **Формат реестра** и нажмите кнопку **Копировать**) и вставьте его в `value` атрибут. Результат должен выглядеть следующим образом:

    ```xml
    <!-- Create your own GUID -->
    <GuidSymbol name="testIcon" value="{00000000-0000-0000-0000-0000}">
    ```

5. Добавьте `<IDSymbol>` для значка. `name`Атрибут является идентификатором значка, а `value` указывает его расположение на полосе, если оно имеется. Если имеется только один значок, добавьте 1. Результат должен выглядеть следующим образом:

    ```xml
    <!-- Create your own GUID -->
    <GuidSymbol name="testIcon" value="{00000000-0000-0000-0000-0000}">
        <IDSymbol name="testIcon1" value="1" />
    </GuidSymbol>
    ```

6. Создайте `<Bitmap>` в `<Bitmaps>` разделе файла *vsct* , чтобы представить точечный рисунок, содержащий значки.

    - Задайте в качестве `guid` значения имя `<GuidSymbol>` элемента, созданного на предыдущем шаге.

    - Задайте в качестве `href` значения относительный путь к файлу точечного рисунка (в данном случае **resources \\<имя \> файла значка**).

    - Задайте `usedList` значение для созданного ранее IDSymbol. Этот атрибут задает разделенный запятыми список значков, используемых в VSPackage. Значки, не включенные в список, исключаются из компиляции формы.

         Блок Bitmap должен выглядеть следующим образом:

        ```xml
        <Bitmap guid="testIcon" href="Resources\<icon file name>" usedList="testIcon1"/>
        ```

7. В существующем `<Button>` элементе задайте `Icon` для элемента значения GUIDSymbol и IDSymbol, которые вы создали ранее. Ниже приведен пример элемента Button с этими значениями:

    ```xml
    <Button guid="guidAddIconCmdSet" id="cmdidMyCommand" priority="0x0100" type="Button">
        <Parent guid="guidAddIconCmdSet" id="MyMenuGroup" />
        <Icon guid="testIcon" id="testIcon1" />
        <Strings>
            <ButtonText>My Command name</ButtonText>
        </Strings>
    </Button>
    ```

8. Проверьте значок. Выполните сборку решения и запустите отладку. В экспериментальном экземпляре найдите команду. Он должен содержать добавленный значок.

## <a name="see-also"></a>См. также раздел
- [Расширение меню и команд](../extensibility/extending-menus-and-commands.md)
- [Справочник по XML-схеме VSCT](../extensibility/vsct-xml-schema-reference.md)
