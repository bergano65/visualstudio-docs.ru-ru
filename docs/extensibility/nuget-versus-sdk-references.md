---
title: Добавление ссылок с использованием NuGet или расширения SDK
description: Сведения о различиях между упаковкой программного обеспечения в виде пакета NuGet или пакета средств разработки программного обеспечения при указании ссылки в проекте Visual Studio.
ms.custom: SEO-VS-2020
ms.date: 08/02/2019
ms.topic: conceptual
author: acangialosi
ms.author: anthc
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 50197eeda1828156113fbbfa507447484618861a
ms.sourcegitcommit: dd96a95d87a039525aac86abe689c30e2073ae87
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/04/2021
ms.locfileid: "97863776"
---
# <a name="nuget-versus-sdk-as-a-project-reference"></a>Ссылка на пакет SDK для NuGet и в качестве ссылки на проект

Эта статья призвана помочь разработчикам выбрать, следует ли упаковывать программное обеспечение как пакет NuGet или как набор средств разработки программного обеспечения (SDK). В частности, в нем обсуждаются различия между двумя, когда на них имеется ссылка в проекте Visual Studio.

- [NuGet](/nuget) — это система управления пакетами с открытым исходным кодом, которая упрощает процесс включения библиотек в проект. Для .NET (включая .NET Core) NuGet — это механизм, поддерживаемый корпорацией Майкрософт для совместного использования кода. NuGet определяет, как создаются, размещаются и используются пакеты для .NET, а также предоставляет средства для каждой из этих ролей. В Visual Studio пакеты NuGet добавляются в проект с помощью пользовательского интерфейса [диспетчера пакетов](/nuget/consume-packages/install-use-packages-visual-studio) .

- [Пакет SDK](../extensibility/creating-a-software-development-kit.md) — это коллекция файлов, которые Visual Studio обрабатывает как один эталонный элемент. В диалоговом окне Диспетчер ссылок в Visual Studio перечислены все пакеты SDK, относящиеся к текущему проекту, при выборе элемента **Добавить ссылку**. При добавлении пакета SDK в проект доступ ко всему содержимому этого пакета SDK можно получить с помощью IntelliSense, окна панели элементов, конструкторов, обозревателя объектов, MSBuild, развертывания, отладки и упаковки.

## <a name="which-mechanism-should-i-use"></a>Какой механизм следует использовать?

В следующей таблице приводится сравнение ссылочных функций пакета SDK и NuGet.

| Компонент | Поддержка пакета SDK | Примечания для пакета SDK | Поддержка NuGet | Примечания для NuGet |
| - | - | - |---------------| - |
| Механизм ссылается на одну сущность, после чего становятся доступны все файлы и функциональные возможности. | Y | Для добавления пакета SDK используется диалоговое окно **Диспетчер ссылок**, и все файлы и функциональные возможности будут доступны во время рабочего процесса разработки. | Y | |
| MSBuild автоматически использует сборки и файлы метаданных Windows (*WINMD-файлы*). | Y | Ссылки в пакете SDK автоматически передаются в компилятор. | Y | |
| MSBuild автоматически использует H- или LIB-файлы. | Y | Файл *имя_пакета_SDKN.props* указывает Visual Studio, как настроить каталог Visual C++ и т. д. для автоматического использования *H-файлов* или *LIB-файлов*. | Нет | |
| MSBuild автоматически использует *JS-файла* или *CSS-файлы*. | Y | В **обозревателе решений** можно развернуть узел ссылки на пакет SDK для JavaScript для отображения отдельных *JS-файлов* или *CSS-файлов*, затем создать теги `<source include/>` путем перетаскивания этих файлов в их исходные файлы. Пакет SDK поддерживает функциональность клавиши F5 и автоматическую установку пакетов. | Y | |
| MSBuild автоматически добавляет элемент управления на **панель элементов**. | Y | **Панель элементов** может использовать пакеты SDK и отображать элементы управления на указанных вкладках. | Нет | |
| Механизм поддерживает установщик Visual Studio для расширений (VSIX). | Y | VSIX располагает специальным манифестом и логикой для создания пакетов SDK. | Y | VSIX можно внедрить в другую программу установки. |
| **Обозреватель объектов** перечисляет ссылки. | Y | **Обозреватель объектов** автоматически получает список ссылок в пакете SDK и перечисляет их. | Нет | |
| Файлы и ссылки автоматически добавляются в диалоговое окно **Диспетчер ссылок** (ссылки на справку, автозаполнение и т. д). | Y | В диалоговом окне **Диспетчер ссылок** автоматически перечисляются пакеты SDK, а также ссылки на справку и список зависимостей пакета SDK. | Нет | NuGet предоставляет собственное диалоговое окно **Управление пакетами NuGet**. |
| Механизм поддерживает несколько архитектур. | Y | Пакеты SDK могут предоставлять несколько конфигураций. MSBuild использует соответствующие файлы для каждой конфигурации проекта. | Нет | |
| Механизм поддерживает несколько конфигураций. | Y | Пакеты SDK могут предоставлять несколько конфигураций. В зависимости от архитектуры проекта MSBuild использует для каждой архитектуры соответствующие файлы. | Нет | |
| Механизм может запретить копирование файлов. | Y | В зависимости от папки размещения файлов (*\redist* или *\designtime*) можно контролировать, какие файлы следует копировать в пакет работающего приложения. | Нет | Файлы, предназначенные для копирования, объявляются в манифесте пакета. |
| Содержимое отображается в локализованных файлах. | Y | Локализованные XML-документы в пакетах SDK автоматически включаются для повышения эффективности процесса разработки. | Нет | |
| MSBuild поддерживает одновременное использование нескольких версий пакета SDK. | Y | Пакет SDK поддерживает одновременное использование нескольких версий. | Нет | Ссылки отсутствуют. В проекте не может быть несколько версий файлов NuGet одновременно. |
| Механизм поддерживает указание соответствующих целевых платформ, версий Visual Studio и типов проектов. | Y | В диалоговом окне **Диспетчер ссылок** и на **панели элементов** отображаются только пакеты SDK, применимые к проекту, чтобы пользователи могли без труда выбирать соответствующие пакеты SDK. | Да (частично) | Целевой рабочей средой является сводная среда. Фильтрация в пользовательском интерфейсе отсутствует. Во время установки может быть возвращена ошибка. |
| Механизм поддерживает указание сведений о регистрации собственных WINMD-файлов. | Y | Можно указать взаимосвязь между WINMD-файлами и DLL-файлами в *SDKManifest.xml*. | Нет | |
| Механизм поддерживает указание зависимостей от других пакетов SDK. | Y | Пакет SDK только уведомляет пользователя. Пользователь по-прежнему должен устанавливать их и ссылаться на них вручную. | Y | NuGet извлекает их автоматически. Пользователь не получает уведомления. |
| Механизм интегрируется с такими компонентами [!INCLUDE[win8_appstore_long](../debugger/includes/win8_appstore_long_md.md)], как манифест приложения и идентификатор платформы. | Y | Пакет SDK должен поддерживать основные принципы [!INCLUDE[win8_appstore_short](../ide/includes/win8_appstore_short_md.md)], чтобы обеспечить правильную работу функций упаковки и F5 с пакетами SDK, которые доступны в [!INCLUDE[win8_appstore_short](../ide/includes/win8_appstore_short_md.md)]. | Нет | |
| Механизм интегрируется с конвейером отладки приложений для приложений [!INCLUDE[win8_appname_long](../debugger/includes/win8_appname_long_md.md)]. | Y | Пакет SDK должен поддерживать основные принципы [!INCLUDE[win8_appstore_short](../ide/includes/win8_appstore_short_md.md)], чтобы обеспечить правильную работу функций упаковки и F5 с пакетами SDK, которые доступны в [!INCLUDE[win8_appstore_short](../ide/includes/win8_appstore_short_md.md)]. | Y | Содержимое NuGet становится частью проекта. Особых указания относительно использования F5 отсутствуют. |
| Механизм интегрируется с манифестами приложений. | Y | Пакет SDK должен поддерживать основные принципы [!INCLUDE[win8_appstore_short](../ide/includes/win8_appstore_short_md.md)], чтобы обеспечить правильную работу функций упаковки и F5 с пакетами SDK, которые доступны в [!INCLUDE[win8_appstore_short](../ide/includes/win8_appstore_short_md.md)]. | Y | Содержимое NuGet становится частью проекта. Особых указания относительно использования F5 отсутствуют. |
| Механизм развертывает файлы без ссылок (например, развертывание платформы тестирования, на которой будут тестироваться приложения [!INCLUDE[win8_appname_long](../debugger/includes/win8_appname_long_md.md)]). | Y | Файлы, помещаемые в папку *\redist*, развертываются автоматически. | Y | |
| Механизм автоматически добавляет пакеты SDK для платформы в интегрированную среду разработки Visual Studio. | Y | Если поместить пакет SDK для [!INCLUDE[win8](../debugger/includes/win8_md.md)] или пакета SDK для Windows Phone в определенное место с определенной структурой, он автоматически интегрируется с помощью функций Visual Studio. | Нет | |
| Механизм поддерживает компьютер для разработки без установленных программ. (Это значит, что устанавливать ничего не требуется — действуют только принципы простого извлечения из системы управления версиями.) | Нет | Поскольку вы ссылаетесь на пакет SDK, необходимо отдельно вернуть решение и пакет SDK. Пакет SDK можно вернуть из двух расположений по умолчанию вне реестра, из которых MSBuild выполняет итерацию по пакетам SDK (дополнительные сведения см. в статье [Creating a Software Development Kit](../extensibility/creating-a-software-development-kit.md) (Создание пакета средств разработки программного обеспечения)). Или если пользовательское расположение состоит из пакетов SDK, можно указать следующий код в файле проекта:<br /><br />`<PropertyGroup>`<br />&nbsp;&nbsp;`<SDKReferenceDirectoryRoot>`<br />&nbsp;&nbsp;`C:\MySDKs`<br />&nbsp;&nbsp;`</SDKReferenceDirectoryRoot>`<br />`</PropertyGroup>`<br /><br /> Затем верните пакеты SDK в это расположение. | Y | Можно извлечь решение, и Visual Studio немедленно распознает файлы и обработает их. |
| Вы можете войти в крупное существующее сообщество создателей пакетов. | Недоступно | Сообщество является новой организацией. | Y | |
| Вы можете войти в крупное существующее сообщество потребителей пакетов. | Недоступно | Сообщество является новой организацией. | Y | |
| Вы можете присоединиться к экосистеме партнеров (пользовательские коллекции, репозиторий и т. д.). | Недоступно | Доступные репозитории включают: Visual Studio Marketplace, Центр загрузки Майкрософт и [!INCLUDE[win8_appstore_long](../debugger/includes/win8_appstore_long_md.md)]. | Y | |
| Механизм интегрируется с серверами построения непрерывной интеграции как для создания, так и для использования пакетов. | Y | Пакет SDK должен передать возвращенное расположение (свойство SDKReferenceDirectoryRoot) с помощью командной строки в MSBuild. | Y | |
| Механизм поддерживает основную и предварительную версии пакетов. | Y | Пакет SDK поддерживает добавление ссылок на несколько версий. | Y | |
| Механизм поддерживает автоматическое обновление установленных пакетов. | Y | Если пакет SDK поставляется в виде VSIX или в составе автоматических обновлений Visual Studio, он предоставляет автоматические уведомления. | Y | |
| Механизм содержит автономный *EXE-файл* для создания и использования пакетов. | Y | Пакет SDK содержит *MSBuild.exe*. | Y | |
| Пакеты можно возвращать в систему управления версиями. | Y | Нельзя выполнять запись после изменения в объекты вне узла "Документы". Это значит, что пакеты SDK могут быть не возвращены. Расширение SDK может иметь большой размер. | Y | |
| Для создания и потребления пакетов можно использовать интерфейс PowerShell. | Да (потребление), Нет (создание) | Инструментарий для создания пакета SDK отсутствует. При потреблении MSBuild выполняется в командной строке. | Y | |
| Для поддержки отладки можно использовать пакет символов. | Y | *PDB-файлы*, размещаемые в пакете SDK, выбираются автоматически. | Y | |
| Механизм поддерживает автообновление диспетчера пакетов. | Недоступно | Пакет SDK обновляется с помощью MSBuild. | Y | |
| Механизм поддерживает упрощенный формат манифеста. | Y | *SDKManifest.xml* поддерживает много атрибутов, однако обычно требуется их небольшая часть. | Y | |
| Механизм доступен для всех выпусков Visual Studio. | Y | Пакет SDK поддерживает все выпуски Visual Studio. | Y | NuGet поддерживает все выпуски Visual Studio. |

## <a name="see-also"></a>См. также

- [Управление ссылками в проекте](../ide/managing-references-in-a-project.md)
- [Управление ссылками в проекте (Visual Studio для Mac)](/visualstudio/mac/managing-references-in-a-project)
