---
title: Отладка или отключение кода проекта в конструкторе XAML
description: Узнайте, как отлаживать или отключать код проекта в Конструктор XAML, включая отладку выполнения кода проекта в другом экземпляре Visual Studio.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
ms.assetid: ac600581-8fc8-49e3-abdf-1569a3483d74
author: TerryGLee
ms.author: tglee
manager: jmartens
ms.openlocfilehash: e03c33de81727c333db8f662232e669e37e78f59
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99921763"
---
# <a name="debug-or-disable-project-code-in-xaml-designer"></a>Отладка или отключение кода проекта в конструкторе XAML

Во многих случаях необработанные исключения в конструкторе XAML могут вызываться попыткой кода проекта получить доступ к свойствам или методам, которые возвращают другие значения или работают по-другому, если приложение выполняется в конструкторе. Эти исключения можно устранить, отладив код проекта в другом экземпляре Visual Studio, или временно предотвратить их путем отключения кода проекта в конструкторе.

Код проекта включает следующие объекты:

- настраиваемые элементы управления и пользовательские элементы управления;

- библиотеки классов;

- преобразователи значений;

- привязки данных времени разработки, созданные из кода проекта.

При отключении кода проекта в Visual Studio отображаются заполнители. Например, в Visual Studio отображаются имя свойства для привязки, где данные больше не доступны, или заполнитель для элемента управления, который больше не выполняется.

![Диалоговое окно необработанного исключения](media/xaml_unhandledexception.png)

## <a name="to-determine-if-project-code-is-causing-an-exception"></a>Как определить, вызвано ли исключение кодом проекта

1. В диалоговом окне необработанного исключения нажмите ссылку **Щелкните здесь для перезагрузки конструктора** .

2. В строке меню выберите **Отладка**  >  **начать отладку** , чтобы собрать и запустить приложение.

     Если сборка и запуск приложения выполнились успешно, исключение времени разработки могло быть вызвано кодом проекта, запущенного в конструкторе.

## <a name="to-debug-project-code-running-in-the-designer"></a>Отладка кода проекта, запущенного в конструкторе

1. В диалоговом окне необработанного исключения нажмите ссылку **Щелкните здесь для отключения работающего кода проекта и перезагрузки конструктора** .

2. В диспетчере задач Windows нажмите кнопку **Завершить задачу** , чтобы закрыть все экземпляры конструктора XAML Visual Studio, работающие в данный момент.

     ![Экземпляры конструктора XAML в диспетчере задач](media/xaml_taskmanager.png)

3. В Visual Studio откройте страницу XAML, содержащую код или элемент управления, который требуется отладить.

4. Откройте новый экземпляр Visual Studio, а затем второй экземпляр вашего проекта.

5. Установите точку останова в коде проекта.

6. В новом экземпляре Visual Studio в строке меню выберите **Отладка**  >  **присоединить к процессу**.

7. В диалоговом окне **Присоединение к процессу** выберите процесс **XDesProc.exe** в списке **Доступные процессы** и нажмите кнопку **Присоединиться** .

     ![Процесс конструктора XAML](media/xaml_attach.png)

     Это процесс для конструктора XAML в первом экземпляре Visual Studio.

8. В первом экземпляре Visual Studio в строке меню выберите **Отладка**  >  **начать отладку**.

     Теперь можно выполнить пошаговую отладку кода, работающего в конструкторе.

## <a name="to-disable-project-code-in-the-designer"></a>Отключение кода проекта в конструкторе

- В диалоговом окне необработанного исключения нажмите ссылку **Щелкните здесь для отключения работающего кода проекта и перезагрузки конструктора** .

- Кроме того, на панели инструментов в **конструкторе XAML** нажмите кнопку **Отключить код проекта** .

     ![Кнопка отключения кода проекта](media/xaml_disablecode.png)

     Вы можете нажать эту кнопку еще раз, чтобы включить код проекта.

    > [!NOTE]
    > Для проектов, предназначенных для процессоров ARM или X64, Visual Studio не может запустить код проекта в конструкторе, поэтому кнопка **Отключить код проекта** в конструкторе будет неактивна.

- Оба варианта приводят к перезагрузке конструктора, после чего отключается весь код для соответствующего проекта.

    > [!NOTE]
    > Отключение кода проекта может привести к потере данных времени разработки. Другой путь заключается в отладке кода, выполняемого в конструкторе.

## <a name="control-display-options"></a>Параметры отображения элементов управления

> [!NOTE]
> Функция **Control Display Options** (Параметры отображения элементов управления) доступна только для приложений универсальной платформы Windows, предназначенных для Windows 10 Fall Creators Update (сборка 16299) или более поздней версии. Функция **Control Display Options** (Параметры отображения элементов управления) доступна в Visual Studio 2017 версии 15.9 или более поздней.

В конструкторе XAML можно изменить параметры отображения элементов управления, чтобы отображать только элементы управления платформы из пакета Windows SDK. Это может повысить надежность конструктора XAML.

Чтобы изменить параметры отображения элементов управления, щелкните значок в левом нижнем углу окна конструктора и выберите параметр в группе **Control Display Options** (Параметры отображения элементов управления):

![Параметры отображения элементов управления](media/control_display_options.png)

Если выбрать настройку **Only Display Platform Controls** (Отображать только элементы управления платформы), то набор элементов управления из пакетов SDK, пользовательских и других элементов управления будет отображаться не полностью. Вместо этого они будут заменены резервными элементами управления для демонстрации размера и положения соответствующих элементов.

## <a name="see-also"></a>См. также раздел

- [Проектирование XAML в Visual Studio и Blend для Visual Studio](designing-xaml-in-visual-studio.md)
