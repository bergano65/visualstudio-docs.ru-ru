---
title: Определение расположения файлов символов с помощью командной строки
description: Сведения о том, что для отображения сведений о символах, например имен функций и номеров строк, программе командной строки VSPerfReport необходим доступ к файлам символов (PDB).
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
ms.assetid: 8aa067bb-e8bf-4081-aff0-cfbcf65934a0
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: vs-2017
ms.workload:
- multiple
ms.openlocfilehash: 1ea3eff001c49f4d7546985f1357126dc87717bc
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99920717"
---
# <a name="how-to-specify-symbol-file-locations-from-the-command-line"></a>Практическое руководство. Определение расположения файлов символов с помощью командной строки
Для отображения сведений о символах, например имен функций и номеров строк, программе командной строки VSPerfReport необходим доступ к файлам символов (*PDB*) профилируемых компонентов и системным файлам Windows. Файлы символов создаются при компиляции компонента. Дополнительные сведения см. в разделе [VSPerfReport](../profiling/vsperfreport.md). VSPerfReport автоматически выполняет поиск следующих расположений файлов символов:

- пути, указанные в параметре **/SymbolPath** или в переменной среды **_NT_SYMBOL_PATH**;

- точный локальный путь к папке, в которой был скомпилирован компонент;

- каталог, содержащий файл данных профилирования (*VSP* или *VSPS*).

  Корпорация Майкрософт предоставляет *PDB*-файлы для многих своих продуктов через Интернет на сервере символов. Если компьютер, используемой для создания отчетов, подключен к Интернету, программа VSPerfReport подключается к серверу символов по сети для автоматического поиска сведений о символах и сохранения файлов в локальном хранилище.

  Расположение файлов символов и хранилища сервера символов Майкрософт можно указать следующим образом:

- задайте переменную среды **_NT_SYMBOL_PATH**;

- добавьте параметр **/SymbolPath** в командную строку VSPerfReport.

  Можно также использовать оба этих метода.

> [!NOTE]
> Если [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] установлен на локальном компьютере, расположение файлов символов Windows, вероятно, уже указано. Дополнительные сведения см. в разделе [Практическое руководство. Справочная информация о символах Windows](../profiling/how-to-reference-windows-symbol-information.md). Вам, тем не менее, потребуется настроить в VSPerfReport использование расположения и сервера, как описано далее в этом разделе.

## <a name="specify-windows-symbol-files"></a>Задание файлов символов Windows

#### <a name="to-configure-the-use-of-the-windows-symbol-server"></a>Настройка использования сервера символов Windows

1. При необходимости создайте каталог для локального хранения файлов символов.

2. Используйте следующий синтаксис для задания переменной среды **_NT_SYMBOL_PATH** или параметра VSPerfReport /SymbolPath:

    `srv*<LocalStore>*https://msdl.microsoft.com/download/symbols`

    где *<LocalStore>*  — путь созданного локального каталога.

## <a name="specify-component-symbol-files"></a>Задание файлов символов компонентов
 Средства профилирования выполняют поиск *PDB*-файлов компонентов, которые требуется профилировать, в исходном расположении в компонентах или в папке, содержащей файл данных профилирования. Можно указать другие расположения для поиска, добавив один или несколько путей в переменную **_NT_SYMBOL_PATH** или в параметр **/SymbolPath**. Отделяйте пути точкой с запятой.

## <a name="example"></a>Пример
 Следующая командная строка задает в качестве переменной среды **_NT_SYMBOL_PATH** сервер символов Windows и **C:\Symbols** в качестве локального каталога.

 ```cmd
  set  _NT_SYMBOL_PATH=srv*C:\symbols*https://msdl.microsoft.com/download/symbols
 ```

 Следующая командная строка VSPerfReport добавляет каталог *C:\Projects\Symbols* в путь поиска с помощью параметра **/SymbolPath**.

 **VSPerfReport**  *MyApp* **.exe /SymbolPath:C:\Projects\Symbols /summary:all**
