---
title: "DA0007. Избегайте использования исключений для потока управления | Документы Майкрософт"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-debug
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- vs.performance.rules.DAExceptionsThrown
- vs.performance.7
- vs.performance.rules.DA0007
- vs.performance.DA0007
ms.assetid: ee8ba8b5-2313-46c9-b129-3f3a2a232898
caps.latest.revision: "13"
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 1bf6ce50519fc3021197de5ca8f76ca55500e6e0
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2017
---
# <a name="da0007-avoid-using-exceptions-for-control-flow"></a>DA0007. Избегайте использования исключений для потока управления
|||  
|-|-|  
|Идентификатор правила|DA0007|  
|Категория|Использование .NET Framework|  
|Методы профилирования|Все|  
|Сообщение|Постоянно вызывается большое число исключений. Рекомендуется сократить число используемых исключений в алгоритме программы.|  
|Тип сообщения|Предупреждение|  
  
 При профилировании с помощью выборки, памяти .NET или методов разрешения конфликтов ресурсов необходимо собрать минимум 25 выборок, чтобы активировать это правило.  
  
## <a name="cause"></a>Причина  
 Высокая частота вызовов обработчиков исключений .NET Framework в данных профилирования. Рекомендуется использовать другую логику потока управления для уменьшения числа вызываемых исключений.  
  
## <a name="rule-description"></a>Описание правила  
 Использование обработчиков исключений для перехвата ошибок и других событий, нарушающих выполнение программы, является хорошей практикой. Однако использование обработчиков исключений в алгоритме обычного выполнения программы может оказаться слишком затратным и этого следует избегать. Рекомендуется использовать исключения только в редких случаях, когда происходит что-то непредвиденное. Исключения не должны использоваться для возврата значений в ходе обычного выполнения программы. Во многих случаях можно избежать возникновения исключений, проверяя значения и используя условные конструкции для предотвращения выполнения операторов, вызывающих проблемы.  
  
 Дополнительные сведения см. в подразделе [Управление исключениями](http://go.microsoft.com/fwlink/?LinkID=177825) раздела **Глава 5. Улучшение производительности управляемого кода** в томе **Повышение производительности и масштабируемости приложений .NET** библиотеки **Шаблоны и практические рекомендации Майкрософт** на веб-сайте MSDN.  
  
## <a name="how-to-investigate-a-warning"></a>Изучение причин предупреждения  
 Дважды щелкните сообщение в окне "Список ошибок", чтобы перейти к представлению "Метки". Найдите столбец, содержащий измерения **Исключений CLR .NET(@ProcessInstance)\\Число исключений/сек**. Установите, есть ли какие-либо этапы выполнения программы, где обработка исключений происходит чаще. Используя профиль выборки, попытайтесь выявить операторы вызова исключений и блоки try/catch, которые являются причиной частых исключений. При необходимости добавьте операторы для перехвата блоков, чтобы понять, какие исключения обрабатываются наиболее часто. Там, где это возможно, замените часто выполняемые операторы вызова исключений или блоки перехвата обычными операторами управления и проверки значений.  
  
 Например, если вы обнаружите, что приложение часто обрабатывает исключение деления на ноль, добавьте в программу операторы для проверки знаменателей на нулевое значение. Это улучшит производительность приложения.