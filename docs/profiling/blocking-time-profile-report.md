---
title: Отчет о профиле времени блокировки | Документы Майкрософт
description: 'Отчеты о профиле времени блокировки предоставляют агрегированные данные времени блокировки. Существует шесть типов отчетов: "Синхронизация", "Спящий режим", "Ввод-вывод", "Память", "Вытеснение" и "Пользовательский интерфейс".'
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.cv.threads.report.blocking
helpviewer_keywords:
- Concurrency Visualizer, Blocking Time Profile Report
ms.assetid: 3bc45af0-3ba6-4fa3-a336-be8e9ae95107
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 7f5bdf15b220560562ccc2ae5c99100b5285b025
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99925607"
---
# <a name="blocking-time-profile-report"></a>Отчет профиля времени блокировки
В отчетах о профилях содержатся сводные данные о времени блокировок для стеков вызовов по каждой из категорий блокировок (например, "Ввод-вывод" или "Синхронизация"). В отчете о вытеснении выводится список процессов, которые вытесняли текущий процесс, а также количество вытеснений. Для построения отчета по профилю блокировки инструмент собирает информацию о блокирующих вызовах интерфейса API и размещает ее в дереве стеков вызовов. На данные в этих отчетах может повлиять текущий диапазон времени, скрытые потоки и следующие два фильтра, которые могут быть применены.

- Если выбран параметр "Только мой код", будут представлены только кадры стека, у которых есть пользовательский код, а также кадры на уровень ниже пользовательского кода.

- Если задано значение для снижения уровня шума, разобранные стеки с частотой ниже заданной пропускаются.

  Разверните какой-либо узел дерева вызовов, чтобы найти строку кода, в которой затрачено время на блокировку. Чтобы найти строку исходного кода для данной записи, выберите в ее контекстном меню пункт **Просмотреть исходный код**. Для поиска строки кода, вызвавшей данную строку, в контекстном меню выберите команду **Просмотреть сайты вызова**. Если доступен только один сайт вызова, команда подключится к выделенной строке кода для сайта вызова. Если доступно несколько сайтов вызова, команда откроет диалоговое окно, в котором можно выбрать сайт, а затем нажать кнопку **Перейти к источнику**, чтобы перейти на выделенный сайт вызова. Зачастую полезнее всего просмотреть исходный код для сайта вызова, имеющего больше всего экземплярах, больше всего времени или и то, и другое.

## <a name="blocking-time-report-columns"></a>Столбцы отчета о времени блокировки
 В приведенной ниже таблице показаны столбцы каждого из отчетов о времени блокировки.

|Имя столбца|Описание|
|-----------------|-----------------|
|**имя**;|Имя функции для каждого уровня стека вызова.|
|**Экземпляры**|Количество экземпляров блокирующего вызова для видимого периода времени.|
|**Инклюзивное время блокировки**|Общее время блокировки, затраченное на все стеки, сведенные к этому уровню дерева стека вызовов. Инклюзивное число — это сумма эксклюзивного времени блокировки для данной функции и эксклюзивного времени блокировки для всех ее дочерних узлов.|
|**Эксклюзивное время блокировки**|Общее затраченное время блокировки, в течение которого данная функция находилась на самом нижнем уровне стека вызовов. Рассматриваемой функцией может быть уникальная запись стека вызова с высоким значением эксклюзивного времени блокировки.|
|**API/категория ожидания**|Отображается только для функций на самом низком уровне стека вызовов. При распознавании сигнатуры блокирующего вызова предоставляется имя блокирующего интерфейса API. Если сигнатура не распознана, предоставляются сведения, выданные ядром.|
|**Сведения**|Полное имя функции. Содержит число строк, если это значение доступно.|

### <a name="synchronization"></a>Синхронизация
 В отчете о синхронизации отображаются вызовы, отвечающие за сегменты, заблокированные из-за синхронизации, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [Время синхронизации](../profiling/synchronization-time.md).

### <a name="sleep"></a>Сон
 Отчет о спящем режиме показывает вызовы, отвечающие за время блокировки, отмеченное как время, проведенное в спящем режиме, а также совокупное время блокировки для каждого стека вызовов. Дополнительные сведения см. в статье [Время ожидания](../profiling/sleep-time.md).

### <a name="io"></a>Ввод-вывод
 В отчете о вводе-выводе отображаются вызовы, отвечающие за сегменты, операциями ввода-вывода, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [Время ввода-вывода (представление "Потоки")](../profiling/i-o-time-threads-view.md).

### <a name="memory-management"></a>Управление памятью
 В отчете об управлении памятью отображаются вызовы, отвечающие за сегменты, операциями управления памятью, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [Время управления памятью](../profiling/memory-management-time.md).

### <a name="preemption"></a>Вытеснение
 В отчете о вытеснении выводится список процессов, которые вытесняли текущий процесс, а также количество вытеснений.  Можно развернуть каждый процесс для просмотра тех потоков, которые вытесняли потоки текущего процесса, а также для просмотра распределения вытеснений для каждого потока. Этот отчет о блокировках имеет меньшее практическое значение, чем другие, так как вытеснение процесса чаще инициируется операционной системой, а не ошибкой в коде пользователя. Дополнительные сведения см. в статье [Время вытеснения](../profiling/preemption-time.md).

### <a name="ui-processing"></a>Обработка пользовательского интерфейса
 В отчете об обработке пользовательского интерфейса отображаются вызовы, отвечающие за сегменты, которые блокируют блоки обработки пользовательского интерфейса, с указанием совокупного времени блокировки каждого стека вызовов. Дополнительные сведения см. в статье [Время обработки пользовательского интерфейса](../profiling/ui-processing-time.md).

## <a name="see-also"></a>См. также
- [Представление "Потоки"](../profiling/threads-view-parallel-performance.md)