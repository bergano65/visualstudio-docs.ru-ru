---
title: Общие сведения о сеансе анализа производительности | Документы Майкрософт
description: Сведения о том, как использовать средства оценки производительности для быстрого повышения продуктивности работы и производительности кода.
ms.date: 11/04/2016
ms.topic: conceptual
helpviewer_keywords:
- Profiling Tools, performance session
- performance sessions
ms.assetid: 35752f95-a57a-4def-b64d-cf4899669e99
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: vs-2017
ms.workload:
- multiple
ms.openlocfilehash: 8db336c38b330eb0702875b08078c1cac69ea7f5
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99922203"
---
# <a name="performance-session-overview"></a>Общие сведения о сеансе анализа производительности
В данном обзоре приводится информация об основах профилирования. Разработчики, у которых нет опыта анализа производительности, узнают, как средства профилирования [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] позволяют быстро повысить продуктивность их работы и производительность их кода. Разработчики, обладающие опытом профилирования, получат представление об особенностях функций и процессов средств профилирования.

 Средства профилирования [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] помогают идентифицировать проблемы производительности на уровне исходного кода, а также сравнить производительность различных возможных решений. Мастера средств профилирования и параметры по умолчанию позволяют сразу же получить представление о многих проблемах производительности. Функциональные возможности и настройки средств профилирования обеспечивают полное управление процессом профилирования. В процессе управления используются средства точной настройки разделов кода, сбор информации о времени выполнения на уровне блоков, а также включение дополнительных данных об использовании процессора и производительности системы в данные отчета.

 Процесс использования средств профилирования состоит из следующих шагов.

1. Настройка сеанса анализа производительности путем указания метода сбора и данных, которые требуется собирать.

2. Сбор данных профилирования путем запуска приложения в рамках сеанса анализа производительности.

3. Анализ данных для выявления проблем с производительностью.

4. Изменение кода в интегрированной среде разработки (IDE) [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] для повышения производительности кода приложения

5. Собрать данных профилирования для измененного кода и сравнение данных профилирования исходных и измененных данных.

6. Создание отчета, в котором документируется повышение производительности.

   Чтобы работать с информацией, предоставляемой средствами профилирования, необходимо располагать символьной информацией для профилируемых двоичных файлов, а также для двоичных файлов операционной системы Windows.

## <a name="configure-the-performance-session"></a>Настройка сеанса анализа производительности
 Чтобы настроить сеанс профилирования, выберите метод профилирования, который будет использоваться, и данные, которые требуется собирать. Базовые настройки можно задать при помощи диалогового окна **Мастер производительности** средств профилирования, дополнительные настройки задаются с помощью страниц свойств сеанса анализа производительности.

- Поддерживаются следующие методы сбора данных: выборка, трассировка и выделение памяти.

- В качестве значений данных могут использоваться счетчики производительности, связанные со временем, загрузкой процессора и операционной системой, а также события приложений, например сбои страниц и переходы в режим ядра.

  Сеанс анализа производительности может настраиваться как этап проекта решения в рамках проекта [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)], кроме того, интегрированная среда разработки [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] позволяет выполнять профилирование произвольных двоичных файлов. Параметры сеанса могут указываться на страницах свойств сеанса анализа производительности или задаваться с помощью мастера профилирования.

## <a name="collect-profiling-data"></a>Сбор данных профилирования
 Сбор данных профилирования начинается в окне **Обозреватель производительности**. Чтобы ограничить объем собираемых данных, можно приостанавливать и продолжать профилирование. Кроме того, можно присоединиться к уже выполняющемуся процессу.

 Как только приложение запускается, в интерфейсе IDE [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] появляется окно **Управление сбором данных**. В окне **Управление сбором данных** можно выполнять профилирование отдельных составляющих приложения путем приостановки и продолжения сбора данных. Кроме того, окно **Управление сбором данных** позволяет вставлять метки в собираемые данные. Метки представляют собой определяемые пользователем точки данных, которые отображаются в представления профилирования и могут использоваться для фильтрации данных профилирования.

 Когда работа целевого приложения завершается, средства профилирования формируют файл данных профилирования (*.vsp), а в интерфейсе [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] IDE отображается представление сводного отчета.

## <a name="analyze-the-data-and-identify-performance-issues"></a>Анализ данных и идентификация проблем с производительностью
 По окончании профилирования выполняется анализ данных и сводная информация отображается в окнах представления **Отчет о производительности** средств профилирования. Сбор данных профилирования выполняется для стека вызовов и отдельных функций целевого приложения. В представлениях отчетов отображается анализ производительности для диапазонов данных процессов, потоков, модулей, функций и строк исходного кода приложения. В качестве данных профилирования для функции регистрируются следующие показатели.

- Общее время, затраченное на выполнение функции и дочерних функций, которые были вызваны из рассматриваемой функции (инклюзивное время).

- Время, затраченное только на выполнение кода самой функции (эксклюзивное время).

  Более двенадцати различных представлений позволяют выполнять анализ данных профилирования наиболее эффективным образом. Возможности настройки представлений пользователем позволяют выполнять фильтрацию и сортировку данных, чтобы облегчить поиск функций, которые могут вызывать проблемы с производительностью. Функция фильтрации критического пути позволяет моментально выделить большинство активных путей в представлениях "Дерево вызовов" и "Модуль".

## <a name="modify-the-application-code"></a>Изменение кода приложения
 После идентификации одной или нескольких проблем с производительностью можно изменить код приложения с помощью интерфейса IDE [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] и собрать данные профилирования для измененного кода приложения.

## <a name="collect-profiling-data-again-and-compare-the-data-between-the-profiling-runs"></a>Повторный сбор данных профилирования и сравнение данных, собранных в процессе двух запусков профилирования
 В представлении "Отчет о сравнении" средств профилирования отображаются различия производительности между двумя выбранными файлами данных профилирования на уровне модулей, функций или строк исходного кода. Можно указать значения данных профилирования, с которыми требуется выполнить сравнение; кроме того, можно переключаться между представлением сравнения и представлениями отдельных файлов.

## <a name="generate-a-report-of-the-results"></a>Создание отчета о результатах
 Строки любого отчета о производительности можно вставлять в сообщения электронной почты и электронные таблицы; кроме того, можно создавать отчеты, в которых содержатся данные из одного или нескольких представлений.

## <a name="see-also"></a>См. также
- [Разделы общих сведений](../profiling/overviews-performance-tools.md)
- [Пошаговое руководство: Выявление проблем с производительностью](beginners-guide-to-cpu-sampling.md)
