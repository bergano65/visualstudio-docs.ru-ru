---
title: Сбор данных о производительности для веб-сайта | Документация Майкрософт
description: Сведения об использовании мастера производительности для сбора данных о производительности для веб-приложения. Приложение выполняется на локальном компьютере и может быть открыто в Visual Studio.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
f1_keywords:
- vsperf.url.url
- vsperf.chooseurl
- vs.performance.wizard.asppage
- vsperf.url.ok
- vsperf.url.cancel
helpviewer_keywords:
- Profiling Tools,profiling ASP.NET
- web sites, performance profiling
- ASP.NET, performance profilng
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: vs-2017
ms.workload:
- multiple
ms.openlocfilehash: a8e42522967b39c381e834ea93ccb1965aeb97fe
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99886227"
---
# <a name="how-to-collect-performance-data-for-a-web-site"></a>Практическое руководство. Сбор данных о производительности для веб-сайта

В целях сбора данных о производительности для веб-приложения **можно использовать** мастер производительности [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)]. Можно профилировать веб-приложение, которое открыто в Visual Studio, или веб-сайт [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)], который находится на локальном компьютере и не открыт в интегрированной среде разработки Visual Studio.

> [!NOTE]
> **Мастер производительности** позволяет добавлять данные об уровневом взаимодействии (TIP) и/или данные о производительности JScript в собранные данные профилирования. TIP собирает данные из процессов на стороне сервера. Профилирование JScript собирает данные из скриптов, выполняющихся на локальном или удаленном веб-сайте. В большинстве случаев следует выбрать только один из этих параметров.

 В зависимости от параметров разрешений на доступ пользователей, предоставленных администратором, отдельный пользователь может как обладать, так и не обладать разрешением для создания сеанса профилировщика на компьютере, где размещен процесс ASP.NET. Возможные различия между пользователями проиллюстрированы в следующих примерах:

- Некоторые пользователи могут воспользоваться расширенными возможностями профилирования, если администратор настроил драйвер и запускаемую службу.

- Пользователям домена доступны только профилирование выборки.

- Некоторые пользователи могут запрещать доступ к профилированию всем остальным пользователям.

  Дополнительные сведения см. в разделе [Профилирование и безопасность Windows Vista](../profiling/profiling-and-windows-vista-security.md) и в описании параметров ADMIN раздела [VSPerfCmd](../profiling/vsperfcmd.md).

## <a name="to-profile-a-web-site-project"></a>Профилирование проекта веб-сайта

1. Откройте веб-проект [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] в Visual Studio.

2. В меню **Анализ** выберите пункт **Профилировщик производительности**, затем **Обозреватель производительности** и нажмите **Запустить**.

3. На первой странице мастера выберите метод профилирования и нажмите кнопку **Далее**. Дополнительные сведения о методах профилирования см. в статье [Общие сведения о методах сбора данных по производительности](../profiling/understanding-performance-collection-methods.md). Обратите внимание, что метод профилирования визуализатора параллелизма недоступен для веб-приложений.

4. Убедитесь, что в раскрывающемся списке **Какое приложение выбрано для профилирования?** выбран текущий проект, и нажмите кнопку **Далее**.

5. На третьей странице мастера можно добавить данные профилирования уровневого взаимодействия (TIP) и (или) данных из скриптов JavaScript, выполняющихся на веб-страницах.

    - Чтобы собрать данные об уровневом взаимодействии, установите флажок **Включить профилирование уровневого взаимодействия** .

    - Для сбора данных из скриптов JavaScript, выполняющихся на веб-страницах, установите флажок **Профилировать JavaScript** .

6. Нажмите кнопку **Далее**.

7. На четвертой странице мастера нажмите кнопку **Готово**.

8. Для приложения [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] создается сеанс производительности, а в браузере запускается веб-сайт. Воспользуйтесь функциями, которые вы хотите профилировать, и закройте браузер.

     Профилировщик создает файл данных и отображает сводное представление данных в главном окне [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] .

## <a name="to-profile-a-web-site-without-opening-a-project-in-visual-studio"></a>Профилирование веб-сайта без открытия проекта в Visual Studio

1. Запустите Visual Studio.

2. В меню **Анализ** выберите пункт **Профилировщик производительности**, затем **Обозреватель производительности** и нажмите **Запустить**.

3. На первой странице мастера выберите метод профилирования и нажмите кнопку **Далее**. Дополнительные сведения см. в статье [Общие сведения о методах сбора данных по производительности](../profiling/understanding-performance-collection-methods.md).

4. На второй странице мастера выберите параметр **Профилировать приложение ASP.NET или JavaScript** и нажмите кнопку **Далее**.

5. В поле **С какого локального URL-адреса или пути будет выполняться веб-приложение?** на третьей странице мастера введите URL-адрес для домашней страницы приложения и нажмите кнопку **Далее**.

   - Для веб-сайта на основе сервера (IIS) введите URL-адрес, например **<`http://localhost/MySite/default.aspx`>** . В результате профилируется приложение [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] на локальном компьютере в корне приложения MySite, а страница default.aspx на этом сайте открывается в Internet Explorer для запуска сеанса.

   - Для веб-сайта на основе файлов введите путь, например file///**c:\WebSites\MySite\default.aspx**. В результате приложение [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)], расположенное в папке c:\webSites\MySite, профилируется, а страница `http://localhost:nnnn/MySite/default.aspx` открывается в Internet Explorer для запуска сеанса.

   - Для внешних сайтов, где требуется собирать данные по JavaScript, введите URL-адрес, например `http://www.contoso.com`.

     Дополнительные сведения см. в страницах свойств для целевого двоичного файла [!INCLUDE[vstecasp](../code-quality/includes/vstecasp_md.md)] .

6. На третьей странице мастера можно добавить данные профилирования уровневого взаимодействия (TIP) и (или) данных из скриптов JavaScript, выполняющихся на веб-страницах.

    - Чтобы собрать данные об уровневом взаимодействии, установите флажок **Включить профилирование уровневого взаимодействия** .

    - Для сбора данных из скриптов JavaScript, выполняющихся на веб-страницах, установите флажок **Профилировать JavaScript**.

7. Нажмите кнопку **Далее**.

8. На четвертой странице мастера нажмите кнопку **Готово**.

9. Для приложения ASP.NET создается сеанс производительности, а в браузере запускается веб-сайт. Воспользуйтесь функциями, которые вы хотите профилировать, и закройте браузер.

     Профилировщик создает файл данных и отображает сводное представление данных в главном окне [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] .

## <a name="see-also"></a>См. также

[Обзоры](../profiling/overviews-performance-tools.md)
[Настройка сеансов анализа производительности](../profiling/configuring-performance-sessions.md)
[Общие сведения о значениях данных инструментирования](../profiling/understanding-instrumentation-data-values.md)
[Общие сведения о значениях данных выборки](../profiling/understanding-sampling-data-values.md)
