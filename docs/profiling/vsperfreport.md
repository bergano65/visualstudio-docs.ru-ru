---
title: VSPerfReport | Документация Майкрософт
description: Сведения о программе командной строки VSPerfReport, которая используется для создания отчетов с помощью файлов данных профилирования средств профилирования Visual Studio.
ms.date: 11/04/2016
ms.topic: reference
helpviewer_keywords:
- command-line tools, VSPerfReporttool
- performance tools, VSPerfReport tool
- profiling tools,VSPerfReport
- VSPerfReport tool
- command line, tools
- instrumentation, VSPerfReporttool
ms.assetid: dbfd8d91-4430-4b82-81b9-97ac61412a6c
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: vs-2017
ms.workload:
- multiple
ms.openlocfilehash: 507ea5a90aa17ba252a95714f488f5ea22dff4f3
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99911500"
---
# <a name="vsperfreport"></a>VSPerfReport
Программа командной строки VSPerfReport используется для создания отчетов с помощью файлов данных профилирования средств профилирования [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]. *CSV* файл — формат отчета по умолчанию.

 VSPerfReport использует следующий синтаксис:

```cmd
VSPerfReport [/U] vspfilename [/options]
```

 Обратите внимание, что `filename` должно быть допустимым файлом формата *VSP* или *VSPS*.

 Программа командной строки VSPerfReport также используется для сравнения файлов формата *VSP* или *VSPS*. Чтобы создать отчет о различиях, используйте следующий синтаксис:

```cmd
VSPerfReport [/U] /diff vspfilename1 vspfilename2 [/options]
```

 `vspfilename1 and vspfilename2` должны быть допустимыми файлами формата *VSP* или *VSPS*.

## <a name="symbol-files"></a>Файлы символов
 Для отображения сведений о символах, например имен функций и номеров строк, программе VSPerfReport необходим доступ к файлам символов (формата PDB) профилируемых компонентов и файлам символов Windows. Дополнительные сведения см. в разделе [Практическое руководство. Определение расположения файлов символов с помощью командной строки](../profiling/how-to-specify-symbol-file-locations-from-the-command-line.md).

## <a name="general-report-options"></a>Общие параметры отчета
 В следующей таблице описаны общие параметры форматирования отчетов и параметры для выбора данных, которые будут включаться в отчет.

|Параметры|Описание|
|-------------|-----------------|
|**U**|Вывод отчета и перенаправленный вывод на консоль записываются в кодировке Юникода. Эти параметры следует указывать первыми.|
|**Summary:**[*типы*]|Создание одного или нескольких типов отчетов.<br /><br /> -   `All` — создаются все типы отчетов.<br />-   `CallerCallee` — вывод сведений об отношениях подчиненности между функциями.<br />-   `Function` — отображение вызванных функций.<br />-   `CallTree` — вывод иерархии вызванных функций.<br />-   `Counter` — вывод всех меток вместе со значениями счетчиков производительности Windows.<br />-   `Ip` — вывод профилируемых инструкций.<br />-   `Life` — отображение времени существования выделенных объектов (доступно, если собраны данные выделения).<br />-   `Line` — вывод данных профиля в строке исходного кода.<br />-   `Header` — вывод отчета, содержащего сведения о заголовке файла.<br />-   `Mark` — отображение всех меток.<br />-   `Module` — вывод профилируемых модулей.<br />-   `Process` — вывод профилируемых процессов.<br />-   `Thread` — вывод профилируемых потоков.<br />-   `Type` — вывод выделенных типов.<br />-   `Contention` — вывод конфликтов ресурсов.<br />-   `RuleWarnings` — вывод сведений о проблемах правила производительности.<br />-   `ETW` — вывод всех событий трассировки событий для Windows, собранных в сеансе профилирования. Файл данных формата ETL должен находиться в исходном расположении или в каталоге, содержащем файл формата VSP или VSPS.|
|**Xml**|Выходной отчет в формате XML.|
|**CallTrace**|Создает список входа и выхода функций, ETW-событий и меток.|
|**ClearPackedSymbols**|Удаляет внедренные ранее символы из файла данных профилировщика. Выполните эту команду перед повторным выполнением PackSymbols.|
|**SymbolPath:** `path`|Указывает один или несколько путей поиска или серверов символов, содержащих символы для файла данных профилировщика.|
|**DebugSymPath**|Отображает список расположений, в которых выполняется поиск символов, и показывает сведения об их обнаружении. Этот параметр полезен для устранения проблем разрешения символов.|
|**PackSymbols**|Сохраняет символы в файл данных профилирования (формата VSP), чтобы не использовать файлы символов (формата *PDB*) для анализа.|
|**Output:** *путь*|*имя файла*|Задает альтернативное расположение для созданных файлов отчета. По умолчанию отчеты создаются в текущем каталоге.|
|**SummaryFile**|Анализирует и сохраняет проанализированные данные в файле сводки формата VSPS.|
|**PrintMarks**|Отображает имена и отметки времени для всех меток в заданном файле отчета.|
|**?**|Отображает сведения об использовании.|
|**NoLogo**|Скрывает сведения о версии во время выполнения отчета.|
|**UserRulesDirectory**|Указывает каталог, содержащий правила производительности, определяемые пользователем [еще не реализовано].|

## <a name="filter-options"></a>Параметры фильтрации
 В следующей таблице приведены параметры для фильтрации доступных данных.

|Параметры|Описание|
|-------------|-----------------|
|**JustMyCode**[ **:** [`caller`][,`callee`]]|Показывает только вызовы функций пользовательского приложения. Системные вызовы скрываются.<br /><br /> — Без параметров — скрывает все системные функции.<br />-   `caller` — показывает один уровень системных функций, которые вызывают функции приложения.<br />-   `callee` — показывает один уровень системных функций, вызываемые функциями пользовательского приложения.|
|**StartTime:** [*значение*]|Отображает только данные, собранные после введенного значения (в миллисекундах).|
|**EndTime:** [*значение*]|Отображает только данные, собранные до введенного значения (в миллисекундах).|
|**FilterFile:** `VSPFFile`|Задает расположение файла фильтра, созданного из окна отчета о производительности Visual Studio.|
|**MsFilter:** [*время_начала,продолжительность*]|Отображает только данные за период `duration` с `starttime` (в миллисекундах).|
|**Process:** [*pid*]|Отображает только данные из указанного процесса.|
|**Thread:** [*ИД_потока*]|Отображает только данные из указанного потока.|
|**Thread:** [*ИД_потока,ИД_процесса*]|Отображает только данные из указанного потока, связанного с указанным процессом.|

## <a name="difference-report-options"></a>Параметры отчета о различиях
 В следующей таблице перечислены параметры для файлов сравнения отчетов.

|Параметры|Описание|
|-------------|-----------------|
|**Поиск различий**  `vspfile1 vspfile2`|Сравнивает два файла отчетов (формата *VSP* или *VSPS*). При использовании параметра Diff будут игнорироваться параметры сводки.|
|**Инструмент сравнения:**[*значение*]|Разница между двумя значениями ниже этого порогового значения будет игнорироваться. Кроме того, не будут показаны новые данные со значениями ниже порогового.|
|**DiffTable:** [*имя_таблицы*]|Данная таблица используется для сравнения файлов. По умолчанию используется таблица функций.|
|**DiffColumn:** [*имя_столбца*]|Данный столбец используется для сравнения значений. По умолчанию используется столбец процента исключающих выборок.|
|**QueryDiffTables**|Перечисляет допустимые таблицы и столбцы для двух предоставленных файлов отчетов.|

## <a name="see-also"></a>См. также
- [Представления отчетов о производительности](../profiling/performance-report-views.md)
