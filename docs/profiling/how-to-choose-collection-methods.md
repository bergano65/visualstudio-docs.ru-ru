---
title: Выбор методов сбора данных | Документация Майкрософт
description: Средства профилирования Visual Studio собирают данные о производительности тремя способами. В этой статье описывается, как выбрать подходящий из них для приложения.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: how-to
helpviewer_keywords:
- performance tools, choosing collection method
- profiling tools, choosing collection method
- performance collection methods
author: mikejo5000
ms.author: mikejo
manager: jmartens
monikerRange: vs-2017
ms.workload:
- multiple
ms.openlocfilehash: a304006a778dc4766e6b4be9ceb133450c0dfb52
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99876918"
---
# <a name="how-to-choose-collection-methods"></a>Практическое руководство. Выбор методов сбора данных

Средства профилирования Visual Studio собирают данные о производительности тремя способами: с помощью выборки, инструментирования и параллелизма. Метод выборки или инструментирования можно также использовать для сбора данных о времени существования и выделении памяти .NET.

Свойство **Метод** сеанса анализа производительности можно использовать для указания метода сбора данных, наиболее подходящего для вашего приложения. Метод сбора можно задать в мастере производительности, обозревателе производительности или на страницах свойств сеанса производительности. Если вы используете программы командной строки, дополнительные сведения см. в разделе [Профилирование из командной строки](../profiling/using-the-profiling-tools-from-the-command-line.md).

## <a name="performance-wizard"></a>мастер повышения производительности

### <a name="to-select-a-collection-method-using-the-performance-wizard"></a>Выбор метода сбора данных с помощью мастера производительности

- На первой странице мастера выберите один из следующих параметров:

| Параметр | Описание |
|----------------------------| - |
| **Выборка циклов ЦП** | Сбор статистики приложения, используемой для первоначального анализа и анализа проблем загрузки ЦП. |
| **Инструментирование** | Сбор подробных сведений о времени, которые удобно использовать для целевого анализа и анализа проблем производительности ввода-вывода. |
| **Выделение памяти .NET** | Сбор данных о выделении памяти .NET Framework с помощью метода профилирования с выборкой. |
| **Параллелизм** | Сбор числовых данных о конфликтах ресурсов. |

## <a name="performance-explorer"></a>Обозреватель производительности

### <a name="to-select-a-collection-method-using-performance-explorer"></a>Выбор метода сбора данных с помощью обозревателя производительности

1. В панели инструментов **обозревателя производительности** щелкните стрелку раскрывающегося списка **Метод**.

2. Выберите предпочтительный метод сбора данных.

## <a name="performance-session-property-pages"></a>Страницы свойств сеанса производительности

### <a name="to-select-the-sampling-or-instrumentation-method-using-performance-session-properties"></a>Выбор метода выборки или инструментирования с помощью свойства сеанса производительности

1. В **обозревателе производительности** выберите сеанс производительности.

     Имя файла сеанса производительности имеет расширение *PSESS*.

2. Щелкните правой кнопкой мыши сеанс производительности, а затем выберите пункт **Свойства**.

3. В окне **Страницы свойств** щелкните страницу **Общие**.

4. Выберите предпочтительный метод сбора данных.

    - Сведения о других параметрах, доступных при сборе данных выборки, см. в разделе [Использование метода выборки для сбора статистики производительности](../profiling/collecting-performance-statistics-by-using-sampling.md).

    - Сведения о других параметрах, доступных при сборе данных инструментирования, см. в разделе [Сбор подробных сведений о времени с помощью инструментирования](../profiling/collecting-detailed-timing-data-by-using-instrumentation.md).

### <a name="to-select-net-memory-data-collection-by-using-performance-session-properties"></a>Выбор сбора данных памяти .NET с помощью свойств сеанса анализа производительности

1. В **обозревателе производительности** выберите сеанс производительности.

     Имя файла сеанса производительности имеет расширение PSESS.

2. Щелкните правой кнопкой мыши сеанс производительности, а затем выберите пункт **Свойства**.

3. В окне **Страницы свойств** щелкните страницу **Общие**.

4. Щелкните **Выборка** или **Инструментирование**.

5. Щелкните **Собирать сведения о выделении объектов .NET** для сбора данных о размере и количестве выделений объектов .NET Framework.

6. (Необязательно.) Щелкните **Также собирать сведения о времени жизни объектов .NET** для сбора данных о поколениях сборки мусора, в которых высвобождалась память объектов.

     Сведения о других параметрах, доступных при сборе данных о памяти .NET, см. в разделе [Сбор данных о выделении памяти для объектов .NET и времени их жизни](../profiling/collecting-dotnet-memory-allocation-and-lifetime-data.md).

### <a name="to-select-concurrency-data-collection-by-using-performance-session-properties"></a>Выбор сбора данных о параллелизме с помощью свойств сеанса производительности

1. В **обозревателе производительности** щелкните правой кнопкой мыши сеанс производительности, а затем выберите **Свойства**.

2. В окне **Страницы свойств** щелкните страницу **Общие**.

3. Щелкните **Параллелизм**.

## <a name="see-also"></a>См. также

[Настройка сеансов анализа производительности](../profiling/configuring-performance-sessions.md)
[Общие сведения о значениях выборочных данных](../profiling/understanding-sampling-data-values.md)
[Свойства сеанса анализа производительности](../profiling/performance-session-properties.md)
