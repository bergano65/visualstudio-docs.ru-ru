---
title: "Выполнение модульных тестов с помощью обозревателя тестов | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.unittesting.testexplorer.overview"
ms.assetid: 91b167a3-280a-498b-8fc2-f67859a2c64e
caps.latest.revision: 27
caps.handback.revision: 27
ms.author: "mlearned"
manager: "douge"
---
# Выполнение модульных тестов с помощью обозревателя тестов
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Обозреватель тестов используется для запуска модульных тестов из Visual Studio или сторонних проектов модульного тестирования, группировки тестов по категориями, фильтрации списка тестов, а также создания, сохранения и выполнения списков воспроизведения тестов. Кроме того, с его помощью можно выполнять отладку тестов и анализировать производительность тестов и покрытие кода.  
  
##  <a name="BKMK_Contents"></a> Описание  
 [Платформы модульных тестов и тестовых проектов](#BKMK_Unit_test_frameworks_and_test_projects)  
  
 [Выполнение тестов в обозревателе тестов](#BKMK_Run_tests_in_Test_Explorer)  
  
 [Просматривать результаты тестов](#BKMK_View_test_results)  
  
 [Группировка и фильтрация списка тестов](#BKMK_Group_and_filter_the_test_list)  
  
 [Создание настраиваемых списков воспроизведения](#BKMK_Create_custom_playlists)  
  
 [Отладка и анализ модульных тестов](#BKMK_Debug_and_analyze_unit_tests)  
  
 [Внешние ресурсы](#BKMK_External_resources)  
  
##  <a name="BKMK_Unit_test_frameworks_and_test_projects"></a> Платформы модульных тестов и тестовых проектов  
 Visual Studio включает платформу модульного тестирования Майкрософт для управляемого и машинного кода. Однако с помощью обозревателя тестов можно также запустить любую платформу модульного тестирования, в которой реализован адаптер обозревателя тестов. Дополнительные сведения об установке сторонних платформ модульного тестирования см. в статье [Установка платформ модульного тестирования сторонних поставщиков](../test/install-third-party-unit-test-frameworks.md)  
  
 Тесты в обозревателе тестов можно выполнять из нескольких тестовых проектов в решении, а также из тестовых классов, которые входят в производственные проекты. Тестовые проекты могут использовать различные платформы модульного тестирования. При написании тестируемого кода для платформы .NET Framework тестовый проект можно написать на любом языке, который также ориентирован на платформу .NET Framework, независимо от языка целевого кода. Проекты машинного кода C\/C\+\+ необходимо тестировать с помощью платформы модульного тестирования C\+\+.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
##  <a name="BKMK_Run_tests_in_Test_Explorer"></a> Выполнение тестов в обозревателе тестов  
 [Выполнить тесты](#BKMK_Run_tests) **&#124;** [Запуск тестов после каждой сборки](#BKMK_Run_tests_after_every_build)  
  
 При построении проекта тестирования тесты появляются в Обозревателе тестов. Если Обозреватель тестов не виден, выберите **Тест** в меню Visual Studio, выберите **Windows**, затем выберите **Обозреватель тестов**.  
  
 ![Обозреватель модульных тестов](../ide/media/ute_failedpassednotrunsummary.png "UTE\_FailedPassedNotRunSummary")  
  
 При выполнении, написании и повторном запуске тестов обозреватель тестов отображает результаты в группах по умолчанию **Неудачные тесты**, **Пройденные тесты**, **Пропущенные тесты** и **Не запущенные тесты**. Можно изменить способ группировки тестов обозревателем тестов.  
  
 Большую часть работы по поиску, организации и выполнению тестов можно выполнять из панели инструментов обозревателя тестов.  
  
 ![Запуск тестов из панели инструментов обозревателя тестов](../test/media/ute_toolbar.png "UTE\_ToolBar")  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
###  <a name="BKMK_Run_tests"></a> Выполнить тесты  
 Можно выполнить все тесты в решении, все тесты в группе или выбранный набор тестов. Выполните одно из следующих действий.  
  
-   Чтобы выполнить все тесты в решении, выберите **Запустить все**.  
  
-   Чтобы выполнить все тесты в группе по умолчанию, выберите **Выполнить...**, а также выберите группу в меню.  
  
-   Выберите отдельные тесты, которые требуется запустить, откройте контекстное меню для выбранного теста и выберите пункт **Запустить выбранные тесты**.  
  
-   Если отдельные тесты не имеют зависимостей, предотвращающих запуск этих тестов в любом порядке, включите параллельное тестирование с помощью переключателя ![UTE&#95;parallelicon&#45;small](../test/media/ute_parallelicon-small.png "UTE\_parallelicon\-small") на панели инструментов. Это может заметно сократить время, необходимое для выполнения всех тестов.  
  
 Анимированная строка "Пройдено\/сбой" вверху окна обозревателя тестов изменяется по мере выполнения тестов. По завершении тестового запуска эта строка становится зеленой, если все тесты пройдены, или красной, если какой\-либо из тестов не пройден.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
###  <a name="BKMK_Run_tests_after_every_build"></a> Запуск тестов после каждой сборки  
  
> [!WARNING]
>  Запуск модульных тестов после каждой сборки поддерживается в Visual Studio Enterprise.  
  
|||  
|-|-|  
|![Run after build](../test/media/ute_runafterbuild_btn.png "UTE\_RunAfterBuild\_btn")|Чтобы запустить модульные тесты после каждой локальной сборки, в стандартном меню выберите **Тест**, а затем выберите **Выполнить тесты после сборки** в панели инструментов обозревателя тестов.|  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
##  <a name="BKMK_View_test_results"></a> Просматривать результаты тестов  
 [Просмотр сведений о тесте](#BKMK_View_test_details) **&#124;** [Просмотр исходного кода метода теста](#BKMK_View_the_source_code_of_a_test_method)  
  
 При выполнении, написании и повторном запуске тестов обозреватель тестов отображает результаты в группах **Неудачные тесты**, **Пройденные тесты**, **Пропущенные тесты** и **Не запущенные тесты**. В области сведений в нижней части окна обозревателя тестов отображается сводка тестового запуска.  
  
###  <a name="BKMK_View_test_details"></a> Просмотр сведений о тесте  
 Для просмотра подробных сведений для отдельного теста выберите тест.  
  
 ![Сведения о выполнении теста](../test/media/ute_testdetails.png "UTE\_TestDetails")  
  
 В области сведений о тесте отображаются следующие сведения.  
  
-   Имя исходного файла и номер строки метода теста.  
  
-   Состояние теста.  
  
-   Время, затраченное на выполнение метода теста.  
  
 Если тест не пройден, в области сведений также отображается следующее:  
  
-   сообщение, возвращенное платформой модульного тестирования для теста;  
  
-   трассировка стека во время сбоя теста.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
###  <a name="BKMK_View_the_source_code_of_a_test_method"></a> Просмотр исходного кода метода теста  
 Чтобы вывести исходный код для метода теста для просмотра в редакторе Visual Studio, выберите тест, а затем пункт **Открыть тест** контекстного меню \(клавиша F12\).  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
##  <a name="BKMK_Group_and_filter_the_test_list"></a> Группировка и фильтрация списка тестов  
 [Группирование списка тестов](#BKMK_Grouping_the_test_list) **&#124;** [Группировка по признакам](#BKMK_Group_by_traits) **&#124;** [Поиск и фильтрация списка тестов](#BKMK_Search_and_filter_the_test_list)  
  
 Обозреватель тестов позволяет группировать тесты в стандартные категории. Большинство платформ модульного тестирования, которые работают в обозревателе тестов, позволяют определить собственные категории и пары "категория — значение" для группировки тестов. Кроме того, список тестов можно фильтровать, сопоставляя строки со свойствами теста.  
  
###  <a name="BKMK_Grouping_the_test_list"></a> Группирование списка тестов  
 Чтобы изменить способ организации тестов, щелкните стрелку "вниз" рядом с кнопкой **Группировать по**![Кнопка группы обозревателя тестов](../test/media/ute_groupby_btn.png "UTE\_GroupBy\_btn") и выберите новые условия группировки.  
  
 ![Группировка тестов по категориям в обозревателе тестов](../test/media/ute_groupbycategory.png "UTE\_GroupByCategory")  
  
### Группы обозревателя тестов  
  
|Группа|Описание|  
|------------|--------------|  
|**Длительность**|Группировка тестов по времени выполнения: **Быстро**, **Средне** и **Медленно**.|  
|**Результат**|Группировка тестов по результатам выполнения: **Неудачные тесты**, **Пропущенные тесты**, **Пройденные тесты**.|  
|**Признаки**|Группировка тестов по паре "категория — значение", заданной пользователем. Синтаксис для указания категорий и значений признаков определяется платформой модульного тестирования.|  
|**Проект**|Группировка тестов по именам проектов.|  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
###  <a name="BKMK_Group_by_traits"></a> Группировка по признакам  
 Признак обычно представляет собой пару "имя — значение" категории, однако может быть и отдельной категорией. Признаки могут назначаться методам, которые идентифицируются платформой модульного тестирования как методы теста. Платформа модульного тестирования может определять категории признаков. Чтобы определить собственные пары "имя — значение" категории, можно добавлять значения в категории признаков. Синтаксис для указания категорий и значений признаков определяется платформой модульного тестирования.  
  
 **Признаки в платформе модульного тестирования Майкрософт для управляемого кода**  
  
 В платформе модульного тестирования Майкрософт для управляемых приложений можно определить пару "имя — значение" признака в атрибуте <xref:Microsoft.VisualStudio.TestTools.UnitTesting.TestPropertyAttribute>. Платформа тестирования также содержит следующие стандартные признаки.  
  
|Признак|Описание|  
|-------------|--------------|  
|<xref:Microsoft.VisualStudio.TestTools.UnitTesting.OwnerAttribute>|Категория "Владелец" определяется платформой модульного тестирования. Вы должны указать строковое значение владельца.|  
|<xref:Microsoft.VisualStudio.TestTools.UnitTesting.PriorityAttribute>|Категория "Приоритет" определяется платформой модульного тестирования. Вы должны указать целочисленное значение приоритета.|  
|<xref:Microsoft.VisualStudio.TestTools.UnitTesting.TestCategoryAttribute>|Атрибут TestCategory позволяет предоставить категорию без значения. Категория, определенная атрибутом TestCategory, также может быть категорией атрибута TestProperty.|  
|<xref:Microsoft.VisualStudio.TestTools.UnitTesting.TestPropertyAttribute>|Атрибут TestProperty позволяет определять пары "категория — значение" признака.|  
  
 **Признаки в платформе модульного тестирования Майкрософт для C\+\+**  
  
 Чтобы определить признак, используйте макрос `TEST_METHOD_ATTRIBUTE`. Например, чтобы определить признак с именем `TEST_MY_TRAIT`, выполните следующее.  
  
```cpp  
#define TEST_MY_TRAIT(traitValue) TEST_METHOD_ATTRIBUTE(L"MyTrait", traitValue)  
```  
  
 Для использования определенных признаков в модульных тестах введите все указанное ниже.  
  
```  
BEGIN_TEST_METHOD_ATTRIBUTE(Method1)  
    TEST_OWNER(L"OwnerName")  
    TEST_PRIORITY(1)  
    TEST_MY_TRAIT(L"thisTraitValue")  
END_TEST_METHOD_ATTRIBUTE()  
  
TEST_METHOD(Method1)  
{     
    Logger::WriteMessage("In Method1");  
    Assert::AreEqual(0, 0);  
}  
```  
  
### Макросы атрибута признака C\+\+  
  
|Макрос|Описание|  
|------------|--------------|  
|`TEST_METHOD_ATTRIBUTE(attributeName, attributeValue)`|Используйте макрос TEST\_METHOD\_ATTRIBUTE, чтобы определить признак.|  
|`TEST_OWNER(ownerAlias)`|Стандартный признак "Владелец" позволяет указать владельца метода теста.|  
|`TEST_PRIORITY(priority)`|Стандартный признак "Приоритет" служит для назначения относительного приоритета методам теста.|  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
###  <a name="BKMK_Search_and_filter_the_test_list"></a> Поиск и фильтрация списка тестов  
 Фильтры обозревателя тестов можно использовать для ограничения методов теста в проектах, которые вы просматриваете и запускаете.  
  
 Когда вы вводите строку в поле поиска обозревателя тестов и нажимаете клавишу ВВОД, список тестов фильтруется для отображения только тех тестов, полные имена которых содержат строку.  
  
 Фильтрация по различным условиям  
  
1.  Откройте раскрывающийся список справа от поля поиска.  
  
2.  Выберите новое условие.  
  
3.  Введите значение фильтра в кавычках.  
  
 ![Фильтрация тестов в обозревателе тестов](../test/media/ute_filtertestlist.png "UTE\_FilterTestList")  
  
> [!NOTE]
>  Поиск выполняется без учета регистра и сопоставляет указанную строку с любой частью значения условия.  
  
|Квалификатор|Описание|  
|------------------|--------------|  
|**Признак**|Поиск категории и значения признака, совпадающих с заданной строкой. Синтаксис для указания категорий и значений признаков определяется платформой модульного тестирования.|  
|**Проект**|Поиск имен тестовых проектов, совпадающих с заданной строкой.|  
|**Сообщение об ошибке**|Поиск определяемых пользователем сообщений об ошибке, возвращаемых утверждениями со сбоями, совпадающих с заданной строкой.|  
|**Путь к файлу**|Поиск полных имен для исходных файлов теста, совпадающих с заданной строкой.|  
|**Полное имя**|Поиск полных имен файлов пространств имен, классов и методов тестов, совпадающих с заданной строкой.|  
|**Вывод**|Поиск определяемых пользователем сообщений об ошибке, записанных в стандартный вывод \(stdout\) или стандартные ошибки \(stderr\). Синтаксис для указания выходных сообщений определяется платформой модульного тестирования.|  
|**Результат**|Поиск совпадений в именах категорий обозревателя тестов: **Неудачные тесты**, **Пропущенные тесты**, **Пройденные тесты**.|  
  
 Чтобы исключить подмножество результатов фильтра, используйте следующий синтаксис.  
  
```  
FilterName:"Criteria" -FilterName:"SubsetCriteria"  
```  
  
 Например:  
  
```  
FullName:"MyClass" - FullName:"PerfTest"  
```  
  
 возвращает все тесты, имена которых включают MyClass, за исключением тестов с именами, включающими PerfTest.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
##  <a name="BKMK_Create_custom_playlists"></a> Создание настраиваемых списков воспроизведения  
 Вы можете создавать и сохранять список тестов, которые необходимо выполнять или просматривать как группу. Если выбрать список воспроизведения, тесты в списке отображаются в обозревателе тестов. Вы можете добавить тест в несколько списков воспроизведения, а если выбрать список воспроизведения по умолчанию **Все тесты**, будут доступны все тесты в проекте.  
  
 ![Выбор списка воспроизведения](../test/media/ute_playlist.png "UTE\_Playlist")  
  
 **Чтобы создать список воспроизведения**, выберите один или несколько тестов в обозревателе тестов. В контекстном меню выберите **Добавить в список воспроизведения**, **Новый список воспроизведения**. Сохраните файл с именем и в расположении, указанном в диалоговом окне **Создать новый список воспроизведения**.  
  
 **Чтобы добавить тест в список воспроизведения**, выберите один или несколько тестов в обозревателе тестов. В контекстном меню выберите **Добавить в список воспроизведения**, а затем выберите список воспроизведения, в который хотите добавить тесты.  
  
 **Чтобы открыть список воспроизведения**, выберите в меню Visual Studio пункт "Тест", "Список воспроизведения", а затем выберите список воспроизведения из списка "Недавно использовавшиеся" или нажмите кнопку "Открыть список воспроизведения", чтобы указать имя и расположение нужного списка.  
  
 Если отдельные тесты не имеют зависимостей, предотвращающих запуск этих тестов в любом порядке, включите параллельное тестирование с помощью переключателя ![UTE&#95;parallelicon&#45;small](../test/media/ute_parallelicon-small.png "UTE\_parallelicon\-small") на панели инструментов. Это может заметно сократить время, необходимое для выполнения всех тестов.  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
##  <a name="BKMK_Debug_and_analyze_unit_tests"></a> Отладка и анализ модульных тестов  
 [Отладка модульных тестов](#BKMK_Debug_unit_tests) **&#124;** [Диагностика проблем производительности метода теста](#BKMK_Diagnose_test_method_performance_issues) **&#124;** [Анализ покрытия кода модульного теста](#BKMK_Analyzeunit_test_code_coverage)  
  
###  <a name="BKMK_Debug_unit_tests"></a> Отладка модульных тестов  
 Можно использовать Обозреватель тестов для запуска сессии исправления ошибок тестов. Пошагово выполняя код, отладчик Visual Studio плавно переключается назад и вперед между модульными тестами и проектом для тестирования. Начало отладки  
  
1.  В редакторе Visual Studio установите точку останова в одном или нескольких методах тестирования, которые вы хотите проверить.  
  
    > [!NOTE]
    >  Так как методы тестирования могут запускаться в любом порядке, необходимо устанавливать точки останова во всех методах тестирования, которые необходимо проверить.  
  
2.  В обозревателе тестов выберите методы теста, а затем выберите в контекстном меню пункт **Отладить выбранные тесты**.  
  
 Дополнительные сведения об отладчике см. в статье [Отладка в Visual Studio](../debugger/debugging-in-visual-studio.md).  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
###  <a name="BKMK_Diagnose_test_method_performance_issues"></a> Диагностика проблем производительности метода теста  
 Чтобы выяснить, почему выполнение метода теста занимает слишком много времени, выберите метод в обозревателе тестов, а затем выберите в контекстном меню пункт "Профиль". См. раздел [Использование средств профилирования](../profiling/performance-explorer.md).  
  
###  <a name="BKMK_Analyzeunit_test_code_coverage"></a> Анализ покрытия кода модульного теста  
  
> [!NOTE]
>  Анализ покрытия кода модульного теста доступен только в Visual Studio Enterprise.  
  
 Можно определить количество кода продукта, который действительно был проверен модульным тестированием, при помощи средства покрытия кода Visual Studio. Можно запустить покрытие кода на выбранных тестах или на всех тестах решения.  
  
 Для запуска покрытия кода для методов теста в решении  
  
1.  выберите **Тесты** в меню Visual Studio, затем выберите **Анализ покрытия кода**.  
  
2.  Выберите одну из следующих команд во вложенном меню.  
  
    -   **Выбранные тесты** — запускаются методы тестирования, которые были выбраны в обозревателе тестов.  
  
    -   **Все тесты** — запускаются все методы тестирования в решении.  
  
 Окно результатов покрытия кода отображает процент блоков кода продукта, которые были задействованы по строке, функции, классу, пространству имен и модулю.  
  
 Дополнительные сведения см. в разделе [Использование покрытия кода для определения объема протестированного кода](../test/using-code-coverage-to-determine-how-much-code-is-being-tested.md).  
  
 ![К началу](../debugger/media/pcs_backtotop.png "PCS\_BackToTop") [Описание](#BKMK_Contents)  
  
##  <a name="BKMK_External_resources"></a> Внешние ресурсы  
  
###  <a name="BKMK_Guidance"></a> Руководство  
 [Тестирование непрерывной доставки с Visual Studio 2012 — глава 2. Модульное тестирование. Внутреннее тестирование](http://go.microsoft.com/fwlink/?LinkID=255188)  
  
## См. также  
 [Модульное тестирование кода](../test/unit-test-your-code.md)   
 [Выполнение модульного теста как 64\-разрядного процесса](../test/run-a-unit-test-as-a-64-bit-process.md)