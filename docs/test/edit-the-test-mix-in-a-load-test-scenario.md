---
title: Тестовый набор для сценария тестовой нагрузки в Visual Studio
ms.date: 10/19/2016
ms.topic: conceptual
helpviewer_keywords:
- load tests, adding tests
- test mix
- load tests, test mix
- load tests, removing tests
ms.assetid: 303e1d70-5d98-424a-b51e-e0898e16d3f8
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-ide-test
ms.openlocfilehash: cd3511d138fb6416d8309a3e32c1e96c9b70502b
ms.sourcegitcommit: 58052c29fc61c9a1ca55a64a63a7fdcde34668a4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2018
ms.locfileid: "34750939"
---
# <a name="edit-the-test-mix-to-specify-which-web-performance-unit-and-coded-ui-tests-to-include-in-a-load-test-scenario"></a>Изменение тестового набора для определения веб-тестов производительности, модульных тестов и закодированных тестов пользовательского интерфейса, которые должны быть включены в сценарий тестовой нагрузки

*Тестовый набор* сценария — это сочетание веб-тестов производительности и модульных тестов, содержащихся в сценарии, и распределение этих тестов внутри сценария. Распределение — это параметр, задающий вероятность выбора определенного теста виртуальным пользователем в процессе выполнения нагрузочного теста.

 После добавления набора тестов в нагрузочный тест *тестовый набор* работает так же, как другие варианты наборов. Виртуальный пользователь случайным образом выбирает тест на основе вероятности, указанной в наборе. Например, если имеется два теста, для каждого из которых в наборе указана вероятность 50%, новый виртуальный пользователь выбирает первый тест приблизительно в половине случаев. Если в наборе 50/50 один тест является продолжительным, а другой коротким, то большая нагрузка создается продолжительным тестом.

 Добавленные в тестовый набор тесты можно удалять. Можно также изменить распределение вероятностей в тестовом наборе с помощью элемента управления тестовым набором. Элемент управления тестовым набором предоставляет простой способ изменения распределения вероятностей между тестами сценария.

> [!NOTE]
> Распределение — это мера вероятности, с который определенный тест выбирается виртуальным пользователем во время нагрузочного тестового запуска. Распределение выражается в процентах. Поэтому сумма значений распределения для всех тестов в сценарии равна 100. Например, если сценарий содержит только один тест, распределение для этого теста равно 100%.

## <a name="add-new-tests-to-a-test-mix-in-an-existing-scenario"></a>Добавление тестов в тестовый набор в имеющемся сценарии

При создании сценария с помощью мастера тестовой нагрузки можно добавить в тестовый набор этого сценария веб-тесты производительности и модульные тесты.

С помощью редактора тестовой нагрузки можно добавить в тестовый набор сценария дополнительные веб-тесты производительности и модульные тесты.

![Добавление теста в существующий нагрузочный тест](../test/media/ltest_addingtests.png)

### <a name="to-add-more-tests-to-an-existing-scenario"></a>Добавление тестов в существующий сценарий

1.  Откройте нагрузочный тест.

2.  В редакторе тестовой нагрузки щелкните правой кнопкой мыши существующий сценарий и выберите команду **Добавить тесты**.

     Откроется диалоговое окно **Добавление тестов**. В сценарий можно добавить все веб-тесты производительности, модульные тесты и закодированные тесты пользовательского интерфейса, которые имеются в решении, но которых еще нет в сценарии.

3.  В области **Доступные тесты** выберите веб-тесты производительности, модульные тесты и закодированные тесты пользовательского интерфейса, которые требуется добавить. Выберите правую стрелку, чтобы добавить тесты в область **Выбранные тесты**.

4.  По завершении добавления нажмите кнопку **ОК**.

     Тесты будут добавлены в тестовый набор. Тестам в наборе автоматически назначается новое распространение.

5.  (Необязательно) Настройте элемент управления набором, чтобы задать распределение тестов. Дополнительные сведения см. в разделе [Элемент управления тестовым набором](../test/edit-the-test-mix-to-specify-which-web-browsers-types-in-a-load-test-scenario.md).

##  <a name="EditingTestMixRemoveTest"></a> Удаление тестов из сценария
 ![Удаление теста из существующего нагрузочного теста](../test/media/ltest_removetest.png)

### <a name="to-remove-tests-from-a-scenario"></a>Удаление тестов из сценария

1.  Откройте нагрузочный тест.

2.  В редакторе тестовой нагрузки в дереве нагрузочного теста щелкните правой кнопкой мыши сценарий, из которого требуется удалить тест, и выберите команду **Изменить тестовый набор**. Откроется диалоговое окно **Изменение тестового набора**.

3.  Выберите в таблице веб-тест производительности, модульный тест или закодированный тест пользовательского интерфейса и нажмите кнопку **Удалить**.

    > [!NOTE]
    > После удаления теста настройте тестовый набор нужным образом.

4.  По завершении удаления нажмите кнопку **ОК**.

##  <a name="EditingTestMixAboutMixControl"></a> Элемент управления тестовым набором
 Элемент управления Mix позволяет регулировать процентное распределение нагрузки между тестами, типами браузеров или типами сетей в сценарии тестовой нагрузки. Процентные доли изменяются с помощью ползунков. Изменение набора для тестов определяет вероятность, с которой виртуальный пользователь работает с заданным тестом в сценарии нагрузочного теста.

 При перемещении ползунка изменяется процентное значение всех имеющихся элементов. При наличии более двух элементов добавленное или уменьшенное значение распределяется равномерно между другими элементами. Такое поведение можно переопределить. При установке флажка для определенного элемента в столбце блокировки процентное значение для данного элемента фиксируется. В дальнейшем при перемещении ползунка добавленное или уменьшенное значение будет распределяться только между оставшимися незаблокированными элементами.

 Кнопка **Распределить** используется для равномерного распределения процентных значений между всеми элементами. Например, при наличии трех элементов нажатие кнопки **Распределить** приведет к присвоению им процентных значений, равных 34, 33 и 33.

> [!WARNING]
> При нажатии кнопки **Распределить** значения заблокированных элементов переопределяются.


 Вместо использования ползунков можно также ввести процентные значения непосредственно в столбец **%**. При непосредственном вводе процентных значений значения других элементов не изменяются автоматически.

> [!NOTE]
> Ползунки становятся недоступны, если суммарное значение не равно 100 % или в столбец **%** введены десятичные дроби.


 При вводе процентных значений вручную необходимо следить за тем, чтобы суммарное значение равнялось 100 %. Если суммарное значение не равно 100 %, при сохранении набора будет предложено принять текущие значения или вернуться и изменить их. Если принять текущие занятия, они будут пропорционально изменены до 100%.  Например, если два элемента имеют значения 80% и 40%, то значение первого элемента изменится на 66,67% (80, деленное на 120), а второго — на 33,33% (40, деленное на 120).

## <a name="see-also"></a>См. также

- [Изменение сценариев нагрузочного тестирования](../test/edit-load-test-scenarios.md)