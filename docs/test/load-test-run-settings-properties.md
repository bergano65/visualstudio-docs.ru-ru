---
title: Параметры запуска нагрузочного теста
description: Узнайте, как для каждого нагрузочного теста можно создать и сохранить несколько наборов параметров, а при запуске выбрать один из них для использования.
ms.custom: SEO-VS-2020
ms.date: 10/19/2016
ms.topic: reference
helpviewer_keywords:
- load tests, run settings
ms.assetid: de10dabb-02ed-403b-9e6f-0b735524988c
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.openlocfilehash: 44cc68a900475c77856053de41ef8b7c5c810d6b
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99887683"
---
# <a name="load-test-run-settings-properties"></a>Свойства параметров запуска нагрузочного теста

Наборы параметров запуска нагрузочного теста определяют также такие параметры, как длительность теста, степень детализации при сборе результатов и наборы счетчиков. Для каждого нагрузочного теста можно создать и сохранить несколько наборов параметров, а при запуске выбрать один из них для использования. Начальные параметры запуска добавляются в нагрузочный тест при создании теста с помощью **мастера тестовой нагрузки**.

[!INCLUDE [web-load-test-deprecated](includes/web-load-test-deprecated.md)]

В следующих таблицах описываются различные свойства параметров запуска нагрузочного теста. Эти свойства можно изменить в соответствии с конкретными требованиями нагрузочного тестирования.

Дополнительные сведения см. в статье [Настройка параметров запуска нагрузочных тестов](../test/configure-load-test-run-settings.md).

## <a name="general-properties"></a>Общие свойства

|Свойство|Определение|
|-|----------------|
|**Описание**|Описание параметров запуска.|
|**Максимальное количество ошибок для типа**|Максимальное количество ошибок каждого типа, сохраняемых для нагрузочного теста.<br /><br /> Это число можно при необходимости увеличить, однако это приведет к увеличению размеров результатов теста и времени обработки.|
|**Максимальное число сообщаемых URL-запросов**|Максимальное число уникальных URL-адресов запросов веб-тестов производительности, по которым будут сообщаться результаты в этом нагрузочном тесте.<br /><br /> Это число можно при необходимости увеличить, однако это приведет к увеличению размеров результатов теста и времени обработки.|
|**Максимальное количество нарушений пороговых значений**|Максимальное количество нарушений пороговых значений, сохраняемых для данного нагрузочного теста.<br /><br /> Это число можно при необходимости увеличить, однако это приведет к увеличению размеров результатов теста и времени обработки.|
|**Выполнять модульные тесты в домене приложения**|Логическое значение, определяющее выполнение каждой сборки модульного теста в отдельном домене приложения, если в нагрузочный тест включены модульные тесты. По умолчанию используется значение True.<br /><br /> Если для надлежащего функционирования модульных тестов не требуется отдельный домен приложения или файл app.config, ваши модульные тесты могут выполняться быстрее, если установить для этого свойства значение `False`.|
|**Name**|Имя параметра запуска в том виде, как оно отображается в узле **Параметры запуска****редактора тестовой нагрузки**.|
|**Уровень проверки**|Используется для определения верхнего уровня правила проверки, выполняемого в нагрузочном тесте. Правила проверки связаны с запросами веб-тестов производительности. С каждым правилом проверки связан уровень проверки: **Высокий**, **Средний** или **Низкий**. Параметр запуска нагрузочного теста определяет правила проверки, которые будут выполняться при выполнении веб-теста производительности в нагрузочном тесте. Например, если для данного параметра запуска установлен уровень **Средний**, будут выполняться все правила проверки, имеющие уровень **Средний** или **Низкий**.|

## <a name="logging-properties"></a>Свойства ведения журналов

|Свойство|Определение|
|-|----------------|
|**Максимум журналов тестирования**|Максимальное количество журналов тестирования, сохраняемых для нагрузочного теста. По достижении значения, указанного для максимального количества журналов тестирования, нагрузочный тест прекращает сбор данных в журналах. Поэтому данные журнала будут собраны для начальной части теста, но не для его конечной части. Нагрузочный тест продолжит выполнение до полного завершения.|
|**Сохранить частоту обращения к журналу для выполненных тестов**|Периодичность записи журнала тестирования. Это число задает, что в журнале тестирования будет сохраняться по одному тесту из введенного количества тестов. Например, если введено значение "десять", то в журнал тестирования будет записан десятый, двадцатый, тридцатый и т. д. тест. Значение 0 означает, что журналы тестирования сохраняться не будут.|
|**Сохранить журнал об ошибках тестирования**|Логическое значение, которое определяет, следует сохранять журналы тестирования в случае сбоя теста в нагрузочном тесте. Значение по умолчанию — `True`.<br /><br /> Дополнительные сведения см. в статье [Практическое руководство. Настройка записи сбоев тестов в журнал тестирования для сценария](../test/how-to-specify-if-test-failures-are-saved-to-test-logs.md).|

Дополнительные сведения см. в статье [Изменение параметров ведения журнала нагрузочного теста](../test/modify-load-test-logging-settings.md).

## <a name="results-properties"></a>Свойства результатов

|Свойство|Определение|
|-|----------------|
|**Тип хранения**|Способ хранения счетчиков производительности, полученных при выполнении нагрузочного теста. Существуют следующие варианты выбора.<br /><br /> -   **База данных** — требуется база данных SQL, содержащая **хранилище результатов нагрузочного теста**.<br />-   **Нет**.|
|**Хранилище сведений о синхронизации**|Используется для определения того, какие сведения должны храниться в **хранилище результатов нагрузочного теста**. Доступны три значения:<br /><br /> -   **Все индивидуальные сведения** — сбор и сохранение в **хранилище результатов нагрузочного теста** отдельных значений времени для каждого теста, транзакции и страницы, выполненных или выпущенных в процессе выполнения нагрузочного теста. Это значение необходимо, если планируется использовать **диаграмму активности виртуальных пользователей** в **анализаторе тестовой нагрузки**.<br />     Дополнительные сведения см. в статье [Анализ нагрузочного тестирования действий виртуальных пользователей в представлении сведений анализатора тестовой нагрузки](../test/analyze-load-test-virtual-user-activity-in-the-details-view.md).<br />-   **Нет** — сбор отдельных значений синхронизации не производится. Это значение по умолчанию в Visual Studio 2013 с обновлением 4 и более поздних выпусках.<br />-   **Только статистика** — сбор и сохранение в **хранилище результатов нагрузочного теста** только статистических данных; отдельные значения времени для каждого теста, транзакции и страницы, выполненных или выпущенных в процессе выполнения нагрузочного теста, не сохраняются.<br /><br /> Дополнительные сведения см. в разделе [Практическое руководство. указать свойство хранилища сведений о синхронизации](../test/how-to-specify-the-timing-details-storage-property-for-a-load-test.md).|

## <a name="sql-tracing-properties"></a>Свойства трассировки SQL

|Свойство|Определение|
|-|----------------|
|**Минимальная длительность операций SQL с трассировкой**|Минимальная длительность операций SQL, перехватываемых SQL Trace, в миллисекундах. Например, это позволяет пропускать быстро выполняемые операции, если необходимо выявить операции SQL, которые под нагрузкой выполняются медленно.|
|**Строка подключения трассировки SQL**|Строка подключения для доступа к базе данных, подлежащей трассировке.|
|**Папка трассировки SQL**|Каталог размещения файла SQL Trace по завершении трассировки. Данный каталог должен иметь разрешение на запись для SQL Server и разрешение на чтение для контроллера.|
|**Трассировка SQL включена**|Данный параметр включает трассировку операций SQL. Значение по умолчанию — `False`.|

## <a name="test-iterations-properties"></a>Свойства итераций теста

|Свойство|Определение|
|-|----------------|
|**Итерации теста**|Определяет общее число отдельных тестов, которые должны быть выполнены для завершения нагрузочного теста. Этот свойство применимо, только если для свойства "Итерации теста использования" указано значение `True`.|
|**Итерации теста использования**|Если для свойства "Итерации теста использования" задано значение `True`, нагрузочный тест будет выполняться до тех пор, пока число отдельных тестов, выполненных в рамках нагрузочного теста, не достигнет значения, указанного для свойства "Итерации теста". В этом случае временные параметры, а именно "Длительность разогрева", "Длительность выполнения" и "Длительность охлаждения", игнорируются. Если для свойства "Итерации теста использования" задано значение `False`, применяются все временные параметры, а свойство "Итерации теста" не учитывается.|

Дополнительные сведения см. в разделе [Практическое руководство. Указание числа повторов теста в параметрах выполнения нагрузочного теста](../test/how-to-specify-the-number-of-test-iterations-in-a-load-test.md).

## <a name="timing-properties"></a>Свойства времени

|Свойство|Определение|
|-|----------------|
|**Длительность охлаждения**|Длительность периода охлаждения в формате чч:мм:сс. Некоторые тесты в составе нагрузочного теста все еще могут выполняться после завершения нагрузочного теста. В течение периода охлаждения эти тесты могут продолжать выполняться вплоть до их завершения или истечения периода охлаждения. По умолчанию период охлаждения не используется, и отдельные тесты завершаются по окончании выполнения нагрузочного теста в соответствии с параметром "Длительность выполнения".|
|**Длительность выполнения**|Продолжительность теста в формате чч:мм:сс.|
|**Частота выборки**|Интервал получения значений счетчиков производительности в формате чч:мм:сс.<br /><br /> Дополнительные сведения см. в разделе [Практическое руководство. Задание частоты выборки](../test/how-to-specify-the-sample-rate-for-a-load-test.md).|
|**Длительность разогрева**|Период между началом теста и началом регистрации образцов данных в формате чч:мм:сс. Этот параметр часто используется для пошаговой нагрузки виртуальных пользователей с целью достижения определенного уровня нагрузки перед регистрацией значений выборок. Значения выборок, полученные до завершения периода прогрева, отображаются в **анализаторе тестовой нагрузки**.|

## <a name="webtest-connections-properties"></a>Свойства подключений WebTest

|Свойство|Определение|
|-|----------------|
|**Модель подключения WebTest**|Это свойство управляет использованием подключений агентов тестовой нагрузки к веб-серверу, которые устанавливаются для веб-тестов производительности, выполняемых в рамках нагрузочного теста. Предусмотрено три модели подключения для веб-тестов производительности.<br /><br /> — Модель **Подключения на пользователей** моделирует поведение пользователя, пользующегося реальным браузером. При симуляции браузера Internet Explorer 6 или Internet Explorer 7 каждый виртуальный пользователь, выполняющий веб-тест производительности, использует одно или два выделенных подключения к веб-серверу. Первое подключение устанавливается при отправке первого запроса веб-теста производительности. Второе подключение может использоваться, если страница содержит несколько зависимых запросов. Такие запросы отправляются параллельно по двум подключениям. При последующих запросах веб-теста производительности эти подключения используются повторно. Подключения закрываются при завершении веб-теста производительности. Недостаток этой модели заключается в том, что количество открытых соединений на агентском компьютере может быть очень большим (может превышать пользовательскую нагрузку в два раза). Поэтому для поддержки такого большого количества соединений требуется много ресурсов, что может ограничить пользовательскую нагрузку, обеспечиваемую одним агентом нагрузочного тестирования. При моделировании браузера Internet Explorer 8 поддерживается шесть параллельных подключений.<br />– Модель **Пул подключений** позволяет экономить ресурсы агента нагрузочного теста путем совместного использования подключений к веб-серверу несколькими виртуальными пользователями веб-теста производительности. Если нагрузка пользователей превышает размер пула подключений, веб-тесты производительности, выполняемые разными виртуальными пользователями, будут совместно использовать подключение. Это означает, что веб-тесту производительности может потребоваться дожидаться отправки запроса, если подключение в данный момент используется другим веб-тестом производительности. Среднее время ожидания отправки запроса веб-тестом производительности отслеживается счетчиком производительности нагрузочного теста Average Connection Wait Time (Среднее время ожидания подключения). Это число должно быть меньше среднего времени отклика для страницы. В противном случае размера пула подключений, возможно, слишком мал.<br />— Модель **Подключение на итерацию теста** позволяет использовать выделенные подключения для каждой итерации теста.|
|**Размер пула подключений WebTest**|Определяет максимальное число подключений, устанавливаемых между агентом тестовой нагрузки и веб-сервером. Это свойство применимо только в модели **Пул подключений**.|

## <a name="change-run-setting-properties"></a>Изменение свойств параметров запуска

В нагрузочный тест можно добавить дополнительные параметры с различными значениями свойств, позволяющие запускать тест в различных условиях. Например, можно добавить параметры для использования другой частоты выборки или другой длительности выполнения. Одновременно можно использовать только один параметр запуска, при этом необходимо указать используемый параметр запуска, пометив его как активный. Пример см. в статье [Практическое руководство. выбрать активный параметр запуска для нагрузочного теста](../test/how-to-select-the-active-run-setting-for-a-load-test.md).

Чтобы изменить параметры запуска:

1. Откройте нагрузочный тест.

2. Разверните папку **Параметры запуска**.

3. Выберите узел **Параметры запуска**.

4. В меню **Вид** выберите пункт **Окно свойств**.

     Появится окно **Свойства**, в котором для выбранной конфигурации запуска перечислены свойства.

5. Воспользуйтесь окном **Свойства** для изменения параметров. Например, чтобы тест выполнялся 5 минут, измените длительность на **00:05:00**.

    > [!NOTE]
    > Полный список свойств параметров запуска и их описание см. в статье [Свойства параметров запуска нагрузочного теста](../test/load-test-run-settings-properties.md).

6. Изменив свойства, сохраните нагрузочный тест. В меню **Файл** выберите команду **Сохранить**.

> [!NOTE]
> В наборе параметров можно настроить и сопоставление набора счетчиков. Дополнительные сведения см. в статье [Указание наборов счетчиков и правил порогов для компьютеров в нагрузочном тесте](../test/specify-counter-sets-and-threshold-rules-for-load-testing.md).

## <a name="see-also"></a>См. также раздел

- [Настройка параметров запуска нагрузочных тестов](../test/configure-load-test-run-settings.md)
