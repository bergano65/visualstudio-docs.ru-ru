---
title: Создание приложения Node.js и React
description: Узнайте, как создать проект веб-приложения Node.js на основе шаблона Visual Studio.
ms.custom: ''
ms.date: 4/21/2020
ms.topic: tutorial
ms.devlang: javascript
author: mikejo5000
ms.author: mikejo
manager: jmartens
dev_langs:
- JavaScript
ms.workload:
- nodejs
ms.openlocfilehash: 852bfad102c4ae34bee9528009e3d4b2dd8c7384
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99925733"
---
# <a name="tutorial-create-a-nodejs-and-react-app-in-visual-studio"></a>Учебник. Создание приложения Node.js и React в Visual Studio

В Visual Studio можно легко создать проект Node.js и использовать IntelliSense и другие встроенные функции, поддерживающие Node.js. В этом учебнике по Visual Studio вы создадите проект веб-приложения Node.js на основе шаблона Visual Studio. Затем вы создадите простое приложение с помощью React.

В этом руководстве вы узнаете, как:
> [!div class="checklist"]
> * Создание проекта Node.js
> * Добавление пакетов npm
> * Добавление кода React в приложение
> * Транскомпиляция JSX
> * Подключение отладчика

## <a name="before-you-begin"></a>Подготовка к работе

Ниже приведен краткий список вопросов и ответов, с помощью которого вы сможете ознакомиться с некоторыми основными понятиями.

### <a name="what-is-nodejs"></a>Что такое Node.js?

Node.js — это серверная среда выполнения JavaScript, выполняющая сценарии JavaScript на стороне сервера.

### <a name="what-is-npm"></a>Что такое npm?

npm — это диспетчер пакетов по умолчанию для Node.js. Диспетчер пакетов упрощает публикацию и совместное использование исходного кода библиотек Node.js. Он предназначен для упрощения установки, обновления и удаления библиотек.

### <a name="what-is-react"></a>Что такое React?

React — это интерфейсная платформа для создания пользовательского интерфейса.

### <a name="what-is-jsx"></a>Что такое JSX?

JSX является расширением синтаксиса JavaScript, обычно используемым с React для описания элементов пользовательского интерфейса. Код JSX необходимо преобразовать в обычный код JavaScript, прежде чем его можно будет запустить в браузере.

### <a name="what-is-webpack"></a>Что такое webpack?

webpack объединяет файлы JavaScript, чтобы их можно было запустить в браузере. Он может преобразовывать или упаковывать другие ресурсы и активы. Он часто используется, чтобы указать компилятору, например Babel или TypeScript, преобразовать код JSX или TypeScript в обычный код JavaScript.

## <a name="prerequisites"></a>Предварительные требования

* У вас должна быть установлена среда Visual Studio и должна иметься рабочая нагрузка "Разработка Node.js".

    ::: moniker range=">=vs-2019"
    Установите Visual Studio 2019 бесплатно со страницы [скачиваемых материалов Visual Studio](https://visualstudio.microsoft.com/downloads/), если еще не сделали этого.
    ::: moniker-end
    ::: moniker range="vs-2017"
    Установите Visual Studio 2017 бесплатно со страницы [скачиваемых материалов Visual Studio](https://visualstudio.microsoft.com/downloads/), если еще не сделали этого.
    ::: moniker-end

    Если вам нужно установить рабочую нагрузку, но вы уже используете Visual Studio, выберите пункт **Средства** > **Получить средства и компоненты...** , после чего запустится Visual Studio Installer. Выберите рабочую нагрузку **Разработка Node.js**, а затем элемент **Изменить**.

    ![Рабочая нагрузка Node.js в установщике Visual Studio](../ide/media/quickstart-nodejs-workload.png)

* У вас должна быть установлена среда выполнения Node.js.

    Этот учебник был протестирован с версией 12.6.2.

    Если он не установлен, мы рекомендуем установить версию LTS с веб-сайта [Node.js](https://nodejs.org/en/download/) для обеспечения лучшей совместимости с внешними платформами и библиотеками. Node.js построен для 32-разрядных и 64-разрядных архитектур. Средства Node.js в Visual Studio, включенные в рабочую нагрузку Node.js, поддерживают обе версии. Однако требуется только одна, поскольку программа установки Node.js поддерживает только одну установку за раз.
    
    Как правило, Visual Studio автоматически обнаруживает установленную среду выполнения Node.js. Если установленная среда выполнения не обнаружена, вы можете настроить проект так, чтобы он ссылался на установленную среду выполнения, на странице свойств (после создания проекта щелкните его узел правой кнопкой мыши, выберите пункт **Свойства** и укажите **путь Node.exe**). Можно использовать глобальную установку Node.js или указать путь к локальному интерпретатору в каждом из проектов Node.js. 

## <a name="create-a-project"></a>Создание проекта

Сначала создайте проект веб-приложения Node.js.

1. Запустите Visual Studio.

1. Создайте новый проект.

    ::: moniker range=">=vs-2019"
    Нажмите клавишу **ESC**, чтобы закрыть окно запуска. Нажмите **CTRL+Q**, чтобы открыть поле поиска, введите **Node.js** и выберите **Пустое веб-приложение Node.js** (JavaScript). (Хотя в этом учебнике используется компилятор TypeScript, в шагах указано, что нужно начинать с шаблона **JavaScript**.)
    
    В появившемся диалоговом окне выберите **Создать**.
    ::: moniker-end
    ::: moniker range="vs-2017"
    В верхней строке меню последовательно выберите **Файл**  > **Создать**  > **Проект**. В левой области диалогового окна **Новый проект** разверните узел **JavaScript** и выберите **Node.js**. В средней области выберите **Пустое веб-приложение Node.js**, введите **NodejsWebAppBlank** и нажмите кнопку **ОК**.
    ::: moniker-end
    Если шаблон проекта **Пустое веб-приложение Node.js** отсутствует, необходимо добавить рабочую нагрузку **Разработка Node.js**. Подробные инструкции см. в разделе [с предварительными требованиями](#prerequisites).

    Visual Studio создаст решение и откроет проект.

    ![Проект Node.js в обозревателе решений](../javascript/media/tutorial-nodejs-react-project-structure.png)

    (1) **Полужирным** шрифтом выделен ваш проект, имя которого вы указали в окне **Новый проект**. В файловой системе этот проект представлен файлом *NJSPROJ* в папке проекта. Вы можете задать свойства и переменные среды, связанные с проектом, щелкнув его правой кнопкой мыши и выбрав пункт **Свойства**. Вы можете одновременно использовать и другие средства разработки, так как файл проекта не вносит изменения в источник проекта Node.js.

    (2) На верхнем уровне находится решение, имя которого по умолчанию совпадает с именем проекта. Решение, представленное на диске файлом *SLN*, является контейнером для одного или нескольких связанных проектов.

    (3) В узле npm представлены все установленные пакеты npm. Вы можете щелкнуть узел npm правой кнопкой мыши, чтобы найти и установить пакеты npm с помощью диалогового окна. Кроме того, установить и обновить пакеты можно с помощью параметров, доступных в файле *package.json* и контекстном меню узла npm.

    (4) *package.json* — это файл, используемый npm для управления зависимостями и версиями пакетов для локально установленных пакетов. Дополнительные сведения см. в разделе [Управление пакетами npm](../javascript/npm-package-management.md).

    (5) Файлы проекта, такие как *server.js*, отображаются в узле проекта. *server.js* — это файл запуска проекта, поэтому он выделяется **полужирным** шрифтом. Задать файл запуска можно, щелкнув правой кнопкой мыши файл в проекте и выбрав **Задать как файл запуска Node.js**.

## <a name="add-npm-packages"></a>Добавление пакетов npm

Для правильной работы приложения требуется ряд модулей npm.

* react
* react-dom
* express
* path
* ts-loader
* typescript
* webpack
* webpack-cli

1. В обозревателе решений (правая область) щелкните правой кнопкой мыши узел **npm** в проекте и выберите пункт **Установить новые пакеты npm**.

    В диалоговом окне **Установка новых пакетов npm** можно выбрать для установки последнюю версию пакетов или указать версию. Если вы выбрали для установки текущую версию пакетов, но в дальнейшем возникают непредвиденные ошибки, может потребоваться установить определенные версии пакетов, которые указаны далее в этой статье.

1. В диалоговом окне **Установка новых пакетов npm** выполните поиск пакета react и щелкните **Установить пакет**, чтобы установить его.

    ![Установка пакетов npm](../javascript/media/tutorial-nodejs-react-install-package.png)

    Выберите окно **Вывод**, чтобы увидеть ход установки пакета (выберите **npm** в поле **Показать выходные данные из**). После установки пакет появляется в узле **npm**.

    Файл *package.json* обновляется с использованием сведений о новых пакетах, включая их версию.

1. Вместо поочередного поиска и добавления остальных пакетов в пользовательском интерфейсе вставьте в файл *package.json* приведенный ниже код. Для этого добавьте раздел `dependencies` в следующий код:

    ```json
    "dependencies": {
      "express": "~4.17.1",
      "path": "~0.12.7",
      "react": "~16.13.1",
      "react-dom": "~16.13.1",
      "ts-loader": "~7.0.1",
      "typescript": "~3.8.3",
      "webpack": "~4.42.1",
      "webpack-cli": "~3.3.11"
    }
    ```

    Если в вашей версии пустого шаблона уже существует `dependencies`, просто замените его приведенным выше кодом JSON. Дополнительные сведения об использовании этого файла см. в разделе [Конфигурация package.json](../javascript/configure-packages-with-package-json.md).

1. Сохраните изменения.

1. Щелкните правой кнопкой мыши узел **npm** в проекте и выберите команду **Установить пакеты npm**.

    Эта команда выполняет команду npm install напрямую.

    В области внизу выберите окно **Вывод**, чтобы увидеть ход установки пакетов. Установка может занять несколько минут. Чтобы увидеть выходные данные, выберите **Npm** в поле **Показать выходные данные из** в окне **Вывод**.

    Ниже показаны модули npm, отображаемые в обозревателе решений после установки.

    ![Пакеты npm](../javascript/media/tutorial-nodejs-react-npm-modules-installed.png)

    > [!NOTE]
    > Чтобы установить пакеты npm из командной строки, щелкните узел проекта правой кнопкой мыши и выберите пункт **Открыть командную строку здесь**. Используйте стандартные команды Node.js для установки пакетов.

## <a name="add-project-files"></a>Добавление файлов проекта

В рамках этой процедуры вы добавите в проект четыре новых файла.

* *app.tsx*
* *webpack-config.js*
* *index.html*
* *tsconfig.json*

Для этого простого приложения новые файлы проекта добавляются в корень проекта. (В большинстве приложений файлы, как правило, добавляются во вложенные папки, после чего ссылки в виде относительных путей изменяются соответствующим образом.)

1. В обозревателе решений щелкните правой кнопкой мыши проект **NodejsWebAppBlank** и выберите пункт **Добавить** > **Новый элемент**.

1. В диалоговом окне **Добавление нового элемента** выберите **JSX-файл TypeScript**, введите имя файла *app.tsx* и нажмите кнопку **Добавить** или **ОК**.

1. Повторите эти действия, чтобы добавить файл *webpack-config.js*. Вместо файла TypeScript JSX выберите **файл JavaScript**.

1. Выполните эти же действия, чтобы добавить файл *index.html* в проект. Вместо файла JavaScript выберите **HTML-файл**.

1. Выполните эти же действия, чтобы добавить файл *tsconfig.json* в проект. Вместо файла JavaScript выберите **Файл конфигурации TypeScript JSON**.

## <a name="add-app-code"></a>Добавление кода приложения

1. Откройте файл *server.js* и замените его содержимое следующим кодом:

    ```javascript
    'use strict';
    var path = require('path');
    var express = require('express');

    var app = express();

    var staticPath = path.join(__dirname, '/');
    app.use(express.static(staticPath));

    // Allows you to set port in the project properties.
    app.set('port', process.env.PORT || 3000);

    var server = app.listen(app.get('port'), function() {
        console.log('listening');
    });
    ```

   В приведенном выше коде используется Express для запуска Node.js в качестве сервера веб-приложения. Этот код задает в качестве номера порта номер, настроенный в свойствах проекта (по умолчанию в свойствах настроен порт 1337). Чтобы открыть свойства проекта, в обозревателе решений щелкните проект правой кнопкой мыши и выберите пункт **Свойства**.

1. Откройте файл *app.tsx* и добавьте следующий код:

    ```javascript
    declare var require: any

    var React = require('react');
    var ReactDOM = require('react-dom');

    export class Hello extends React.Component {
        render() {
            return (
                <h1>Welcome to React!!</h1>
            );
        }
    }

    ReactDOM.render(<Hello />, document.getElementById('root'));
    ```

    В приведенном выше коде используется синтаксис JSX и React для вывода простого сообщения.

1. Откройте файл *index.html* и замените раздел **body** на следующий код:

    ```html
    <body>
        <div id="root"></div>
        <!-- scripts -->
        <script src="./dist/app-bundle.js"></script>
    </body>
    ```

    Эта HTML-страница загружает файл *app-bundle.js*, который содержит код JSX и React, транскомпилированный в обычный код JavaScript. Пока файл *app-bundle.js* пуст. В следующем разделе вы настроите параметры для транскомпиляции кода.

## <a name="configure-webpack-and-typescript-compiler-options"></a>Настройка параметров компилятора webpack и TypeScript

В предыдущих шагах вы добавили файл *webpack-config.js* в проект. Далее вы добавите код конфигурации webpack. Вы добавите простую конфигурацию webpack, в которой указываются входной файл (*app.tsx*) и выходной файл (*app-bundle.js*) для объединения и транскомпиляции кода JSX в обычный код JavaScript. Для транскомпиляции также настраиваются некоторые параметры компилятора TypeScript. Этот код представляет собой базовую конфигурацию, которая служит для ознакомления с работой webpack и компилятора TypeScript.

1. В обозревателе решений откройте файл *webpack-config.js* и добавьте приведенный ниже код.

    ```json
    module.exports = {
        devtool: 'source-map',
        entry: "./app.tsx",
        mode: "development",
        output: {
            filename: "./app-bundle.js"
        },
        resolve: {
            extensions: ['.Webpack.js', '.web.js', '.ts', '.js', '.jsx', '.tsx']
        },
        module: {
            rules: [
                {
                    test: /\.tsx$/,
                    exclude: /(node_modules|bower_components)/,
                    use: {
                        loader: 'ts-loader'
                    }
                }
            ]
        }
    }
    ```

    Код конфигурации webpack предписывает средству webpack использовать загрузчик TypeScript для транскомпиляции JSX.

1. Откройте файл *tsconfig.json* и замените код по умолчанию следующим кодом, который задает параметры компилятора TypeScript:

    ```json
    {
      "compilerOptions": {
        "noImplicitAny": false,
        "module": "commonjs",
        "noEmitOnError": true,
        "removeComments": false,
        "sourceMap": true,
        "target": "es5",
        "jsx": "react"
      },
      "exclude": [
        "node_modules"
      ],
      "files": [
        "app.tsx"
      ]
    }
    ```

    В качестве исходного файла указывается файл *app.tsx*.

## <a name="transpile-the-jsx"></a>Транскомпиляция JSX

1. В обозревателе решений щелкните узел проекта правой кнопкой мыши и выберите пункт **Открыть командную строку здесь**.

1. В командной строке введите следующую команду:

    `node_modules\.bin\webpack app.tsx --config webpack-config.js`

    В окне командной строки будут выведены результаты.

    ![Запуск webpack](../javascript/media/tutorial-nodejs-react-run-webpack-cmd.png)

    Если вместо приведенных выше выходных данных будут выведены ошибки, их необходимо будет устранить, чтобы приложение работало. Если ваши версии пакетов npm отличаются от используемых в этом учебнике, это может быть причиной ошибок. Один из способов устранить ошибки — использовать именно те версии, которые показаны в предыдущих шагах. Кроме того, если одна или несколько из этих версий пакетов стали нерекомендуемыми, из-за чего возникают ошибки, может потребоваться установить более поздние версии. Дополнительные сведения об использовании *package.json* для контроля версий пакетов npm см. в разделе [Конфигурация package.json](../javascript/configure-packages-with-package-json.md).

1. В обозревателе решений щелкните правой кнопкой мыши узел проекта и выберите пункты **Добавить** > **Существующая папка**, а затем папку *dist* и щелкните **Выбрать папку**.

    Среда Visual Studio добавит в проект папку *dist*, которая содержит файлы *app-bundle.js* и *app-bundle.js.map*.

1. Откройте файл *app-bundle.js*, чтобы просмотреть транскомпилированный код JavaScript.

1. Если будет предложено перезагрузить файлы, которые были изменены в других средствах, выберите вариант **Да, для всех**.

    ![Загрузка измененных файлов](../javascript/media/tutorial-nodejs-react-reload-files.png)

Каждый раз при внесении изменений в файл *app.tsx* необходимо повторно выполнять команду webpack. Чтобы автоматизировать этот шаг, добавьте скрипт сборки для транскомпиляции JSX.

## <a name="add-a-build-script-to-transpile-the-jsx"></a>Добавление скрипта сборки для транскомпиляции JSX

Начиная с Visual Studio 2019 требуется скрипт сборки. Вместо транскомпиляции JSX в командной строке (как показано в предыдущем разделе) можно транскомпилировать JSX при сборке из Visual Studio.

* Откройте *Package.json* и добавьте следующий раздел после раздела `dependencies`:

   ```json
   "scripts": {
    "build": "webpack-cli app.tsx --config webpack-config.js"
   }
   ```

## <a name="run-the-app"></a>Запуск приложения

1. Выберите **веб-сервер (Google Chrome)** или **веб-сервер (Microsoft Edge)** в качестве текущего целевого объекта отладки.

    ::: moniker range=">=vs-2019"
    ![Выбор Chrome в качестве целевого объекта отладки](../javascript/media/vs-2019/tutorial-nodejs-react-debug-target.png)
    ::: moniker-end
    ::: moniker range="vs-2017"
    ![Выбор Chrome в качестве целевого объекта отладки](../javascript/media/tutorial-nodejs-react-debug-target.png)
    ::: moniker-end

    Если Chrome установлен на вашем компьютере, но отсутствует в списке, выберите **Просмотреть с помощью** в раскрывающемся списке целевых объектов отладки, а затем установите Chrome в качестве целевого объекта отладки по умолчанию (выберите **По умолчанию**).

1. Чтобы запустить приложение, нажмите клавишу **F5** (**Отладка** > **Начать отладку**) или кнопку с зеленой стрелкой.

    Откроется окно консоли Node.js, в котором показан порт, через который отладчик ожидает передачи данных.

    Visual Studio запускает приложение с помощью файла запуска *server.js*.

    ![Запуск React в браузере](../javascript/media/tutorial-nodejs-react-running-react.png)

1. Закройте окно браузера.

1. Закройте окно консоли.

## <a name="set-a-breakpoint-and-run-the-app"></a>Установите точку останова и запустите приложение.

1. В файле *server.js* щелкните в поле слева от объявления `staticPath`, чтобы установить точку останова:

    ![Снимок экрана: окно кода Visual Studio для server.js. Красная точка в левой области навигации указывает на точку останова, установленную для объявления staticPath.](../javascript/media/tutorial-nodejs-react-set-breakpoint.png)

    Точки останова — это один из самых простых и важных компонентов надежной отладки. Точка останова указывает, где Visual Studio следует приостановить выполнение кода, чтобы вы могли проверить значения переменных или поведение памяти либо выполнение ветви кода.

1. Чтобы запустить приложение, нажмите клавишу **F5** (**Отладка** > **Начать отладку**).

    Выполнение отладчика прервется в установленной точке останова (текущий оператор выделяется желтым цветом). Теперь вы можете изучить состояние приложения, наводя указатель мыши на переменные в текущей области и используя окна отладчика, такие как **Локальные** и **Контрольные значения**.

1. Чтобы продолжить выполнение приложения, нажмите клавишу **F5**.

1. Если вы хотите использовать Средства для разработчиков в Chrome или средства F12 для Microsoft Edge, нажмите клавишу **F12**. С их помощью можно изучить модель DOM и взаимодействовать с приложением с помощью консоли JavaScript.

1. Закройте веб-браузер и консоль.

## <a name="set-and-hit-a-breakpoint-in-the-client-side-react-code"></a>Установка и срабатывание точки останова в коде React на стороне клиента

В предыдущем разделе вы подключили отладчик к коду Node.js на стороне сервера. Чтобы можно было подключить отладчик из Visual Studio и попадать в точки останова в коде React на стороне клиента, необходимо правильно настроить процесс. Ниже описывается один из способов.

### <a name="prepare-the-browser-for-debugging"></a>Подготовка браузера к отладке

::: moniker range=">=vs-2019"
Для этого сценария используйте Microsoft Edge (Chromium), в настоящее время называемый **Microsoft Edge Beta** в IDE, или Chrome.
::: moniker-end
::: moniker range="vs-2017"
Для этого сценария используйте Chrome.
::: moniker-end

1. Закройте все окна целевого браузера.

   Другие экземпляры браузера могут препятствовать его открытию при включенной отладке. (Работающие расширения браузера могут препятствовать полному режиму отладки, поэтому для обнаружения неожиданных экземпляров Chrome может понадобиться открыть диспетчер задач).

   ::: moniker range=">=vs-2019"
   Для Microsoft Edge (Chromium) также отключите все экземпляры Chrome. Это дает лучшие результаты, так как оба браузера совместно используют базу кода Chromium.
   ::: moniker-end

2. Запустите браузер с включенной отладкой.

    ::: moniker range=">=vs-2019"
    Начиная с Visual Studio 2019 флаг `--remote-debugging-port=9222` можно задать при запуске браузера, выбрав **Просмотреть с помощью...**  > из панели инструментов **Отладка**, **Добавить**, а затем установив соответствующий флаг в поле **Аргументы**. Используйте другое понятное для браузера имя, например, **Microsoft Edge с отладкой** или **Chrome с отладкой**. Подробности см. в [заметках о выпуске](/visualstudio/releases/2019/release-notes-v16.2).

    ![Настройка браузера на открытие с включенной отладкой](../javascript/media/tutorial-nodejs-react-edge-with-debugging.png)

    Также можно открыть команду **Выполнить** кнопки **Пуск** в Windows (щелкнуть правой кнопкой мыши команду **Выполнить**) и ввести следующую команду:

    `msedge --remote-debugging-port=9222`

    или

    `chrome.exe --remote-debugging-port=9222`
    ::: moniker-end

    ::: moniker range="vs-2017"
    Щелкните правой кнопкой мыши кнопку **Пуск** Windows, выберите команду **Выполнить** и введите следующую команду **:**

    `chrome.exe --remote-debugging-port=9222`
    ::: moniker-end

    Ваш браузер будет запущен в режиме отладки.

    Приложение еще не запущено, поэтому вы видите пустую страницу браузера.

### <a name="attach-the-debugger-to-client-side-script"></a>Подключение отладчика к сценарию на стороне клиента

1. Переключитесь в Visual Studio, а затем задайте точку останова в исходном коде, *app-bundle.js* или *app.tsx*.

    Для *app-bundle.js* установите точку останова в функции `render()`, как показано на следующем рисунке:

    ![Снимок экрана: окно кода Visual Studio для app-bundle.js. Красная точка в левой области навигации указывает, что точка останова установлена в функции обработки.](../javascript/media/tutorial-nodejs-react-set-breakpoint-client-code.png)

    Чтобы найти функцию `render()` в транспонированном файле *app-bundle.js*, используйте комбинацию клавиш **CTRL**+**F** (**Правка** > **Найти и заменить** > **Быстрый поиск**).

    Для *app.tsx* установите точку останова внутри функции `render()` в инструкции `return`.

    ![Снимок экрана: окно кода Visual Studio для app.tsx. Красная точка в левой области навигации указывает, что точка останова установлена в функции обработки оператора return.](../javascript/media/tutorial-nodejs-react-set-breakpoint-in-tsx-file.png)

2. Если точка останова устанавливается в файле *.tsx* (а не *app-bundle.js*), необходимо обновить файл *webpack-config.js*. Замените представленный ниже код.

    ```javascript
    output: {
        filename: "./app-bundle.js",
    },
    ```

    следующим кодом:

    ```javascript
    output: {
        filename: "./app-bundle.js",
        devtoolModuleFilenameTemplate: '[resource-path]'  // removes the webpack:/// prefix
    },
    ```

    Это настройка только для разработки, позволяющая отладку в Visual Studio. Этот параметр позволяет переопределить созданные ссылки в файле сопоставителя с исходным кодом, *app-bundle.js.map*, при сборке приложения. По умолчанию ссылки на webpack в файле сопоставителя с исходным кодом содержат префикс *webpack:///* , который предотвращает поиск исходного файла *app.tsx* в Visual Studio. В частности, при внесении этого изменения ссылка на исходный файл *app.tsx* меняется с *webpack:///./app.tsx* на *./app.tsx*, что позволяет выполнять отладку.

3. Выберите ваш целевой браузер в качестве целевого объекта отладки в Visual Studio, нажмите клавиши **CTRL**+**F5** (**Отладка** > **Запуск без отладки**), чтобы запустить приложение в браузере.

    ::: moniker range=">=vs-2019"
    Если вы создали конфигурацию браузера с понятным именем, выберите ее в качестве цели отладки.
    ::: moniker-end

    Приложение откроется в новой вкладке браузера.

4. Выберите **Отладка** > **Присоединение к процессу**.

    > [!TIP]
    > Начиная с Visual Studio 2017, после первого присоединения к процессу с помощью этих инструкций, дальнейшее присоединение можно выполнять с помощью команды **Отладка** > **Повторно подключиться к процессу**.

5. В диалоговом окне **Присоединить к процессу** получите отфильтрованный список экземпляров браузера для присоединения.

    ::: moniker range=">=vs-2019"
    В Visual Studio 2019 выберите правильный отладчик для вашего целевого браузера, **JavaScript (Chrome)** или **JavaScript (Microsoft Edge — Chromium)** в поле **Присоединить к**, введите **chrome** или **edge** в поле фильтра, чтобы отфильтровать результаты поиска.
    ::: moniker-end
    ::: moniker range="vs-2017"
    В Visual Studio 2017 выберите в поле **Присоединить к** элемент **Код Webkit** и введите **chrome** в поле фильтра, чтобы отфильтровать результаты поиска.
    ::: moniker-end

6. Выберите процесс браузера с соответствующим портом узла (localhost в этом примере) и нажмите кнопку **Присоединить**.

    Порт (1337) также может отображаться в поле **Заголовок**, чтобы помочь выбрать правильный экземпляр браузера.

    ::: moniker range=">=vs-2019"
    В следующем примере показано, как это выглядит в браузере Microsoft Edge (Chromium).

    ![Присоединение к процессу](../javascript/media/tutorial-nodejs-react-attach-to-process-edge.png)
    ::: moniker-end
    ::: moniker range="vs-2017"
    ![Присоединение к процессу](../javascript/media/tutorial-nodejs-react-attach-to-process.png)

    Определить, что отладчик присоединился правильно, можно по открытию проводника DOM и консоли JavaScript в Visual Studio. Эти средства отладки аналогичны инструментам Chrome для разработчиков и средствам F12 для Microsoft Edge.
    ::: moniker-end

    > [!TIP]
    > Если отладчик не присоединяется и появляется сообщение "Не удалось присоединиться к процессу. Операция недопустима в текущем состоянии" — попробуйте закрыть все экземпляры целевого браузера в диспетчере задач перед попыткой запуска целевого браузера в режиме отладки. Возможно, в браузере выполняются расширения, которые препятствуют переходу в режим полной отладки.

7. Так как код с точкой останова уже был выполнен, обновите страницу браузера, чтобы точка останова была достигнута еще раз.

    Когда отладчик приостановит выполнение, вы можете изучить состояние приложения, наводя указатель мыши на переменные и используя окна отладчика. Вы также можете выполнять пошаговую отладку кода (клавиши **F5**, **F10** и **F11**). Дополнительные сведения об основных функциях отладки см. в разделе [Первое знакомство с отладчиком](../debugger/debugger-feature-tour.md).

    Точка останова может быть достигнута в файле *app-bundle.js* или сопоставленном с ним месте в файле *app.tsx* в зависимости от того какие шаги вы предприняли ранее, наряду с состоянием среды и браузера. В любом случае вы можете выполнять пошаговую отладку кода и просматривать переменные.

   * Если требуется приостановка выполнения кода в *app.tsx*, но вам не удается это сделать, используйте **присоединение к процессу**, чтобы подключить отладчик, как это описано в предыдущих этапах. Убедитесь, что ваша среда настроена правильно:

      * Вы закрыли все экземпляры браузера, включая расширения Chrome (с помощью диспетчера задач) для запуска браузера в режиме отладки. Обязательно запустите браузер в режиме отладки.

      * Убедитесь, что сопоставитель с исходным кодом содержит ссылку на *./app.tsx*, а не *webpack:///./app.tsx*, что не позволяет отладчику Visual Studio найти *app.tsx*.
       Либо, если необходимо прервать выполнение кода в файле *app.tsx*, но сделать это не удается, попробуйте использовать оператор `debugger;` в *app.tsx* или установите точки останова в средствах для разработчиков в Chrome (или средства F12 для Microsoft Edge).

   * Если требуется приостановка выполнения кода в файле *app-bundle.js*, но сделать это не удается, удалите файл сопоставителя с исходным кодом *app-bundle.js.map*.

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Развертывание приложения в службе приложений Linux](../javascript/publish-nodejs-app-azure.md)
