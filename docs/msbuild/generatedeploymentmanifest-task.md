---
title: Задача GenerateDeploymentManifest | Документация Майкрософт
description: Узнайте, как использовать задачу GenerateDeploymentManifest MSBuild для создания манифеста развертывания ClickOnce.
ms.custom: SEO-VS-2020
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- http://schemas.microsoft.com/developer/msbuild/2003#GenerateDeploymentManifest
dev_langs:
- VB
- CSharp
- C++
- jsharp
helpviewer_keywords:
- MSBuild, GenerateDeploymentManifest task
- GenerateDeploymentManifest task [MSBuild]
author: ghogen
ms.author: ghogen
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 436aeb1b318aaa98d8a8cc9d8dac6baf4dd3c6c3
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99914766"
---
# <a name="generatedeploymentmanifest-task"></a>GenerateDeploymentManifest - задача

Создает манифест развертывания ClickOnce. Манифест развертывания ClickOnce описывает развертывание приложения, определяя уникальный идентификатор для развертывания, признаки развертывания, такие как режим установки и оперативный режим, задавая параметры обновления приложения и расположения обновления, а также указывая соответствующий манифест приложения ClickOnce.

## <a name="parameters"></a>Параметры

В следующей таблице приводятся параметры для задачи `GenerateDeploymentManifest`.

| Параметр | Описание |
|--------------------------| - |
| `AssemblyName` | Необязательный параметр `String`.<br /><br /> Указывает поле `Name` удостоверения сборки для создаваемого манифеста. Если этот параметр не задан, то имя выводится из параметра `EntryPoint` или `InputManifest`. Если вывести имя не удалось, задача сообщает об ошибке. |
| `AssemblyVersion` | Необязательный параметр `String`.<br /><br /> Указывает поле `Version` удостоверения сборки для создаваемого манифеста. Если этот параметр не задан, задача использует значение 1.0.0.0. |
| `CreateDesktopShortcut` | Необязательный параметр `Boolean`.<br /><br /> Если задано значение true, то при установке приложения ClickOnce на рабочем столе будет создан значок. |
| `DeploymentUrl` | Необязательный параметр `String`.<br /><br /> Указывает расположение обновлений для приложения. Если этот параметр не указан, то не определяется расположение обновления для приложения. Однако если параметр `UpdateEnabled` имеет значение `true`, то расположение обновления должно быть указано. Указанное значение должно быть полным URL-адресом или UNC-путем. |
| `Description` | Необязательный параметр `String`.<br /><br /> Указывает необязательное описание приложения. |
| `DisallowUrlActivation` | Необязательный параметр `Boolean`.<br /><br /> Указывает, нужно ли автоматически запускать приложение, когда оно открывается по URL-адресу. Если этот параметр имеет значение `true`, приложение можно запустить только из меню **Пуск**. По умолчанию этот параметр имеет значение `false`. Этот входной параметр применяется, только если параметр `Install` имеет значение `true`. |
| `EntryPoint` | Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>`[]` .<br /><br /> Указывает точку входа для создаваемой сборки манифеста. Для манифеста развертывания ClickOnce этот входной параметр указывает манифест приложения ClickOnce.<br /><br />Если параметр задачи `EntryPoint` не указан, тег `<customHostSpecified>` вставляется в качестве дочернего элемента тега `<entryPoint>`, например:<br /><br /> `<entryPoint xmlns="urn:schemas-microsoft-com:asm.v2">`<br /><br /> `<co.v1:customHostSpecified />`<br /><br /> `</entryPoint>`<br /><br /> В манифест приложения можно добавить зависимости DLL следующим образом:<br /><br /> 1.  Разрешите ссылки на сборки с помощью вызова <xref:Microsoft.Build.Tasks.ResolveAssemblyReference>.<br />2.  Передайте выходные данные предыдущей задачи и самой сборки в <xref:Microsoft.Build.Tasks.ResolveManifestFiles>.<br />3.  Передайте зависимости с помощью параметра `Dependencies` в <xref:Microsoft.Build.Tasks.GenerateApplicationManifest>. |
| `ErrorReportUrl` | Необязательный параметр <xref:System.String?displayProperty=fullName>.<br /><br /> Указывает URL-адрес веб-страницы, который отображается в диалоговых окнах во время установки ClickOnce. |
| `InputManifest` | Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>.<br /><br /> Указывает входной XML-документ, который служит основой для генератора манифеста. Это позволяет структурированным данным, например пользовательским определениям манифеста, отражаться в выходном файле манифеста. Корневой элемент в XML-документе должен быть узлом сборки в пространстве имен asmv1. |
| `Install` | Необязательный параметр `Boolean`.<br /><br /> Определяет, является ли приложение установленным или предназначенным только для использования через Интернет. Если этот параметр имеет значение `true`, приложение будет установлено в пользовательском меню **Пуск**, и его можно удалить, используя диалоговое окно **Установка и удаление программ**. Если этот параметр имеет значение `false`, то приложение предназначено для использования онлайн на веб-странице. По умолчанию этот параметр имеет значение `true`. |
| `MapFileExtensions` | Необязательный параметр `Boolean`.<br /><br /> Определяет, используется ли сопоставление расширения имени *DEPLOY*-файла. Если этот параметр имеет значение `true`, то каждый файл программы публикуется с расширением имени *DEPLOY*-файла. Этот параметр полезен для защиты веб-сервера, чтобы ограничить количество расширений имен файлов, которые должны быть разблокированы, чтобы разрешить развертывание приложения ClickOnce. По умолчанию этот параметр имеет значение `false`. |
| `MaxTargetPath` | Необязательный параметр `String`.<br /><br /> Определяет максимально допустимую длину пути к файлу при развертывании приложения ClickOnce. Если этот параметр указан, то с ним сверяется длина каждого пути к файлу в приложении. Любые элементы, превышающие это ограничение, вызовут предупреждение сборки. Если это значение не определено или равно нулю, то проверка не выполняется. |
| `MinimumRequiredVersion` | Необязательный параметр `String`.<br /><br /> Указывает, может ли пользователь пропустить обновление. Если у пользователя установлена версия, которая меньше, чем минимально требуемая, он не сможет пропустить обновление. Этот входной параметр применяется, только когда параметр `Install` имеет значение `true`. |
| `OutputManifest` | Необязательный параметр <xref:Microsoft.Build.Framework.ITaskItem>.<br /><br /> Указывает имя создаваемого выходного файла манифеста. Если этот параметр не задан, имя выходного файла выводится из идентификатора создаваемого манифеста. |
| `Platform` | Необязательный параметр `String`.<br /><br /> Указывает целевую платформу приложения. Этот параметр может иметь следующие значения:<br /><br /> -   `AnyCPU`<br />-   `x86`<br />-   `x64`<br />-   `Itanium`<br /><br /> Значение по умолчанию — `AnyCPU`. |
| `Product` | Необязательный параметр `String`.<br /><br /> Указывает имя приложения. Если этот параметр не задан, имя выводится из идентификатора создаваемого манифеста. Это имя используется в качестве имени ярлыка в меню **Пуск** и является частью имени, которое отображается в диалоговом окне **Установка и удаление программ**. |
| `Publisher` | Необязательный параметр `String`.<br /><br /> Указывает имя издателя приложения. Если этот параметр не задан, имя выводится из имени зарегистрированного пользователя или из идентификатора создаваемого манифеста. Это имя используется в качестве имени папки в меню **Пуск** и является частью имени, которое отображается в диалоговом окне **Установка и удаление программ**. |
| `SuiteNamel` | Необязательный параметр `String`.<br /><br /> Задает имя папки в меню **Пуск**, в которой располагается приложение после развертывания ClickOnce. |
| `SupportUrl` | Необязательный параметр `String`.<br /><br /> Указывает ссылку, которая появляется в диалоговом окне **Установка и удаление программ** для приложения. Указанное значение должно быть полным URL-адресом или UNC-путем. |
| `TargetCulture` | Необязательный параметр `String`.<br /><br /> Идентифицирует язык и региональные параметры приложения и указывает поле `Language` удостоверения сборки для создаваемого манифеста. Если этот параметр не задан, то предполагается, что в приложении не изменяются язык и региональные параметры. |
| `TrustUrlParameters` | Необязательный параметр `Boolean`.<br /><br /> Указывает, должны ли параметры строки запроса URL-адреса быть доступными для приложения. По умолчанию этот параметр имеет значение `false`, которое указывает, что параметры не будут доступны приложению. |
| `UpdateEnabled` | Необязательный параметр `Boolean`.<br /><br /> Указывает, разрешено ли обновление приложению. По умолчанию этот параметр имеет значение `false`. Этот параметр применяется, только когда параметр `Install` имеет значение `true`. |
| `UpdateInterval` | Необязательный параметр `Int32`.<br /><br /> Указывает интервал обновлений для приложения. По умолчанию значение этого параметра равно нулю. Этот параметр применяется, только когда оба параметра `Install` и `UpdateEnabled` имеют значение `true`. |
| `UpdateMode` | Необязательный параметр `String`.<br /><br /> Указывает, должны ли обновления проверяться на переднем плане перед запуском приложения или в фоновом режиме во время выполнения приложения. Этот параметр может иметь следующие значения:<br /><br /> -   `Foreground`<br />-   `Background`<br /><br /> По умолчанию этот параметр имеет значение `Background`. Этот параметр применяется, только когда оба параметра `Install` и `UpdateEnabled` имеют значение `true`. |
| `UpdateUnit` | Необязательный параметр `String`.<br /><br /> Указывает единицы измерения для параметра `UpdateInterval`. Этот параметр может иметь следующие значения:<br /><br /> -   `Hours`<br />-   `Days`<br />-   `Weeks`<br /><br /> Этот параметр применяется, только когда оба параметра `Install` и `UpdateEnabled` имеют значение `true`. |

## <a name="remarks"></a>Примечания

Помимо перечисленных выше параметров, эта задача наследует параметры от класса <xref:Microsoft.Build.Tasks.GenerateManifestBase>, который, в свою очередь, наследует от класса <xref:Microsoft.Build.Utilities.Task>. Список параметров класса Task см. в статье [Базовый класс Task](../msbuild/task-base-class.md).

## <a name="see-also"></a>См. также

- [Задачи](../msbuild/msbuild-tasks.md)
- [GenerateApplicationManifest - задача](../msbuild/generateapplicationmanifest-task.md)
- [SignFile - задача](../msbuild/signfile-task.md)
- [Справочные сведения о задачах](../msbuild/msbuild-task-reference.md)
