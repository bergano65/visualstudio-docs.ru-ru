---
title: Отладка многопоточных приложений | Документация Майкрософт
ms.custom: seodec18
ms.date: 11/06/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.gputthreads
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- threading [Visual Studio], debugging
- debugging [Visual Studio], high-performance computing
- debugging [Visual Studio], multithreaded
- multithreaded debugging
- high-performance debugging
ms.assetid: 9d175bc2-1d95-4c47-9bc3-9755af968a9c
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 07710ed0188baf48a567bb3c003f174814c30094
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: MTE95
ms.contentlocale: ru-RU
ms.lasthandoff: 01/02/2019
ms.locfileid: "53907895"
---
# <a name="debug-multithreaded-applications-in-visual-studio"></a>Отладка многопоточных приложений в Visual Studio
Поток — это последовательность инструкций, к которым операционная система предоставляет загруженности. Каждый процесс, выполняющийся в операционной системе, состоит по крайней мере из одного потока. Процессы, имеющие более одного потока, называются многопоточными.  
  
Компьютеры с несколькими процессорами, многоядерные процессоры или технологию Hyper-Threading-процессы могут работать несколько потоков одновременно. Параллельной обработки с помощью нескольких потоков может значительно повысить производительность программы, но он может также сделать отладку намного сложнее, так как вы отслеживаете большое количество потоков.  
  
Многопоточность можно добавить новые типы потенциальных ошибок. Например несколько потоков может потребоваться доступ к ресурсу, но только один поток за раз можно безопасно доступ к ресурсу. Некоторые виды взаимное исключение возникает необходимость убедитесь, что только один поток имел доступ к ресурсу в любое время. Если неправильно реализовано взаимного исключения, можно создать *взаимоблокировки* условие, где будет выполняться ни один поток. Взаимоблокировки часто являются проблемой при отладке.

## <a name="tools-for-debugging-multithreaded-apps"></a>Средства для отладки многопоточных приложений

Visual Studio предоставляет различные средства для использования при отладке многопоточных приложений.

- Для потоков, основные средства для отладки потоков — **потоков** окна, маркеры потоков в окнах исходного кода, **Параллельные стеки** окне **контроль параллельных данных** окно и **место отладки** панели инструментов. Дополнительные сведения о **потоков** окна и **место отладки** инструментов см. в разделе [Пошаговое руководство: Отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md). Чтобы узнать, как использовать **Параллельные стеки** и **контроль параллельных данных** windows, см. в разделе [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md). Оба раздела показано, как использовать маркеры потоков.
  
- Для кода, использующего [библиотеки параллельных задач (TPL)](/dotnet/standard/parallel-programming/task-parallel-library-tpl) или [среда выполнения с параллелизмом](/cpp/parallel/concrt/concurrency-runtime/), основные средства для отладки — **Параллельные стеки** окна, **Контроль параллельных данных** окно и **задачи** окно, которое также поддерживает JavaScript. Чтобы приступить к работе, см. в разделе [Пошаговое руководство: Отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md) и [Пошаговое руководство: Отладка приложения C++ AMP](/cpp/parallel/amp/walkthrough-debugging-a-cpp-amp-application). 

- По отладке потоков в GPU, — основное средство **потоки GPU** окна. См. [Практическое руководство. Использование окна потоков GPU](../debugger/how-to-use-the-gpu-threads-window.md).  

- Для процессов, основные средства — **присоединение к процессу** диалоговом окне **процессы** окно и **место отладки** панели инструментов.  
  
Visual Studio также предоставляет точки останова и трассировки, который может быть полезно при отладке многопоточных приложений. Используйте условия точки останова и фильтров для установки точек останова на отдельных потоках. Точки трассировки дают возможность отслеживать выполнение программы без нарушения, для изучения проблем, таких как взаимоблокировки. Дополнительные сведения см. в разделе [действия точки останова и точки отслеживания](../debugger/using-breakpoints.md#BKMK_Print_to_the_Output_window_with_tracepoints).

Отладка многопоточного приложения, которое имеет пользовательский интерфейс, может быть особенно сложной. Можно рассмотреть выполнение приложения на втором компьютере и использовать удаленную отладку. Дополнительные сведения см. в разделе [удаленной отладки](../debugger/remote-debugging.md).  
  
## <a name="articles-about-debugging-multithreaded-apps"></a>Ресурсы, посвященные отладки многопоточных приложений

 [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md)   
 Краткий обзор средств отладки потоков, выделяя функции в **Параллельные стеки** окна и **контроль параллельных данных** окна.

 [Средства отладки потоков и процессов](../debugger/debug-threads-and-processes.md)  
 Список возможностей набора средств для отладки потоков и процессов.  
  
 [Отладка нескольких процессов](../debugger/debug-multiple-processes.md)  
 Поясняет принципы отладки нескольких процессов.

 [Пошаговое руководство: отладка с помощью окна потоков](../debugger/how-to-use-the-threads-window.md).  
 Пошаговое руководство, в котором показано, как использовать **потоков** окна и **место отладки** панели инструментов. 

 [Пошаговое руководство: отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md)  
 Пошаговое руководство, в котором показано, как использовать **Параллельные стеки** и **задачи** windows.  
  
 [Практическое руководство. Переключение на другой поток при отладке](../debugger/how-to-switch-to-another-thread-while-debugging.md)  
 Несколько способов переключения контекста отладки на другой поток.  
  
 [Практическое руководство. Установка и снятие отметки для потоков](../debugger/how-to-flag-and-unflag-threads.md)  
 Пометка флагом потоков, которым нужно уделить особое внимание на время отладки.    
  
 [Практическое руководство. Отладка в высокопроизводительном кластере](../debugger/how-to-debug-on-a-high-performance-cluster.md)  
 Методы отладки приложения, запущенного на высокопроизводительном кластере.  

 [Советы по отладке потоков в машинном коде](../debugger/tips-for-debugging-threads-in-native-code.md)  
 Простые методы, которые могут быть полезны для отладки потока машинного кода. 

 [Практическое руководство. Установка имени потока в машинном коде](../debugger/how-to-set-a-thread-name-in-native-code.md)  
 Дайте потоку имя, которое будет отображаться в окне **Потоки**.  
  
 [Практическое руководство. Установка имени потока в управляемом коде](../debugger/how-to-set-a-thread-name-in-managed-code.md)  
 Дайте потоку имя, которое будет отображаться в окне **Потоки**. 
  
## <a name="see-also"></a>См. также  

[Использование точек останова](../debugger/using-breakpoints.md)  
[Работа с потоками](/dotnet/standard/threading/index)  
[Многопоточность в компонентах](https://msdn.microsoft.com/Library/2fc31e68-fb71-4544-b654-0ce720478779)  
[Поддержка многопоточности для устаревшего кода (Visual C++)](/cpp/parallel/multithreading-support-for-older-code-visual-cpp)  
 [Отладка потоков и процессов](../debugger/debug-threads-and-processes.md)   
 [Удаленная отладка](../debugger/remote-debugging.md)