---
title: не удается запустить отладку на веб-сервере | Документация Майкрософт
ms.date: 05/23/2018
ms.topic: error-reference
f1_keywords:
- vs.debug.error.http
- vwd.nonadmin.error.
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- IIS, debugging DLLs
- debugger, Web application errors
- unable to start debugging error
- security [debugger], Web applications
- debugging [Visual Studio], errors
- HTTP servers, debugging error
- security settings, checking for default Web sites
- errors [debugger], unable to start debugging
- debugging ASP.NET Web applications, unable to start debugging error
- remote debugging, errors
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: 94dcfdc05f2d852e1a433067b0a574444632195d
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99870887"
---
# <a name="error-unable-to-start-debugging-on-the-web-server"></a>Ошибка: не удается запустить отладку на веб-сервере

При попытке выполнить отладку приложения, запущенного на веб-сервере, может появиться следующее сообщение об ошибке: `Unable to start debugging on the Web server`.

Часто эта ошибка возникает из-за того, что какая-то ошибка или изменение конфигурации требуют обновления ваших пулов приложений, сброса IIS или выполнения обоих этих действий. Чтобы выполнить сброс IIS, в командной строке с повышенными привилегиями введите команду `iisreset`.

## <a name="what-is-the-detailed-error-message"></a><a name="specificerrors"></a>Что такое подробное сообщение об ошибке?

Сообщение `Unable to start debugging on the Web server` является универсальным. Обычно строка ошибки содержит более конкретное сообщение, которое может помочь вам определить причину проблемы или подобрать более подходящее исправление. Вот несколько самых распространенных сообщений об ошибках, добавляемых к основному сообщению об ошибке.

- [В IIS не указан веб-сайт, соответствующий URL-адресу запуска](#IISlist)
- [Веб-сервер настроен неправильно](#web_server_config)
- [Не удалось подключиться к веб-серверу](#unabletoconnect)
- [Веб-сервер не ответил вовремя](#webservertimeout)
- [Вероятно, монитор удаленной отладки Microsoft Visual Studio (msvsmon.exe) не запущен на удаленном компьютере](#msvsmon)
- [Удаленный сервер вернул ошибку](#server_error)
- [Не удалось запустить отладку ASP.NET](#aspnet)
- [Отладчику не удалось подключиться к удаленному компьютеру](#cannot_connect)
- [Сведения об общих ошибках конфигурации см. в справке. Дополнительные сведения могут быть получены при выполнении веб-страницы вне отладчика.](#see_help)
- [Операция не поддерживается. Неизвестная ошибка: *номер ошибки*](#operation_not_supported)

## <a name="iis-does-not-list-a-website-that-matches-the-launch-url"></a><a name="IISlist"></a> В IIS не указан веб-сайт, соответствующий URL-адресу запуска

- Перезапустите Visual Studio от имени администратора и повторите запуск отладки. (Некоторые сценарии отладки ASP.NET требуют повышенных привилегий.)

    Можно настроить Visual Studio на запуск от имени администратора в любой ситуации. Для этого щелкните значок ярлыка Visual Studio правой кнопкой мыши и выберите **Свойства > Дополнительно** > Всегда запускать от имени администратора.

## <a name="the-web-server-is-not-configured-correctly"></a><a name="web_server_config"></a> Веб-сервер настроен неправильно

- В теме [Error: Веб-сервер настроен неправильно](../debugger/error-the-web-server-is-not-configured-correctly.md).

## <a name="unable-to-connect-to-the-webserver"></a><a name="unabletoconnect"></a> Не удалось подключиться к веб-серверу

- Вы запускаете Visual Studio и веб-сервер на одном компьютере и выполняете отладку, нажимая клавишу **F5** (а не с помощью команды **Присоединиться к процессу**)? Откройте свойства проекта и убедитесь, что в настройках проекта указан правильный веб-сервер и URL-адрес запуска. (Откройте **Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта. Для проекта веб-форм откройте **Страницы свойств > Параметры запуска > Сервер**.)

- Если это не так, перезапустите пул приложений, а затем выполните сброс IIS. Дополнительные сведения см. в статье [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="the-web-server-did-not-respond-in-a-timely-manner"></a><a name="webservertimeout"></a> Веб-сервер не ответил вовремя

- Выполните сброс IIS и повторите запуск отладки. К процессу IIS может быть подключено сразу несколько экземпляров отладчика. Сброс завершит их работу. Дополнительные сведения см. в статье [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="the-microsoft-visual-studio-remote-debugging-monitormsvsmonexe-does-not-appear-to-be-running-on-the-remote-computer"></a><a name="msvsmon"></a> Вероятно, монитор удаленной отладки Microsoft Visual Studio (msvsmon.exe) не запущен на удаленном компьютере

- Если отладка выполняется на удаленном компьютере, убедитесь, что у вас [установлен и выполняется удаленный отладчик](../debugger/remote-debugging.md). Если в сообщении упоминается брандмауэр, убедитесь, что [соответствующие порты в брандмауэре](../debugger/remote-debugger-port-assignments.md) открыты, особенно если используется сторонний брандмауэр.
- Если вы используете файл HOSTS, убедитесь, что он настроен правильно. Например, если отладка запускается нажатием клавиши **F5** (а не с помощью команды **Присоединиться к процессу**), в файле HOSTS должен быть указан тот же URL-адрес проекта, что и в свойствах проекта (**Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта).

## <a name="the-remote-server-returned-an-error"></a><a name="server_error"></a> Удаленный сервер вернул ошибку

Проверьте, не содержит ли [файл журнала IIS](https://support.microsoft.com/help/943891/the-http-status-code-in-iis-7-0--iis-7-5--and-iis-8-0) подкоды ошибок и дополнительные сведения, и изучите эту [запись блога](https://blogs.iis.net/tomkmvp/troubleshoot-a-403) IIS 7.

Некоторые распространенные коды ошибок и рекомендации также приводятся ниже.
- (403) Запрещено. Эта ошибка может возникать по разным причинам, поэтому проверьте файл журнала и параметры безопасности IIS для веб-сайта. Убедитесь, что элемент compilation в файле web.config сервера имеет значение `debug=true`. Убедитесь, что папка веб-приложения имеет необходимые разрешения, а конфигурация пула приложений верна (возможно, изменился пароль). См. раздел [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck). Если эти параметры верны и отладка выполняется локально, также убедитесь, что вы подключаетесь к серверу правильного типа и по верному URL-адресу (см. **Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта).
- (503) Сервер недоступен. Возможно, пул приложений остановился из-за ошибки или изменения конфигурации. Перезапустите пул приложений.
- (404) Не найдено. Убедитесь, что для пула приложений задана верная версия ASP.NET.

## <a name="could-not-start-aspnet-debugging"></a><a name="aspnet"></a> Не удалось запустить отладку ASP.NET

- Перезапустите пул приложений и выполните сброс IIS. Дополнительные сведения см. в статье [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).
- Если выполняется переопределение URL-адресов, протестируйте базовый файл web.config без переопределения URL-адресов. См. **примечание** о модуле переопределения URL-адресов в разделе [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="the-debugger-cannot-connect-to-the-remote-computer"></a><a name="cannot_connect"></a> Отладчику не удалось подключиться к удаленному компьютеру

Если выполняется локальная отладка, откройте свойства проекта в Visual Studio и убедитесь, что в настройках проект указан правильный веб-сервер и URL-адрес для подключения. (Откройте **Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта.)

Эта ошибка может возникать при локальной отладке из-за того, что Visual Studio является 32-разрядным приложением, поэтому для отладки 64-разрядных приложений используется 64-разрядная версия удаленного отладчика. Проверьте пул приложений в IIS и убедитесь, что параметр **Включать 32-разрядные приложения** имеет значение `true`, выполните сброс IIS и запустите отладку еще раз.

Также, если вы используете файл HOSTS, убедитесь, что он настроен правильно. Например, в файле HOSTS должен быть указан тот же URL-адрес проекта, что и в свойствах проекта (**Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта).

## <a name="see-help-for-common-configuration-errors-running-the-webpage-outside-of-the-debugger-may-provide-further-information"></a><a name="see_help"></a> Сведения об общих ошибках конфигурации см. в справке. Дополнительные сведения могут быть получены при выполнении веб-страницы вне отладчика.

- Вы запускаете Visual Studio и веб-сервер на одном компьютере? Откройте свойства проекта и убедитесь, что в настройках проекта указан правильный веб-сервер и URL-адрес запуска. (Откройте **Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта.)

- Если это не поможет или отладка выполняется удаленно, выполните действия, описанные в разделе [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="operation-not-supported-unknown-error-errornumber"></a><a name="operation_not_supported"></a> Операция не поддерживается. Неизвестная ошибка: *номер ошибки*

Если выполняется переопределение URL-адресов, протестируйте базовый файл web.config без переопределения URL-адресов. См. **примечание** о модуле переопределения URL-адресов в разделе [Проверка конфигурации IIS](#vxtbshttpservererrorsthingstocheck).

## <a name="check-your-iis-configuration"></a><a name="vxtbshttpservererrorsthingstocheck"></a>Проверьте конфигурацию IIS

Прежде чем запускать отладку повторно после выполнения описанных здесь шагов по решению проблемы, возможно, придется также выполнить сброс IIS. Для этого в командной строке с повышенными привилегиями введите команду `iisreset`.

* Остановите и перезапустите пулы приложений IIS, а затем попробуйте еще раз.

    Возможно, пул приложений остановился в результате ошибки. Кроме того, остановка и перезапуск пула приложений могут потребоваться из-за другого изменения, внесенного вами в конфигурацию.

    > [!NOTE]
    > Если пул приложений продолжает останавливаться, удалите модель переопределения URL-адресов через панель управления и установите ее повторно с помощью установщика веб-платформы (WebPI). Эта проблема может возникать после значительного обновления системы.

* Проверьте конфигурацию пула приложений, исправьте ее при необходимости и попробуйте еще раз.

    Пул приложений может быть настроен для версии ASP.NET, которая не соответствует проекту Visual Studio. Обновите версию ASP.NET в пуле приложений и перезапустите его. Дополнительные сведения см. в разделе [IIS 8.0 — использование ASP.NET 3.5 и ASP.NET 4.5](/iis/get-started/whats-new-in-iis-8/iis-80-using-aspnet-35-and-aspnet-45).

    Кроме того, если учетные данные изменились, возможно, нужно обновить их в пуле приложений или на веб-сайте.  В пуле приложений для обновления учетных данных выберите **Дополнительные параметры > Модель процессов > Удостоверение**. Для обновления учетных данных на веб-сайте выберите **Основные параметры > Подключиться как**. Перезапустите пул приложений.

* Убедитесь, что папка веб-приложения имеет нужные разрешения.

    Убедитесь, что вы предоставили IIS_IUSRS, IUSR или пользователю, связанному с [пулом приложений](/iis/manage/configuring-security/application-pool-identities), права на чтение и выполнение файлов в папке веб-приложения. Устраните проблему и перезапустите пул приложений.

* Убедитесь, что в IIS установлена правильная версия ASP.NET.

    Описанная проблема может быть вызвана несовпадением версий ASP.NET в IIS и в проекте Visual Studio. Возможно, потребуется задать версию платформы в файле web.config. Чтобы установить ASP.NET в IIS, используйте [установщик веб-платформы (WebPI)](https://www.microsoft.com/web/downloads/platform.aspx). См. также разделы [IIS 8.0 — использование ASP.NET 3.5 и ASP.NET 4.5](/iis/get-started/whats-new-in-iis-8/iis-80-using-aspnet-35-and-aspnet-45) или [Размещение в Windows с помощью IIS](https://docs.asp.net/en/latest/publishing/iis.html) (для ASP.NET Core).

* Устраните ошибки проверки подлинности, если используется только IP-адрес

     По умолчанию предполагается, что IP-адреса являются частью Интернет-зоны, и проверка подлинности NTLM для них не выполняется. Если настройки веб-сайта в IIS требуют обязательной проверки подлинности, проверка подлинности завершается ошибкой. Чтобы решить эту проблему, укажите вместо IP-адреса имя удаленного компьютера.

## <a name="other-causes"></a>Другие причины

Если проблема не в конфигурации IIS, попробуйте выполнить следующие действия.

- Перезапустите Visual Studio с правами администратора и попробуйте еще раз.

    Некоторые сценарии отладки ASP.NET, такие как применение веб-развертывания, требуют повышенных привилегий для Visual Studio.

- Если выполняются сразу несколько экземпляров Visual Studio, откройте проект в другом экземпляре Visual Studio (с правами администратора) и попробуйте еще раз.

- Если вы используете файл HOSTS с локальными адресами, попробуйте использовать вместо IP-адреса компьютера петлевой адрес.

    Если вы не используете локальные адрес, убедитесь, что в файле HOSTS должен быть указан тот же URL-адрес проекта, что и в свойствах проекта (**Свойства > Веб > Серверы** или **Свойства > Отладка** в зависимости от типа проекта).

## <a name="more-troubleshooting-steps"></a>Дополнительные действия по устранению неполадок

* Откройте страницу localhost в браузере на сервере.

     Если службы IIS не установлены правильно, должны отобразиться ошибки при вводе `http://localhost` в браузере.

     Дополнительные сведения о развертывании в IIS см. в разделах [IIS 8.0 — использование ASP.NET 3.5 и ASP.NET 4.5](/iis/get-started/whats-new-in-iis-8/iis-80-using-aspnet-35-and-aspnet-45) и [Размещение в Windows с помощью IIS](https://docs.asp.net/en/latest/publishing/iis.html) (для ASP.NET Core).

* Создайте простое приложения ASP.NET на сервере (или используйте базовый файл web.config).

    Если добиться работы приложения с отладчиком не удается, попробуйте создать простое локальное приложение ASP.NET на сервере и выполнить отладку этого простого приложения. (Можно использовать шаблон MVC ASP.NET по умолчанию.) Если отладка простого приложения выполняется, это поможет вам найти различия между двумя конфигурациями. Ищите разницу в параметрах в файле web.config, например в правилах переопределения URL-адресов.

## <a name="see-also"></a>См. также
- [Отладка веб-приложений: ошибки и устранение неполадок](../debugger/debugging-web-applications-errors-and-troubleshooting.md)