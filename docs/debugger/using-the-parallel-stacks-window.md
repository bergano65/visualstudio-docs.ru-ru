---
title: Просмотреть обсуждения в окне параллельных стеков | Документация Майкрософт
ms.date: 11/20/2018
ms.topic: conceptual
f1_keywords:
- vs.debug.parallelstacks
dev_langs:
- CSharp
- VB
- FSharp
- C++
helpviewer_keywords:
- debugger, parallel tasks window
ms.assetid: f50efb78-5206-4803-bb42-426ef8133f2f
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: ad685fc33c831d37cee955fda7e965ecd65e9bf7
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/02/2019
ms.locfileid: "53902063"
---
# <a name="view-threads-and-tasks-in-the-parallel-stacks-window"></a>Просмотр потоков и задач в окне параллельных стеков

**Параллельные стеки** окно полезно для отладки многопоточных приложений. Он имеет несколько представлений:

- [Представление потоков](#threads-view) содержит сведения о стеке вызова для всех потоков в приложении. Можно перемещаться между потоки и кадры стека в этих потоках. 

- [Представление «задачи»](#tasks-view) показывает сведения стека вызовов, ориентированный на задачи. 
  - В управляемом коде **задачи** представление отображает стеки вызова <xref:System.Threading.Tasks.Task?displayProperty=fullName> объектов. 
  - В машинном коде **задачи** представление отображает стеки вызова [группы задач](/cpp/parallel/concrt/task-parallelism-concurrency-runtime), [параллельные алгоритмы](/cpp/parallel/concrt/parallel-algorithms), [асинхронных агентов](/cpp/parallel/concrt/asynchronous-agents)и [упрощенных задач](/cpp/parallel/concrt/task-scheduler-concurrency-runtime).  
  
- [Представление метода](#method-view) вращается вокруг стек вызовов от выбранного метода. 

## <a name="use-the-parallel-stacks-window"></a>Использование окна "Параллельные стеки" 

Чтобы открыть **Параллельные стеки** окно, необходимо быть в сеансе отладки. Выберите **Отладка** > **Windows** > **Параллельные стеки**. 

### <a name="toolbar-controls"></a>Элементы управления панели инструментов

**Параллельные стеки** окно имеет следующие элементы управления панели инструментов: 

![Панель инструментов в окне параллельных стеков](../debugger/media/parallel_stackstoolbar.png "инструментов параллельных стеков")  
  
|Значок|Элемент управления|Описание|  
|-|-|-|  
|![Поле со списком потоков или задач](media/parallel_toolbar1.png "потоков или задач со списком")|**Потоки**/**задачи** поле со списком|Переключает отображение между стеками вызова для потоков и стеками вызова для задач. Дополнительные сведения см. в разделах [Представление "Задачи"](#tasks-view) и [Представление "Потоки"](#threads-view).|  
|![Показывать только отмеченные значок](media/parallel_toolbar2.png "Показать только отмеченные значок")|Показывать только помеченные|Отображает стеки вызова только для потоков, которые помечены в других окнах отладчика, такие как **потоки GPU** окна и **контроль параллельных данных** окна.|  
|![Значок представления метода переключить](media/parallel_toolbar3.png "значок представление метода")|Переключение **представления метода**|Переключает представления стека вызовов и **представление метода**. Дополнительные сведения см. в разделе [Представление "Метод"](#method-view).|  
|![Автоматическая прокрутка текущий значок](media/parallel_toolbar4.png "Автопрокрутка к текущий значок")|Автопрокрутка к текущему кадру стека|Автоматически прокручивает графа текущего кадра стека не в представлении. Эта функция полезна при изменении текущего кадра стека из других окон или при достижении новую точку останова в больших графов.|  
|![Значок масштаба переключения](media/parallel_toolbar5.png "масштаб переключателя значок")|Переключить элемент управления масштабом|Показывает или скрывает элемент управления масштабом в левой части окна. <br /><br />Независимо от видимости находится элемент управления, можно также увеличить масштаб, нажав клавишу **Ctrl** и повернуть колесо мыши или нажав **Ctrl**+**Shift** + **+** чтобы увеличить масштаб и **Ctrl**+**Shift** + **-** Чтобы уменьшить масштаб. |  
  
### <a name="stack-frame-icons"></a>Значки кадра стека
Следующие значки предоставляют сведения об активных и текущих кадрах стека во всех представлениях:

|Значок|Описание|  
|-|-|  
|![Желтая стрелка](media/icon_parallelyellowarrow.gif)|Указывает текущее расположение (активный кадр стека) текущего потока.|
|![Значок потоков](media/icon_parallelthreads.gif)|Указывает текущее расположение (активный кадр стека) потока не является текущей.|
|![Зеленая стрелка](media/icon_parallelgreenarrow.gif)|Указывает текущий кадр стека (текущий контекст отладчика). Имя метода выделено полужирным шрифтом везде, где оно встречается.|  

### <a name="context-menu-items"></a>Элементы контекстного меню  
При щелчке правой кнопкой мыши метод в доступны следующие пункты контекстного меню **потоков** представления или **задачи** представления. Последние шесть элементов отличаются от как [окно стека вызовов](how-to-use-the-call-stack-window.md).  

![Контекстное меню в окне параллельных стеков](../debugger/media/parallel_contmenu.png "контекстное меню в окне параллельных стеков")  

|Элемент меню|Описание|  
|-|-|  
|**Пометить**|Помечает выбранный элемент.|  
|**Снять пометку**|Снимает пометку с выбранного элемента.|  
|**Заморозить**|Замораживает выбранный элемент.|  
|**Разморозить**|Размораживает выбранный элемент.|  
|**Перейти к кадру**|Так же, как соответствующее меню команды в **стек вызовов** окна. Однако в **Параллельные стеки** окно, один метод может быть несколько кадров. Можно выбрать кадр в подменю для этого элемента. Если один из кадров стека в текущем потоке, этот кадр выбирается по умолчанию в подменю.|  
|**Перейдите к задаче** или **перейти к потоку**|Переключается в **задачи** или **потоков** представление и сохраняет же стека панели.|  
|**Перейти к исходному коду**|Переходит к соответствующему месту в окне исходного кода. |  
|**Перейти к дизассемблированию**|Переходит к соответствующему месту в **Дизассемблированный код** окна.|  
|**Показать внешний код**|Скрывает и показывает внешний код.|  
|**Шестнадцатеричный вывод**|Переключается между десятичным и шестнадцатеричным отображением.|  
|**Показать потоки в исходном коде**|Помечает расположение потока в окне исходного кода. |  
|**Сведения о загрузке символов**|Открывает **сведения о загрузке символов** диалоговое окно.|  
|**Параметры символов**|Открывает **параметры символов** диалоговое окно. |  
  
## <a name="threads-view"></a>Представление "Потоки"  

В **потоков** просмотра, кадр стека и путь вызова текущего потока, выделены синим цветом. В настоящий момент поток обозначается желтой стрелкой. 

Чтобы изменить текущий кадр стека, дважды щелкните другой метод. Это может изменить текущий поток, в зависимости от выбранного метода часть текущего потока или другого потока. 

Когда **потоков** просмотр графа слишком велик для обработки в окне **птичьего полета** элемент управления отображается в окне. Кадр можно переместить в элементе управления, чтобы перейти к другой части графа.  
  
Ниже показан один поток, идущий от Main, чтобы управляемый переход машинного кода. Шесть потоков находятся в текущем методе. Одну продолжает Thread.Sleep, а другой продолжает Console.WriteLine и затем SyncTextWriter.WriteLine.  

 ![Представление в окне параллельных стеков потоков](../debugger/media/parallel_stack1.png "потоков, представление в окне параллельных стеков")  

В следующей таблице описаны основные возможности **потоков** представления:  
  
|Выноска|Имя элемента|Описание|  
|-|-|-|  
|1|Сегмент или узел стека вызова|Содержит ряд методов для одного или нескольких потоков. Если кадр имеет линий со стрелками, не подключенные к нему, кадр показано единый путь вызова для потоков.|  
|2|Синее выделение|Указывает путь вызова текущего потока.|  
|3|Линии со стрелками|Соединяют узлы и показывают единый путь вызова для потоков.|  
|4|Заголовок узла|Показывает количество процессов и потоков для узла.|  
|5|Метод|Представляет один или несколько кадров стека одного метода.|  
|6|Всплывающая подсказка для метода|Появляется при наведении указателя на метод. В **потоков** представление, подсказка показывает все потоки в таблице, как **потоков** окна. |  

## <a name="tasks-view"></a>Представление задач  
Если приложение использует <xref:System.Threading.Tasks.Task?displayProperty=fullName> объектов (управляемый код) или `task_handle` объектов (машинный код) для выражения параллелизма, можно использовать **задачи** представления. Представление **Задачи** отображает стеки вызова задач вместо потоков. 

В **задачи** представления:  
  
- Стеки вызова потоков, которые не работают задачи не отображаются.  
- Стеки вызова потоков, выполняющие задачи, визуально отделяются в верхней и нижней части, для отображения наиболее релевантных кадров для задач.  
- Когда несколько задач расположены в одном потоке, стеки вызова этих задач отображаются в отдельных узлах.  

Чтобы просмотреть весь стек вызова, переключитесь обратно в **потоков** представление, щелкнув правой кнопкой мыши кадр стека и выбрав **перейти к потоку**.  

На следующем рисунке показано **потоков** представление вверху и соответствующий **задачи** вид внизу.  

![Представления потоков и задач](../debugger/media/parallel_threads-tasks.png "представления потоков и задач")  

Наведите указатель на метод для отображения всплывающей подсказки с дополнительной информацией. В **задачи** представление, всплывающая подсказка отображает все задачи в виде таблицы аналогичную **задачи** окна. 

На следующем рисунке показана всплывающая подсказка для метода в **потоков** представление в верхней и для соответствующего **задачи** вид внизу.  

![Всплывающие подсказки потоков и задач](../debugger/media/parallel_threads-tasks-tooltips.png "подсказки потоков и задач")  

## <a name="method-view"></a>Представление метода  
Либо из **потоков** представления или **задачи** представление, можно прикрепить график для текущего метода, выбрав **представление метода** значок на панели инструментов. **Представление "Методы"** показывает все методы для всех потоков, которые вызывают текущий метод или вызываются им. На следующем рисунке показано, как те же данные выглядят в **потоков** просмотра слева и в **представление методов** справа.  

![Потоки и представление метода](../debugger/media/parallel_methodview.png "потоков и представление метода")  
  
При переключении на новый кадр стека, вы делает этот метод текущего метода, и **представление методов** показывает все вызывающие и вызываемые объекты нового метода. Из-за этого некоторые потоки могут появиться на представлении или исчезнуть из него (в зависимости от того, отображается ли этот метод в их стеках вызова). Чтобы вернуться в представление стека вызовов, выберите **представление методов** панели инструментов значок еще раз.  
  
## <a name="see-also"></a>См. также  
 [Начало отладки многопоточных приложений](../debugger/get-started-debugging-multithreaded-apps.md)   
 [Пошаговое руководство: отладка параллельного приложения](../debugger/walkthrough-debugging-a-parallel-application.md)   
 [Сначала посмотрим, отладчик](../debugger/debugger-feature-tour.md) [отладка управляемого кода](../debugger/debugging-managed-code.md)   
 [Параллельное программирование](/dotnet/standard/parallel-programming/index)   
 [Использование окна задач](../debugger/using-the-tasks-window.md)   
 [Класс Task](../extensibility/debugger/task-class-internal-members.md)
