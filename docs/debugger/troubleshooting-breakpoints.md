---
title: Устранение неполадок с точками останова в отладчике | Документация Майкрософт
description: Точка останова, которая отключена или не может быть установлена, отображается незакрашенным кружком. В этом разделе приводятся сведения о проблемах, которые могут возникнуть при установке точек останова.
ms.custom: SEO-VS-2020, seodec18
ms.date: 01/23/2018
ms.topic: troubleshooting
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- multiple
ms.openlocfilehash: bb7d2d15e9cb04b541fba3d68607fb250054b707
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99870432"
---
# <a name="troubleshoot-breakpoints-in-the-visual-studio-debugger"></a>Устранение неполадок с точками останова в отладчике Visual Studio

## <a name="breakpoint-warnings"></a>Предупреждения точек останова

При отладке точка останова может иметь два визуальных состояния: закрашенный красный кружок или незакрашенный кружок (белая заливка). Если отладчик может успешно установить точку останова в целевом процессе, она будет отображаться как закрашенный красный кружок. Если точка останова отображается как незакрашенный кружок, либо точка останова отключена, либо при попытке установить ее возникло предупреждение. Чтобы определить причину, наведите указатель мыши на точку останова и проверьте, есть ли предупреждение.

В следующих двух разделах описаны наиболее часто возникающие предупреждения и способы их устранения.

### <a name="no-symbols-have-been-loaded-for-this-document"></a>"Нет загруженных символов для этого документа"

Перейдите в окно **Модули** (**Отладка** > **Окна** > **Модули**) и проверьте, загружен ли модуль.
* Если модуль загружен, проверьте, загружены ли символы, в столбце **Состояние символов**.
  * Если символы не загружены, проверьте состояние символов для диагностики проблемы. В контекстном меню модуля в окне **Модули** щелкните **Сведения о загрузке символов...** , чтобы узнать, откуда отладчик пытался загрузить символы. Дополнительные сведения о загрузке символов см. в статье [Указание файлов символов (.pdb) и исходных файлов](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md).
  * Если символы загружены, PDB-файл не содержит сведений об исходных файлах. Возможно несколько причин.
    * Если исходные файлы были добавлены недавно, убедитесь в том, что загружается последняя версия модуля.
    * Можно создать очищенные PDB-файлы с помощью параметра компоновщика **/PDBSTRIPPED**. Очищенные PDB-файлы не содержат сведений об исходных файлах. Убедитесь в том, что вы работаете с полным, а не очищенным PDB-файлом.
    * PDB-файл частично поврежден. Удалите файл и выполните чистую сборку модуля, чтобы попытаться устранить проблему.

* Если модуль не загружен, проверьте следующее, чтобы найти причину:
  * Убедитесь в том, что выполняется отладка правильного процесса.
  * Проверьте, выполняется ли отладка соответствующего кода. Узнать, для отладки какого типа кода настроен отладчик, можно в окне **Процессы** (**Отладка** > **Окна** > **Процессы**). Например, если вы пытаетесь выполнить отладку кода на C#, убедитесь в том, что ваш отладчик настроен для соответствующего типа и версии .NET (например, "Управляемый код (версия 4\*)" "Управляемый код (версия 2\* или версия 3\*)" или "Управляемый код (CoreCLR)").

### <a name="-the-current-source-code-is-different-from-the-version-built-into"></a>"… текущий исходный код отличается от версии, построенной в..."

Если исходный файл изменился и исходный код больше не соответствует отлаживаемому коду, отладчик по умолчанию не будет устанавливать точки останова в коде. Как правило, эта проблема возникает, если исходный файл изменился, но исходный код не был перестроен. Чтобы устранить эту проблему, перестройте проект. Если система сборки считает, что проект уже обновлен, несмотря на то, что это не так, можно заставить ее перестроить проект, сохранив исходный файл еще раз или очистив выходные данные сборки проекта перед сборкой.

В редких случаях может потребоваться отладка без соответствующего исходного кода. Отладка без соответствующего исходного кода может привести к путанице при отладке, поэтому вы должны быть уверены, что именно это нужно сделать.

Чтобы отключить проверки безопасности, выполните одно из указанных ниже действий.
* Чтобы изменить отдельную точку останова, наведите указатель мыши на значок точки останова в редакторе и щелкните значок параметров (в виде шестеренки). В редактор добавится окно просмотра. В верхней части окна просмотра есть гиперссылка, указывающая на расположение точки останова. Щелкните гиперссылку, чтобы разрешить изменение расположения точки останова, и установите флажок **Разрешить наличие отличий в исходном коде от первоначальной версии**.
* Чтобы изменить этот параметр для всех точек останова, выберите **Отладка** > **Параметры и настройки**. На странице **Отладка / Общие** снимите флажок **Требовать точного соответствия исходной версии файлов** . Не забудьте снова включить этот параметр после завершения отладки.

## <a name="the-breakpoint-was-successfully-set-no-warning-but-didnt-hit"></a>Точка останова была установлена успешно (без предупреждения), но не сработала

В этом разделе содержатся сведения об устранении неполадок в ситуации, когда отладчик не выводит предупреждений — точка останова представлена закрашенным красным кружком во время отладки, но не срабатывает.

Вот несколько моментов, которые следует проверить.
1. Если код выполняется в нескольких процессах или на нескольких компьютерах, убедитесь в том, что отлаживается нужный процесс на нужном компьютере.
2. Убедитесь в том, что код выполняется. Чтобы проверить, выполняется ли код, добавьте вызов `System.Diagnostics.Debugger.Break` (C# или VB) либо `__debugbreak` (C++) в строку кода, в которой вы пытаетесь установить точку останова, а затем перестройте проект.
3. При отладке оптимизированного кода убедитесь в том, что функция, в которой установлена точка останова, не встраивается в другую функцию. Описанный ранее тест `Debugger.Break` можно использовать для проверки и этой проблемы.

## <a name="i-deleted-a-breakpoint-but-i-continue-to-hit-it-when-i-start-debugging-again"></a>После удаления точки останова она по-прежнему применяется при запуске отладки

Если удалить точку останова во время отладки, она может снова сработать при очередном запуске отладки. Чтобы прекратить применение этой точки останова, убедитесь, что все ее экземпляры удалены из окна **Точки останова** .
