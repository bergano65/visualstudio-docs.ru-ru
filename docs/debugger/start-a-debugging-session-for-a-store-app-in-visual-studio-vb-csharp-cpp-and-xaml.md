---
title: Запуск сеанса отладки для приложения UWP | Документация Майкрософт
description: Запуск сеанса отладки Visual Studio для приложения универсальной платформы Windows (UWP). Настройте сеанс отладки и выберите способ запуска приложения.
ms.custom: SEO-VS-2020, seodec18
ms.date: 11/20/2018
ms.topic: how-to
f1_keywords:
- VC.Project.IVCAppHostRemoteDebugPageObject.MachineName
- VC.Project.IVCAppHostRemoteDebugPageObject.BreakpointBehavior
- VC.Project.IVCAppHostLocalDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostTetheredDebugPageObject.DebuggerType
- VC.Project.IVCAppHostLocalDebugPageObject.BreakpointBehavior
- VC.Project.IVCAppHostRemoteDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostRemoteDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostLocalDebugPageObject.DebuggerType
- VC.Project.IVCAppHostSimulatorDebugPageObject.DebuggerType
- ImmersiveProjects.Properties.Debug
- VC.Project.IVCAppHostTetheredDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostSimulatorDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostSimulatorDebugPageObject.GPUDebuggerTargetType
- VC.Project.IVCAppHostLocalDebugPageObject.LaunchApplication
- VC.Project.IVCAppHostLocalDebugPageObject.AllowLocalNetworkLoopback
- AppPackage.Properties.Debug
- VC.Project.IVCAppHostRemoteDebugPageObject.Authentication
- VC.Project.IVCAppHostRemoteDebugPageObject.DebuggerType
- VC.Project.IVCAppHostSimulatorDebugPageObject.BreakpointBehavior
- vs.debug.installedapppackagelauncher
- vs.debug.error.wwahost_scriptdebuggingdisabled
dev_langs:
- CSharp
- VB
- FSharp
- C++
author: mikejo5000
ms.author: mikejo
manager: jmartens
ms.workload:
- uwp
ms.openlocfilehash: e90a6466a4bff0f3299e3f47bce7e0b54d540fcf
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99905031"
---
# <a name="start-a-debugging-session-for-a-uwp-app"></a>Запуск сеанса отладки для приложения UWP

В этой статье описывается, как запустить сеанс отладки Visual Studio для приложения UWP. Приложения UWP могут быть написаны на языках XAML и C++, XAML и C#/Visual Basic. Чтобы приступить к отладке приложения UWP, настройте сеанс отладки и выберите способ запуска приложения.

::: moniker range=">=vs-2019"
> [!NOTE]
> Начиная с Visual Studio 2019 приложения UWP для HTML и JavaScript больше не поддерживаются.
::: moniker-end
::: moniker range="vs-2017"
В Visual Studio 2017 большинство команд и параметров, приведенных в этой статье, также применимо к приложениям UWP для HTML и JavaScript. Если в управляемых приложениях и приложениях C++ команды различаются, то в приложениях JavaScript команды обычно аналогичны командам для приложений UWP на C++.
::: moniker-end

## <a name="start-debugging-from-the-visual-studio-toolbar"></a><a name="BKMK_The_easy_way_to_start_debugging"></a>Запуск отладки с панели инструментов Visual Studio

Самым простым способом настройки и запуска отладки является стандартная панель инструментов Visual Studio.

![Отладка с панели инструментов](../debugger/media/vsrun_select_target_device.png)

1. В раскрывающемся списке **Конфигурация** на панели инструментов **Стандартная** выберите **Отладка**.

1. В раскрывающемся списке **Платформа** выберите целевую платформу для построения.

1. В раскрывающемся списке рядом с зеленой стрелкой выберите целевой объект отладки. Вы можете выбрать локальный компьютер, устройство, подключенное напрямую, локальный симулятор Visual Studio, удаленное устройство или эмулятор.

1. Чтобы начать отладку, на панели инструментов щелкните зеленую стрелку **Пуск** или выберите **Отладка** > **Начать отладку** или нажмите клавишу **F5**.

   Visual Studio создает и запускает приложение с прикрепленным отладчиком.

Отладка продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

### <a name="deployment-target-options"></a><a name="BKMK_Choose_the_deployment_target"></a> Параметры целевого объекта развертывания

Целевой объект отладки можно задать на панели инструментов Visual Studio или на странице свойств отладки проекта. Выберите один из следующих вариантов.

|name|Описание|
|-|-|
|**Локальный компьютер**|Отладка приложения в текущем сеансе на локальном компьютере.|
|**Имитатор**|Отладка приложения в симуляторе Visual Studio для приложений UWP. Симулятор представляет собой окно на рабочем столе, в котором имитируются недоступные на локальном компьютере функциональные возможности устройства, такие как сенсорный ввод и поворот устройства. Этот параметр доступен только в том случае, если значение **Минимальная версия целевой платформы** не превышает номер версии операционной системы на локальном компьютере. Дополнительные сведения см. в разделе [Запуск приложений UWP в симуляторе](../debugger/run-windows-store-apps-in-the-simulator.md).|
|**Удаленный компьютер**|Отладка приложения на устройстве, подключенном к локальному компьютеру по сети или через кабель Ethernet. На удаленном устройстве должны быть установлены и запущены инструменты удаленной отладки для Visual Studio. Дополнительные сведения см. в разделе [Запуск приложений UWP на удаленном компьютере](../debugger/run-windows-store-apps-on-a-remote-machine.md).|
|**Устройство**|Отладка приложения на подключенном USB-устройстве. Устройство должно быть разблокировано разработчиком, и на нем должен быть разблокирован экран.|
|**Эмулятор мобильного устройства**|Загрузите эмулятор, указанный в имени эмулятора, разверните приложение и начните отладку. Эмуляторы доступны только на компьютерах с поддержкой Hyper-V.|

## <a name="configure-debugging-in-the-project-property-page"></a><a name="BKMK_Open_the_debugging_property_page_for_the_project"></a> Настройка отладки на странице свойств проекта

Чтобы настроить дополнительные параметры отладки, используйте страницу свойств отладка проекта.

**Открытие свойств отладки:**

1. В **обозревателе решений** выберите проект и щелкните значок **Свойства** либо щелкните проект правой кнопкой мыши и выберите пункт **Свойства**.

1. На панели **Свойства** в области слева выполните следующие действия.

   - Для приложений C# и Visual Basic выберите **Отладка**.

     ![Страница свойств отладки для проектов C# и Visual Basic](../debugger/media/dbg_csvb_debugpropertypage.png)

   - Для приложений C++ выберите **Свойства конфигурации** > **Отладка**.

     ![Страница свойств отладки для приложения UWP на C++](../debugger/media/dbg_cpp_debugpropertypage.png)

### <a name="choose-the-debugger-to-use"></a><a name="BKMK_Choose_the_debugger_to_use"></a> Выбор отладчика

По умолчанию в приложениях C# и Visual Basic программа Visual Studio выполняет отладку управляемого кода. Можно выбрать отладку других или дополнительных типов кода. Можно также задать **Тип отладчика** для всех фоновых задач, которые являются частью проекта.

По умолчанию в приложении С++ Visual Studio выполняет отладку машинного кода. Можно выбрать отладку конкретного типа кода вместо или в дополнение к машинному коду.

**Указание типов кода для отладки**

- Для приложений C# и Visual Basic выберите один из следующих отладчиков из раскрывающихся списков **Тип приложения** и **Тип фонового процесса** в разделе **Тип отладчика** на странице свойств **Отладка**

- Для приложений C++ выберите один из следующих отладчиков из раскрывающихся списков **Тип отладчика** на странице свойств **Отладка**.

|name|Описание|
|-|-|
|**Только управляемый код**|Отладка управляемого кода в приложении. Код JavaScript и машинный код C/C++ игнорируются.|
|**Только машинный код**|Отладка машинного кода C/C++ в приложении. Управляемый код и код JavaScript игнорируются.|
|**Смешанный (управляемый и машинный)**|Отладка машинного кода C/C++ и управляемого кода в приложении. Код JavaScript игнорируется. В проектах C++ этот параметр называется **Управляемый и машинный**.|
|**Сценарий**|Отладка кода JavaScript в приложении. Управляемый код и машинный код игнорируются.|
|**Машинный код со скриптом**|Отладка машинного кода C/C++ и кода JavaScript в приложении. Управляемый код игнорируется. Доступно только в проектах или фоновых задачах C++.|
|**Только GPU (C++ AMP)**|Отладка машинного кода C++, который выполняется в графическом процессоре (GPU). Доступно только в проектах C++.|

### <a name="disable-network-loopbacks-optional"></a><a name="BKMK__Optional__Disable_network_loopbacks"></a> Отключение сетевого замыкания на себя (необязательно)

 Из соображений безопасности приложению UWP, установленному стандартным образом, не разрешается выполнять сетевые вызовы к устройству, на котором оно установлено. Visual Studio по умолчанию исключает развернутые приложения из этого правила, поэтому вы можете протестировать процедуры связи на одном компьютере. Прежде чем выпускать приложение, необходимо протестировать его без этого исключения.

**Удаление исключения из правила сетевого замыкания на себя:**

- Для приложений Visual C# и Visual Basic снимите флажок **Разрешить замыкание на себя в локальной сети** в разделе **Параметры запуска** на странице свойств **Отладка**.

- Для приложений C++ выберите **Нет** в списке **Разрешить замыкание на себя в локальной сети** на странице свойств **Отладка**.

### <a name="reinstall-the-app-when-you-start-debugging-optional"></a><a name="BKMK__Optional__Reinstall_the_app_when_you_start_debugging"></a> Переустановка приложения при запуске отладки (необязательно)
 Чтобы диагностировать проблемы с установкой приложения C# или Visual Basic, выберите **Удалить и переустановить мой пакет** на странице свойств **Отладка**. Этот параметр позволяет повторно создать исходную установку при запуске отладки. Этот параметр недоступен для проектов C++.

### <a name="set-authentication-options-for-remote-debugging"></a><a name="BKMK__Optional__Disable_authentication_requirement_to_start_the_remote_debugger"></a> Настройка параметров проверки подлинности для удаленной отладки

По умолчанию при выборе варианта **Удаленный компьютер** в качестве целевого объекта развертывания необходимо указать учетные данные Windows для запуска удаленного отладчика. Можно изменить это требование к проверке подлинности.

Режим проверки подлинности **Универсальный (незашифрованный протокол)** предназначен для устройств IoT, Xbox и HoloLens, а также для обновлений автора или компьютеров с более поздними версиями Windows 10.

**Изменение метода проверки подлинности**

- Для приложений C# и Visual Basic на странице свойств **Отладка** выберите **Удаленный компьютер** для параметра **Целевое устройство**. Затем выберите **Нет** или **Универсальный (незашифрованный протокол)** для параметра **Режим проверки подлинности**.

- Для приложений C++ выберите **Удаленный компьютер** в разделе **Отладчик для запуска** на странице свойств **Отладка**. Затем выберите **Без проверки** или **Универсальный (незашифрованный протокол)** для параметра **Тип проверки подлинности**.

> [!CAUTION]
> При запуске удаленного отладчика в режиме **Без проверки** или **Универсальный (незашифрованный протокол)** безопасность сети не обеспечивается. Выбирайте эти типы только для доверенных сетей, которые точно не подвержены риску вредоносного кода или злонамеренного трафика.

## <a name="debugging-start-options"></a><a name="BKMK_Start_the_debugging_session"></a> Параметры запуска отладки

При выборе команды **Отладка** > **Начать отладку** или при нажатии клавиши **F5** Visual Studio запускает приложение с подключенным отладчиком. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

### <a name="start-debugging-but-delay-app-start"></a><a name="BKMK_Start_debugging__F5__but_delay_the_app_start"></a> Запуск отладки с отложенным запуском приложения

По умолчанию Visual Studio немедленно запускает приложение при запуске отладки. Приложение также можно настроить для выполнения в режиме отладки, но запускать его не отладчиком, а другим методом. Например, может потребоваться отладка запуска приложения из меню **Пуск** Windows или отладка фонового процесса в приложении. При выборе этого параметра приложение запускается в отладчике при запуске.

**Отключение автоматического запуска приложения**

- Для приложений C# и Visual Basic выберите **Не запускать, а отлаживать мой код при открытии** в разделе **Параметры запуска** на странице свойств **Отладка**.

- Для приложений C++ выберите **Нет** в раскрывающемся списке **Запуск приложения** на странице свойств **Отладка**.

Дополнительные сведения об отладке фоновых задач см. в разделе [Вызов событий приостановки, возобновления и фоновых событий для приложений UWP](../debugger/how-to-trigger-suspend-resume-and-background-events-for-windows-store-apps-in-visual-studio.md).

### <a name="debug-an-installed-or-running-uwp-app"></a><a name="BKMK_Start_an_installed_app_in_the_debugger"></a> Отладка установленного или работающего приложения UWP

Чтобы выполнить отладку приложения UWP, которое уже установлено или запущено на локальном или удаленном устройстве, можно использовать параметр **Отладка установленного пакета приложения**. Приложение могло быть установлено из Microsoft Store, или, возможно, оно не является проектом Visual Studio. Например, приложение может иметь настраиваемую систему сборки, в которой не используются проекты и решения Visual Studio.

Вы можете запустить установленное приложение немедленно или настроить его на запуск в отладчике при запуске с помощью другого метода. Дополнительные сведения см. в разделе [Вызов событий приостановки, возобновления и фоновых событий для приложений UWP](../debugger/how-to-trigger-suspend-resume-and-background-events-for-windows-store-apps-in-visual-studio.md).

Чтобы запустить установленное или работающее приложение UWP в отладчике, выберите **Отладка** > **Другие целевые объекты отладки** > **Отладка установленного пакета приложения**. Дополнительные инструкции см. в статье [Отладка установленного пакета приложения](../debugger/debug-installed-app-package.md).

### <a name="attach-the-debugger-to-a-running-windows-8x-app"></a><a name="BKMK_Attach_the_debugger_to_a_running_app_"></a> Подключение отладчика к выполняемому приложению Windows 8.x

Чтобы подключить отладчик к приложению [!INCLUDE[win8_appname_long](../debugger/includes/win8_appname_long_md.md)] , нужно воспользоваться диспетчером отлаживаемых пакетов и настроить приложение на выполнение в режиме отладки. Диспетчер отлаживаемых пакетов устанавливается вместе с инструментами удаленной отладки для Visual Studio.

1. Установите инструменты удаленной отладки для Visual Studio на устройство, на котором установлено приложение. Дополнительные сведения см. в разделе [Установка инструментов удаленной установки](../debugger/remote-debugging.md).

1. На экране **Пуск** Windows найдите и запустите **Диспетчер отлаживаемых пакетов**.

   Отобразится окно PowerShell, настроенное для работы с командлетами AppxDebug.

1. Укажите идентификатор PackageFullName приложения.

   1. Чтобы просмотреть список всех приложений с идентификатором PackageFullName, введите `Get-AppxPackage` в командной строке PowerShell.

   1. В командной строке PowerShell введите `Enable-AppxDebug <PackageFullName>`, где \<PackageFullName> — идентификатор PackageFullName приложения.

1. Выберите **Отладка** > **Присоединение к процессу**.

1. В диалоговом окне **Присоединение к процессу** укажите удаленное устройство в поле **Целевой объект подключения**.

   Можно ввести имя устройства, выбрать его из раскрывающегося списка в поле **Целевой объект подключения** или выбрать **Найти**, чтобы найти устройство в диалоговом окне **Удаленные подключения**.

1. Чтобы указать тип кода, который нужно отладить, рядом с полем **Присоединить к** нажмите **Выбрать**.

1. В диалоговом окне **Выбор типа кода** выберите одно из следующего:
   - **Автоматически определять тип отлаживаемого кода** или
   - **Выполнять отладку кода следующих типов** и выберите один или несколько типов кода из списка.

1. В списке **Доступные процессы** выберите процесс приложения для отладки.

1. Выберите **Подключить**.

 Visual Studio подключает отладчик к процессу. Выполнение продолжается до достижения точки останова, приостановления выполнения вручную, необработанного исключения или завершения приложения.

::: moniker range="vs-2017"
> [!NOTE]
> Приложения JavaScript выполняются в экземпляре процесса *wwahost.exe*. Если выполняется несколько приложений JavaScript, необходимо знать числовой идентификатор процесса (PID) процесса *wwahost.exe* приложения, который будет присоединен к нему.
>
> Самый простой способ присоединиться к приложению JavaScript — закрыть все остальные приложения JavaScript. Кроме того, перед запуском приложения можно запомнить идентификаторы PID для запуска процессов *wwahost.exe* в диспетчере задач Windows. При запуске приложения PID его *wwahost.exe* будет отличаться от указанных ранее.
::: moniker-end

## <a name="see-also"></a>См. также

- [Отладка приложений в Visual Studio](../debugger/debugging-windows-store-and-windows-universal-apps.md)