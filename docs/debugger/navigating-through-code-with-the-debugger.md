---
title: Навигация по коду с помощью отладчика Visual Studio | Документация Майкрософт
ms.custom: H1Hack27Feb2017
ms.date: 11/12/2018
ms.technology: vs-ide-debug
ms.topic: conceptual
f1_keywords:
- vs.debug.execution
helpviewer_keywords:
- stepping
- debugging [Visual Studio], execution control
- execution, controlling in debugger
ms.assetid: 759072ba-4aaa-447e-8e51-0dd1456fe896
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: df2f0c94fa5d3bfc275a09b065555f32f260ba91
ms.sourcegitcommit: 331dbb12e11fcd7f5d15fab05f3c861e48126e43
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/16/2018
ms.locfileid: "51826762"
---
# <a name="navigate-through-code-with-the-visual-studio-debugger"></a>Навигация по коду с помощью отладчика Visual Studio

Отладчик Visual Studio может помочь переходы по коду, чтобы проверять состояние приложения и показать его поток выполнения. Можно использовать сочетания клавиш, команды отладки, точки останова и другие функции, чтобы быстро найти код, который вы хотите проанализировать. Знакомство с команд навигации отладчика и сочетаний клавиш позволяет быстрее и проще находить и решения проблем в приложениях.  Если это в первый раз, которое вы пытались пройти отлаживать код, вы можете прочитать [лучше писать C# кода с помощью Visual Studio](../debugger/write-better-code-with-visual-studio.md) и [отладки для начинающих](../debugger/debugging-absolute-beginners.md) прежде чем приступить к этой статье.
  
## <a name="basic-debugging"></a>Основы отладки  

Чтобы запустить приложение с подключенным отладчиком, нажмите клавишу **F5**выберите **Отладка** > **начать отладку**, или выберите зеленую стрелку на панели инструментов Visual Studio.  
  
 ![DBG&#95;Basics&#95;Start&#95;Debugging](../debugger/media/dbg_basics_start_debugging.png "DBG_Basics_Start_Debugging")  
  
Во время отладки, выделение желтым цветом показаны строки кода, который будет выполняться Далее.  
  
 ![DBG&#95;основы&#95;прервать&#95;режим](../debugger/media/dbg_basics_break_mode.png "режиме приостановки выполнения")  
  
Наиболее отладчика, например **модули** и **Watch** windows, доступны только во время работы отладчика. Некоторые возможности отладчика, таких как просмотр значений переменных в **"Локальные"** окна или вычисление выражений в **Watch** окна, доступны только в том случае, когда отладчик приостановлена в точке останова, также называемый *режим приостановки выполнения*. 

В режиме приостановки выполнения выполнение приложения приостанавливается при функции, переменные, и объекты остаются в памяти. Можно проверить, проверив положения элементов и состояний для поиска ошибок и нарушений целостности. Для некоторых типов проектов можно также внести корректировки в приложение в режиме приостановки. Видео о том, эти функции, см. в разделе [Приступая к работе с отладчиком](https://www.youtube.com/watch?v=FtGCi5j30YU&list=PLReL099Y5nRfw6VNvzMkv0sabT2crbSpK&index=6).

Если прервать выполнение кода, не имеет источника или символ (*.pdb*) файлов, загруженных, отладчик отображает **исходный файл не найден** или **символы не найдены** страницы, которые могут помочь Поиск и загрузка файлов. См. в разделе [Указание файлов символов (.pdb) и исходных файлов](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md). Если не удается загрузить символов или исходные файлы, можно выполнять отладку инструкций ассемблера в **Дизассемблированный код** окна. 

Не всегда нужно начать отладку, запустив приложение в начале. Можно также нажать **F11** для [шаг с заходом в код](#BKMK_Step_into__over__or_out_of_the_code), нажмите клавишу **F10** для [шаг с обходом кода](#BKMK_Step_over_Step_out), или [выполнение до определенного расположения или функция](#BKMK_Break_into_code_by_using_breakpoints_or_Break_All).    

##  <a name="step-through-code"></a>Пошаговое прохождение кода

Команды пошаговой отладки отладчик помогают изучить состояние приложения или подробнее узнать о его поток выполнения. 

Если вам нужно найти точку входа в приложение, начните с **F10** или **F11**.  

### <a name="BKMK_Step_into__over__or_out_of_the_code"></a> Шаг с заходом в код по одной строке  

Чтобы остановить на каждую строку кода или инструкции во время отладки, используйте **Отладка** > **шаг с заходом**, или нажмите клавишу **F11**.  

Действия отладчика через операторов кода, а не физических строк. Например `if` предложение может быть записано в одной строке:  
  
  ```csharp  
  int x = 42;  
  string s = "Not answered";  
  if( int x == 42) s = "Answered!";  
  ```  
  
  ```vb  
  Dim x As Integer = 42  
  Dim s As String = "Not answered"  
  If x = 42 Then s = "Answered!"  
  ```  

Тем не менее при выполнении шага с заходом в эту строку, отладчик обрабатывает условие как один шаг, а следствие как другой. В приведенном выше примере условие истинно.  
  
При вызове вложенных функций команда **Шаг с заходом** позволяет попасть в самую глубокую вложенную функцию. Например, если вы используете **шаг с заходом** на вызове `Func1(Func2())`, отладчик заходит в функцию `Func2`.  

>[!TIP]
>При выполнении каждой строкой кода, наводите указатель мыши на переменные, их значения, или использовать ["Локальные"](autos-and-locals-windows.md) и [Watch](watch-and-quickwatch-windows.md) для наблюдения за изменение значения. Вы можете визуально отслеживать стека вызовов при пошаговом выполнении функций. См. в разделе [сопоставление методов в стеке вызовов при отладке](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md). 

###  <a name="BKMK_Step_over_Step_out"></a> Пошаговое выполнение кода и пропустить некоторые функции  

Можно не заботиться о функции во время отладки, или вы знаете, что он работает, как код проверенная библиотеки. Можно использовать следующие команды, чтобы пропустить через код. Функции по-прежнему выполняться, но отладчик пропускает их.  
  
|Команда клавиатуры|Отладка команда меню|Описание:|  
|----------------------|------------------|-----------------|  
|**F10**|**Шаг с обходом**|Если текущая строка содержит вызов функции **шаг с обходом** выполняет код, а затем приостанавливает выполнение на первой строке кода после возврата вызываемой функции.|  
|**SHIFT**+**F11**|**Шаг с выходом**|**Шаг с выходом** продолжит выполнение кода и приостановит его по возвращении из текущей функции. Отладчик пропускает через текущую функцию.|  
  
##  <a name="BKMK_Break_into_code_by_using_breakpoints_or_Break_All"></a> Выполнение до определенного расположения или функции  

Вы можете предпочесть запускается непосредственно для определенного расположения или функции, если известно точно какой код, который требуется проверить или вы знаете, где вы хотите начать отладку.  
  
### <a name="run-to-a-breakpoint-in-code"></a>Запуск до точки останова в коде  
  
Чтобы задать простую точку останова в коде, щелкните крайнем левом поле рядом со строкой кода, в которой требуется приостановить выполнение. Можно также выбрать строку и нажмите клавишу **F9**выберите **Отладка** > **точка останова**, или щелкните правой кнопкой мыши и выберите **точкиостанова**  >  **Вставить точку останова**. Точка останова отображается в виде красной точки в левом поле рядом со строкой кода. Отладчик приостанавливает выполнение непосредственно перед строка выполняется.
  
![Установите точку останова](../debugger/media/dbg_basics_setbreakpoint.png "установите точку останова")  
  
Точки останова в Visual Studio предоставляют широкий набор дополнительных функций, таких как условные точки останова и точки трассировки. Дополнительные сведения см. в разделе [использование точек останова](../debugger/using-breakpoints.md).  
  
### <a name="run-to-a-function-breakpoint"></a>Выполнение до точки останова в функции  

Можно настроить отладчик для запуска, пока не достигнет указанной функции. Можно задать функцию по имени, или можно выбрать ее из стека вызовов.  
  
**Чтобы указать точки останова в функции по имени**

1. Выберите **Отладка** > **новую точку останова** > **точка останова в функции**
   
1. В **новой точки останова в функции** диалоговое окно, введите имя функции и выберите свой язык.
   
   ![Новое диалоговое окно точки останова в функции](../debugger/media/dbg_execution_newbreakpoint.png "новой точки останова в функции")  
   
1. Нажмите кнопку **ОК**. 

Если функция перегружается или в нескольких пространствах имен, можно выбрать нужный параметр в **точки останова** окна.  

![Перегруженные функции точки останова](../debugger/media/dbg_execution_overloadedbreakpoints.png "перегруженные функции точки останова")  
  
**Установите точки останова в функции из стека вызовов** 
  
1. Во время отладки, откройте **стек вызовов** окно, выбрав **Отладка** > **Windows** > **стек вызовов**. 
   
1. В **стек вызовов** , щелкните функцию правой кнопкой мыши и выберите пункт **выполнить до курсора**, или нажмите клавишу **Ctrl**+**F10**.  

Визуальном отслеживании стека вызовов, см. в разделе [сопоставление методов в стеке вызовов при отладке](../debugger/map-methods-on-the-call-stack-while-debugging-in-visual-studio.md).  
  
### <a name="run-to-a-cursor-location"></a>Выполнение до расположения курсора  

Чтобы выполнить код до положения курсора в исходном коде или **стек вызовов** окно, выберите строку, чтобы прервать выполнение, щелкните правой кнопкой мыши и выберите **выполнить до курсора**, или нажмите клавишу **Ctrl** + **F10**. Выбрав **выполнить до курсора** аналогично заданию временной точки останова.

### <a name="run-to-click"></a>Выполнение до щелкнутого 

Во время приостановки в отладчике, можно навести указатель инструкции в исходном коде или **Дизассемблированный код** затем выберите **выполнить до этого здесь** зеленой стрелки. С помощью **выполнение до щелкнутого** избавляет от необходимости задать временной точки останова.

![Выполнение до щелкнутого](../debugger/media/dbg-run-to-click.png "выполнение до щелкнутого") 

> [!NOTE]
> **Выполнение до щелкнутого** возможности [!include[vs_dev15](../misc/includes/vs_dev15_md.md)].
  
### <a name="manually-break-into-code"></a>Приостановка выполнения кода вручную  
  
Чтобы приостановить выполнение на следующей доступной строке кода в выполняющемся приложении, выберите **Отладка** > **прервать все**, или нажмите клавишу **Ctrl**+**Alt**  + **Прервать**. 
  
##  <a name="BKMK_Set_the_next_statement_to_execute"></a> Переместите указатель для изменения хода выполнения  

Приостановив отладчик, желтая стрелка на границе исходного кода или **Дизассемблированный код** окна, отмечает размещение следующего оператора для выполнения. Вы можете изменить следующий оператор для выполнения посредством перемещения этой стрелки. Можно пропустить часть кода или вернуться к предыдущей строке. Перемещение указателя удобна в случаях, таких как пропуск раздела кода, содержащего известную ошибку.  

 ![Переместите указатель](../debugger/media/dbg_basics_example3.gif "указатель")
  
Чтобы изменить следующий оператор для выполнения, отладчик должен находиться в режиме приостановки выполнения. В исходном коде или **Дизассемблированный код** окно, перетащите желтую стрелку в другую строку или щелкните правой кнопкой мыши строку, требуется выполнить следующей и выберите **задать следующий оператор**. 

Регистр счетчика переходит непосредственно к новое расположение, а также инструкции между выполнениями старой и новой точками не выполняются. Тем не менее при перемещении точки выполнения обратной, промежуточные инструкции не отменено.  

>[!CAUTION]
>- Перемещение следующего оператора на другую функцию или область обычно приводит к повреждению стека вызова, вызывая ошибку времени выполнения или исключение. При попытке перемещения следующего оператора в другую область, отладчик открывает диалоговое окно с предупреждением и предоставляет возможность отменить операцию. 
>- В Visual Basic нельзя переместить следующий оператор на другую область или функцию.  
>- Если при использовании машинного кода C++ включены проверки времени выполнения, установка следующего оператора может вызвать исключение, когда выполнение достигнет конца метода.  
>- При включенной операции "Изменить и продолжить" команда **Задать следующий оператор** завершится неудачей, если вы внесете изменения, которые операция "Изменить и продолжить" не сможет немедленно применить. Например, это может произойти, если были внесены изменения внутри блока catch. В этом случае сообщение об ошибке о том, что операция не поддерживается.  
>- В управляемом коде нельзя перемещать следующий оператор, если:  
>   - Следующий оператор находится в методе, отличном от метода текущего оператора.  
>   - Отладка была запущена Just-In-Time отладки.  
>   - Выполняется очистка стека вызова.  
>   - Вызвано исключение System.StackOverflowException или System.Threading.ThreadAbortException.  
  
## <a name="BKMK_Restrict_stepping_to_Just_My_Code"></a>Отладка не написанный пользователем код  

По умолчанию отладчик попытается отладке только кода приложения, включив параметр с именем *Just My Code*. Дополнительные сведения о работе этой функции для различных типов проектов и языков, и как его можно настроить, см. в разделе [Just My Code](../debugger/just-my-code.md). 

Чтобы просмотреть код платформы, библиотеки стороннего кода или системные вызовы во время отладки, можно отключить только мой код. В **средства** (или **Отладка**) > **параметры** > **Отладка**снимите **включить только мой код** "флажок". При отключении Just My Code не написанный пользователем код отображается в окнах отладчика, и отладчик может войти в код не написанный пользователем.  

> [!NOTE]
> Режим "Только мой код" не поддерживается для проектов устройств.  
  
### <a name="debug-system-code"></a>Отладка кода системы

Если у вас загрузить отладочные символы для системного кода Майкрософт и отключить только мой код, можно выполнить пошаговую отладку системного вызова, так же, как любых других вызовов.  
  
Чтобы загрузить символы Майкрософт, см. в разделе [настроить расположения символов и возможности загрузки](specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md#configure-symbol-locations-and-loading-options).  
  
**Чтобы загрузить символы для определенного системного компонента:**

1. Во время отладки, откройте **модули** окно, выбрав **Отладка** > **Windows** > **модули**, или нажав клавиши **Ctrl**+**Alt**+**U**.  
  
1. В **модули** окно, вы можете определить, какие модули имеют символы загружены в **состояние символов** столбца. Щелкните правой кнопкой мыши модуль, который требуется загрузить символы для и выберите **загрузить символы**.  
  
##  <a name="BKMK_Step_into_properties_and_operators_in_managed_code"></a> Шаг с заходом в свойства и операторы в управляемом коде  
 По умолчанию отладчик обходит свойства и операторы при пошаговом выполнении в управляемом коде. В большинстве случаев это делает отладку более удобной и эффективной. Включение захода в свойства или операторы, выберите **Отладка** > **параметры**. На **Отладка** > **Общие** странице снимите **обход свойств и операторов (только управляемый код)** "флажок".

## <a name="see-also"></a>См. также
 [Что выполняет отладку?](../debugger/what-is-debugging.md)  
 [Лучше писать C# кода с помощью Visual Studio](../debugger/write-better-code-with-visual-studio.md)  
 [Сначала посмотрим, отладка](../debugger/debugger-feature-tour.md) 
