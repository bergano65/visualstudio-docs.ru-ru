---
title: Запуск программы C#
description: Руководство для начинающих о том, как запустить программу C# в Visual Studio.
ms.custom: get-started
ms.date: 10/16/2019
ms.technology: vs-ide-general
ms.prod: visual-studio-windows
ms.topic: tutorial
ms.devlang: CSharp
author: ghogen
ms.author: ghogen
manager: jmartens
dev_langs:
- CSharp
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: bbebcec3f5b2de01bcbfa7839f68e6f7a3e2cc64
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99922841"
---
# <a name="how-to-run-a-c-program-in-visual-studio"></a>Практическое руководство. Запуск программы C# в Visual Studio

Действия, необходимые для запуска программы, зависят от того, с чего вы начинаете, какой тип программы, приложения или службы используете и хотите ли произвести запуск в отладчике. В самом простом случае, когда проект открыт в Visual Studio, выполните его сборку и запуск, нажав клавиши **CTRL**+**F5** (**Запуск без отладки**) или **F5** (**Запуск с отладкой**) или нажмите зеленую стрелку (**кнопка запуска**) на главной панели инструментов Visual Studio.

![Снимок экрана: кнопка запуска](media/vs-start-button.png)

## <a name="starting-from-a-project"></a>Запуск из проекта

Если у вас есть проект C# (файл *CSPROJ*), его можно запустить, если это исполняемая программа. Если проект содержит файл C# с методом `Main`, а его выходные данные представляют собой исполняемый файл (EXE), скорее всего, он запустится в случае успешной сборки.

Если у вас уже есть код для программы в проекте Visual Studio, откройте этот проект. Чтобы открыть проект, дважды щелкните файл *CSPROJ* в проводнике Windows или в Visual Studio, выберите **Открыть проект**, найдите файл проекта (*CSPROJ*) и выберите его.

После загрузки проекта в Visual Studio нажмите клавиши **CTRL**+**F5** (**Запуск без отладки**) или используйте зеленую кнопку **Пуск** на панели инструментов Visual Studio, чтобы запустить программу.  Если существует несколько проектов, то проект с методом `Main` нужно задать в качестве запускаемого. Чтобы задать запускаемый проект, щелкните правой кнопкой мыши узел проекта и выберите **Назначить запускаемым проектом**.

![Задание запускаемого проекта](media/set-as-startup-project.png)

Visual Studio пытается выполнить сборку и запуск проекта.  При наличии ошибок сборки выходные данные сборки отображаются в окне **Выход**, а ошибки — в окне **Список ошибок**.

Если сборка выполнена успешно, приложение запускается соответствующим типу проекта способом. Консольные приложения запускаются в окне терминала, классические приложения Windows запускаются в новом окне, веб-приложения запускаются в браузере (размещенном в IIS Express) и т. д.

## <a name="starting-from-code"></a>Запуск из кода

Если вы выполняете запуск из листинга кода, файла кода или небольшого числа файлов, сначала убедитесь, что запускаемый код происходит из надежного источника и является запускаемой программой. Если в нем есть метод `Main`, он, скорее всего, является запускаемой программой, для которой можно использовать шаблон консольного приложения, чтобы создать проект для работы в Visual Studio.

### <a name="code-listing-for-a-single-file"></a>Листинг кода для отдельного файла

Запустите Visual Studio, откройте пустой консольный проект C#, выберите весь код в файле CS, который уже находится в проекте, и удалите его. Затем вставьте содержимое кода в файл CS. При вставке кода перезапишите или удалите код, который существовал ранее. Переименуйте файл в соответствии с исходным кодом.

### <a name="code-listings-for-a-few-files"></a>Листинги кода для нескольких файлов

Запустите Visual Studio, откройте пустой консольный проект C#, выберите весь код в файле CS, который уже находится в проекте, и удалите его. Затем вставьте содержимое первого файла кода в файл CS. Переименуйте файл в соответствии с исходным кодом. 

Для второго файла щелкните правой кнопкой мыши узел проекта в **обозревателе решений**, чтобы открыть контекстное меню для проекта, и выберите **Добавить > Существующий элемент** (или используйте сочетание клавиш **SHIFT**+**ALT**+**A**) и выберите файлы кода.

### <a name="multiple-files-on-disk"></a>Несколько файлов на диске

1. Создайте проект соответствующего типа (если не уверены, используйте **консольное приложение** C#).

2. Щелкните правой кнопкой мыши узел проекта, выберите **Добавить** > **Существующий элемент**, чтобы выбрать файлы и импортировать их в проект.  

### <a name="starting-from-a-folder"></a>Запуск из папки

При работе с папкой, содержащей множество файлов, сначала проверьте наличие проекта или решения.  Если программа была создана с помощью Visual Studio, необходимо найти файл проекта или решения. Найдите файлы с расширением *CSPROJ* или SLN, а затем в проводнике Windows дважды щелкните один из них, чтобы открыть его в Visual Studio. См. раздел [Запуск из проекта или решения Visual Studio](#starting-from-a-project).

Если у вас нет файла проекта, например, если код был написан в другой среде разработки, откройте папку верхнего уровня с помощью функции **Открыть папку** в Visual Studio. См. раздел [Разработка кода без использования проектов и решений](../../ide/develop-code-in-visual-studio-without-projects-or-solutions.md).

## <a name="starting-from-a-github-or-azure-devops-repo"></a>Запуск из репозитория Azure DevOps или GitHub

Если код, который вы хотите запустить, находится в GitHub или в репозитории Azure DevOps, можно использовать Visual Studio, чтобы открыть проект непосредственно из репозитория. См. раздел [Открытие проекта из репозитория](../tutorial-open-project-from-repo.md).

## <a name="run-the-program"></a>Запуск программы

Чтобы запустить программу, нажмите зеленую стрелку (кнопка **запуска**) на главной панели инструментов Visual Studio либо нажмите клавиши **F5** или **CTRL**+**F5** для запуска программы. При использовании кнопки **Пуск** запуск выполняется в отладчике.  Visual Studio пытается выполнить сборку кода в проекте и запустить его.  Если это работает, отлично! В противном случае продолжайте чтение для получения некоторых сведений о том, как добиться успешной сборки.

## <a name="troubleshooting"></a>Устранение неполадок

Код может содержать ошибки, но если он правильный, однако зависит от других сборок или пакетов NuGet или был ориентирован на другую версию .NET, вы можете легко исправить это.

### <a name="add-references"></a>Добавление ссылок

Для успешной сборки код должен быть правильным и иметь правильные ссылки на библиотеки или другие зависимости. Наличие ошибок в программе до ее компиляции или запуска можно определить по наличию красных волнистых линий, а также в окне **Список ошибок**. Если возникают ошибки, связанные с неразрешенными именами, возможно, потребуется добавить ссылку и (или) директиву using. Если код ссылается на любые сборки или пакеты NuGet, необходимо добавить эти ссылки в проект.

Visual Studio пытается помочь определить отсутствующие ссылки. Если имя не разрешено, в редакторе появляется значок лампочки. Если щелкнуть лампочку, можно увидеть некоторые рекомендации по устранению проблемы. Возможные исправления:

- добавление директивы using;
- добавление ссылки на сборку;
- установка пакета NuGet.

#### <a name="missing-using-directive"></a>Отсутствующая директива using

Например, на следующем экране можно добавить `using System;` в начало файла кода, чтобы разрешить неразрешенное имя `Console`:

![Снимок экрана: лампочка для добавления директивы using](media/name-does-not-exist2.png)

#### <a name="missing-assembly-reference"></a>Отсутствующая ссылка на сборку

Ссылки .NET принимать форму сборок или пакетов NuGet. Как правило, если вы находите исходный код, издатель или автор поясняет, какие сборки необходимы и от каких пакетов зависит код. Чтобы добавить ссылку на проект вручную, щелкните правой кнопкой мыши узел **Ссылки** в **обозревателе решений**, выберите **Добавить ссылку** и укажите нужную сборку.

![Снимок экрана: меню "Добавление ссылки"](media/add-reference.png)

Вы можете найти сборки и добавить ссылки, следуя инструкциям в разделе [Добавление и удаление ссылок с помощью диспетчера ссылок](../../ide/how-to-add-or-remove-references-by-using-the-reference-manager.md).

#### <a name="missing-nuget-package"></a>Отсутствующий пакет NuGet

Если Visual Studio обнаруживает отсутствующий пакет NuGet, появляется лампочка, позволяющая установить его:

![Снимок экрана: лампочка для установки пакета](media/lightbulb-add-package.png)

Если это не решает проблему и Visual Studio не удается найти пакет, попробуйте выполнить поиск в Интернете. См. раздел [Установка и использование пакета NuGet в Visual Studio](/nuget/quickstart/install-and-use-a-package-in-visual-studio).

## <a name="use-the-right-version-of-net"></a>Использование правильной версии .NET

Так как разные версии .NET Framework обеспечивают некоторую степень обратной совместимости, более новая платформа может выполнять код, написанный для более старой платформы, без каких-либо изменений. Но иногда необходимо ориентироваться на конкретную платформу. Вам может потребоваться установить определенную версию .NET Framework или .NET Core, если она еще не установлена. См. раздел [Изменение Visual Studio](../../install/modify-visual-studio.md).

Чтобы изменить требуемую версию .NET Framework, см. раздел [Изменение требуемой версии .NET Framework](../../ide/visual-studio-multi-targeting-overview.md#select-a-target-framework-version). Дополнительные сведения см. в разделе [Устранение неполадок, связанных с настройкой для определенных версий платформы .NET Framework](../../msbuild/troubleshooting-dotnet-framework-targeting-errors.md).

## <a name="next-steps"></a>Следующие шаги

Изучите среду разработки Visual tudio, прочитав раздел [Добро пожаловать в интегрированную среду разработки Visual Studio](../visual-studio-ide.md).

## <a name="see-also"></a>См. также

[Создание первого приложения C#](tutorial-console.md)
