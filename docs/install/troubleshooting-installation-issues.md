---
title: Устранение ошибок установки или обновления
description: Иногда возникают проблемы. Если происходит сбой установки или обновления Visual Studio, эта страница может помочь решить проблему.
ms.date: 09/13/2019
ms.custom: seodec18
ms.topic: troubleshooting
helpviewer_keywords:
- '{{PLACEHOLDER}}'
- '{{PLACEHOLDER}}'
ms.assetid: 556EDD3F-E365-43EE-B3DD-03AA4353F75B
author: jillre
ms.author: jillfra
manager: jillfra
ms.workload:
- multiple
ms.prod: visual-studio-windows
ms.technology: vs-installation
ms.openlocfilehash: fe581d9c754ee78f66771901661e8870fd91b4b3
ms.sourcegitcommit: c150d0be93b6f7ccbe9625b41a437541502560f5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2020
ms.locfileid: "75849597"
---
# <a name="troubleshoot-visual-studio-installation-and-upgrade-issues"></a>Устранение неполадок при установке и обновлении Visual Studio

> [!IMPORTANT]
> Возможно, у вас возникли проблемы с установкой? Мы готовы помочь. Мы предлагаем для поддержки [**чат в реальном времени**](https://visualstudio.microsoft.com/vs/support/#talktous) (только на английском языке).

Это руководство содержит пошаговые инструкции, которые помогут устранить большинство проблем при установке.

## <a name="online-installations"></a>Установка через Интернет

Следующие действия оптимизированы для стандартной установки через Интернет. Проблемы, которые возникают при автономной установке, описаны в разделе [Устранение неполадок с автономной установкой](#offline-installations).

### <a name="step-1---check-whether-this-problem-is-a-known-issue"></a>Шаг 1. Проверьте, не связана ли эта ошибка с известными проблемами

::: moniker range="vs-2017"

Существуют несколько известных проблем с установщиком Visual Studio, и корпорация Майкрософт работает над их устранением. Чтобы найти способ обойти эту проблему, проверьте [раздел известных проблем в заметках о выпуске](/visualstudio/releasenotes/vs2017-relnotes#-known-issues).

::: moniker-end

::: moniker range="vs-2019"

Существуют несколько известных проблем с установщиком Visual Studio, и корпорация Майкрософт работает над их устранением. Чтобы найти способ обойти эту проблему, проверьте [раздел известных проблем в заметках о выпуске](/visualstudio/releases/2019/release-notes#-known-issues).

::: moniker-end

### <a name="step-2---check-with-the-developer-community"></a>Шаг 2. Обратитесь к сообществу разработчиков

Попробуйте найти полученное сообщение об ошибке в [сообществе разработчиков Visual Studio](https://developercommunity.visualstudio.com/spaces/8/index.html). Возможно, другие члены сообщества уже описали решение для вашей проблемы.

### <a name="step-3---delete-the-visual-studio-installer-directory-to-fix-upgrade-problems"></a>Шаг 3. Удалите каталог с установщиком Visual Studio, чтобы устранить проблемы, связанные с обновлением

Загрузчик установщика Visual Studio представляет собой минимально необходимый исполняемый файл небольшого размера, который устанавливает остальную часть установщика Visual Studio. Если вы удалите файлы установщика Visual Studio и повторно запустите загрузчик, это может решить некоторые ошибки, связанные с обновлением.

> [!NOTE]
> С помощью следующей процедуры можно переустановить файлы Visual Studio Installer и сбросить метаданные установки.

::: moniker range="vs-2017"

1. Закройте установщик Visual Studio.
2. Удалите каталог установщика Visual Studio. Как правило, это каталог `C:\Program Files (x86)\Microsoft Visual Studio\Installer`.
3. Запустите загрузчик установщика Visual Studio. Файл загрузчика с именем в формате `vs_[Visual Studio edition]__*.exe` можно найти в папке загрузок. Если вы не найдете это приложение, можно заново скачать загрузчик со [страницы загрузки Visual Studio](https://visualstudio.microsoft.com/vs/older-downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=vs+2017+download), нажав кнопку **Скачать** для нужного выпуска Visual Studio. Запустите этот исполняемый файл, чтобы сбросить метаданные установки.
4. Снова попробуйте установить или обновить Visual Studio. Если запуск установщика снова завершится ошибкой, переходите к следующему шагу.

::: moniker-end

::: moniker range="vs-2019"

1. Закройте установщик Visual Studio.
2. Удалите каталог установщика Visual Studio. Как правило, это каталог `C:\Program Files (x86)\Microsoft Visual Studio\Installer`.
3. Запустите загрузчик установщика Visual Studio. Файл загрузчика с именем в формате `vs_[Visual Studio edition]__*.exe` можно найти в папке загрузок. Если вы не найдете это приложение, можно заново скачать загрузчик со [страницы загрузки Visual Studio](https://visualstudio.microsoft.com/downloads), нажав кнопку **Скачать** для нужного выпуска Visual Studio. Запустите этот исполняемый файл, чтобы сбросить метаданные установки.
4. Снова попробуйте установить или обновить Visual Studio. Если запуск установщика снова завершится ошибкой, переходите к следующему шагу.

::: moniker-end

### <a name="step-4---report-a-problem"></a>Шаг 4. Сообщите о проблеме

В некоторых случаях, например при повреждении файлов, требуется частный подход. Чтобы нам было проще помочь вам, выполните следующее:

::: moniker range="vs-2017"

1. Соберите файлы журналов установки. Подробные сведения см. в разделе [Как получить журналы установки Visual Studio](#installation-logs).
2. Откройте установщик Visual Studio и нажмите кнопку **Сообщить о проблеме**, чтобы открыть средство обратной связи Visual Studio.
![Чтобы открыть средство обратной связи, можно перейти к кнопе "Предоставление отзыва" с помощью клавиши табуляции](media/report-a-problem.png)
3. Присвойте заголовок вашему отчету об ошибке и опишите все важные сведения. Нажмите кнопку **Далее**, чтобы перейти к разделу **Вложения**, а затем вложите созданный файл журнала (обычно этот файл находится по пути `%TEMP%\vslogs.zip`).
4. Щелкните **Далее**, чтобы просмотреть свой отчет об ошибках, а затем нажмите кнопку **Отправить**.

::: moniker-end

::: moniker range="vs-2019"

1. Соберите файлы журналов установки. Подробные сведения см. в разделе [Как получить журналы установки Visual Studio](#installation-logs).
2. Откройте установщик Visual Studio и нажмите кнопку **Сообщить о проблеме**, чтобы открыть средство обратной связи Visual Studio.
![Чтобы открыть средство обратной связи, можно перейти к кнопе "Предоставление отзыва" с помощью клавиши табуляции](media/vs-2019/vs-installer-report-problem.png)
3. Присвойте заголовок вашему отчету об ошибке и опишите все важные сведения. Нажмите кнопку **Далее**, чтобы перейти к разделу **Вложения**, а затем вложите созданный файл журнала (обычно этот файл находится по пути `%TEMP%\vslogs.zip`).
4. Щелкните **Далее**, чтобы просмотреть свой отчет об ошибках, а затем нажмите кнопку **Отправить**.

::: moniker-end

### <a name="step-5---run-installcleanupexe-to-remove-installation-files"></a>Шаг 5. Выполнение программы InstallCleanup.exe для удаления файлов установки

В качестве последнего средства можно [удалить Visual Studio](remove-visual-studio.md), чтобы удалить все файлы установки и сведения о продукте.

1. Следуйте инструкциям в разделе [Удаление Visual Studio](remove-visual-studio.md).
2. Повторно запустите загрузчик, описанный в разделе [Шаг 3. Удалите каталог с установщиком Visual Studio, чтобы устранить проблемы, связанные с обновлением](#step-3---delete-the-visual-studio-installer-directory-to-fix-upgrade-problems).
3. Снова попробуйте установить или обновить Visual Studio.

### <a name="step-6---contact-us-optional"></a>Шаг 6. Связь с нами (необязательно)

Если вы выполнили все вышеуказанные шаги, но вам так и не удалось установить или обновить Visual Studio, свяжитесь с нами через [**чат в реальном времени**](https://visualstudio.microsoft.com/vs/support/#talktous) (только на английском языке) для получения дополнительной помощи.

## <a name="offline-installations"></a>Автономная установка

Здесь мы приводим список известных проблем и варианты обходных действий, которые могут помочь при создании [автономной установки](create-an-offline-installation-of-visual-studio.md) и последующей установке из локального источника.

| Проблемы       | Элемент                   | Решение |
| ----------- | ---------------------- | -------- |
| У пользователей отсутствуют права доступа к файлам. | Разрешения (ACL) | *Прежде* чем открывать общий доступ к автономной установке, необходимо настроить разрешения (ACL) и предоставить пользователям права на чтение. |
| Не удается установить новые рабочие нагрузки, компоненты или языки.  | `--layout`  | Если вы производите установку из частичного макета и выбираете рабочие нагрузки, компоненты или языки, которые не скачаны в этот макет, вам потребуется доступ в Интернет. |

Дополнительные сведения об устранении проблем с [сетевой установкой](create-a-network-installation-of-visual-studio.md) см. в статье [Исправление ошибок сети при установке или использовании Visual Studio](troubleshooting-network-related-errors-in-visual-studio.md).

## <a name="installation-logs"></a>Журналы установки

Для устранения большинства неполадок при установке необходимы журналы установки. При отправке проблемы с помощью средства [сообщения о проблеме](../ide/how-to-report-a-problem-with-visual-studio.md) в Visual Studio Installer эти журналы автоматически включаются в отчет.

Если вы обращаетесь в службу поддержки Майкрософт, для отправки этих журналов установки может понадобиться [средство сбора журналов для Microsoft Visual Studio и .NET Framework](https://www.microsoft.com/download/details.aspx?id=12493). Средство сбора журналов собирает журналы установки для всех компонентов, устанавливаемых Visual Studio, включая .NET Framework, Windows SDK и SQL Server. Оно также собирает сведения о компьютере, данные инвентаризации установщика Windows и сведения журнала событий Windows для Visual Studio Installer, установщика Windows и восстановления системы.

Чтобы собрать журналы, выполните указанные ниже действия.

1. [Скачайте средство](https://www.microsoft.com/download/details.aspx?id=12493).
2. Откройте командную строку от имени администратора.
3. Запустите файл `Collect.exe` из каталога, в котором сохранено средство.
4. Найдите итоговый файл `vslogs.zip` в каталоге `%TEMP%`, например `C:\Users\YourName\AppData\Local\Temp\vslogs.zip`.

> [!NOTE]
> Запускайте средство с помощью той же учетной записи пользователя, с помощью которой запускалась завершившаяся сбоем установка. Если вы запускаете средство с помощью другой учетной записи, задайте параметр `–user:<name>`, чтобы указать учетную запись пользователя, с помощью которой запускалась завершившаяся сбоем установка. Чтобы просмотреть дополнительные параметры и сведения об использовании, запустите `Collect.exe -?` из командной строки администратора.

## <a name="live-help"></a>Помощь в реальном времени

Если решения, приведенные в этом руководстве по устранению неполадок, не помогли вам установить или обновить Visual Studio, воспользуйтесь [**чатом в реальном времени**](https://visualstudio.microsoft.com/vs/support/#talktous) (только на английском языке) для получения дополнительной помощи.

## <a name="see-also"></a>См. также

* [Удаление Visual Studio](remove-visual-studio.md)
* [Установка и использование Visual Studio и служб Azure, расположенных за брандмауэром или прокси-сервером](install-and-use-visual-studio-behind-a-firewall-or-proxy-server.md)
* [Средства для обнаружения экземпляров Visual Studio и управления ими](tools-for-managing-visual-studio-instances.md)
* [Руководство администратора Visual Studio](visual-studio-administrator-guide.md)
