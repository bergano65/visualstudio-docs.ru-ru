---
title: Устранение неполадок решений SharePoint | Документация Майкрософт
ms.custom: ''
ms.date: 02/22/2017
ms.technology:
- office-development
ms.topic: conceptual
f1_keywords:
- Microsoft.VisualStudio.Tools.SharePoint.Errors.Debugging
dev_langs:
- VB
- CSharp
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, troubleshooting
author: TerryGLee
ms.author: tglee
manager: douge
ms.workload:
- office
ms.openlocfilehash: 103595772c5597eadb251e1d21befba88df2c9d2
ms.sourcegitcommit: f6dd17b0864419083d0a1bf54910023045526437
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/27/2018
ms.locfileid: "53803205"
---
# <a name="troubleshoot-sharepoint-solutions"></a>Устранение неполадок решений SharePoint
  Следующие проблемы или предупреждения могут возникнуть при отладке решений SharePoint с помощью [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] отладчика. Дополнительные сведения см. в разделе [отладку решений рабочего процесса SharePoint 2007](https://msdn.microsoft.com/3a5392f3-66f3-48be-956e-02de23fa6247).

## <a name="token-restrictions-in-sandboxed-visual-web-parts"></a>Ограничения токенов в изолированных визуальных веб-частей
 Визуальные веб-части в изолированных решениях не могут обрабатывать стандартные токены, например $SPUrl, которые поддерживает среда выполнения SharePoint. В результате URL-адрес не может быть разрешен, и нельзя просмотреть содержимое в конструкторе в конструкторе визуальной веб-части при ссылке на него непосредственно в элементе скрипта, как в следующем примере:

```xml
<script src="<% $SPUrl:~site/SiteAssets/ListOperations.js %>"></script>
```

 Для обхода этого ограничения и разрешения токенов на него ссылаются с помощью литералов:

```xml
<asp:literal ID="Literal1" runat="server" Text="<script src='" />
<asp:literal ID="Literal2" runat="server" Text="<% $SPUrl:~site/SiteAssets/ListOperations.js %>" />
<asp:literal ID="Literal3" runat="server" Text="' type='text/javascript' ></script>" />
```

## <a name="character-restrictions-in-names-of-projects-and-project-items"></a>Ограничения на символы в именах проектов и элементов проекта
 Названия проекта и его элементов могут содержать только символы, допустимые для пути развертывания в SharePoint 2010. Другие символы не допускаются.

### <a name="error-message"></a>Сообщение об ошибке
 Сообщение об ошибке «Недопустимые символы».

### <a name="resolution"></a>Решение
 Для названий проектов SharePoint и элементов проектов используйте только следующие знаки:

- Буквенно-цифровые символы ASCII

- Пробел

- Точка (.)

- Запятая ()

- Символ подчеркивания (_)

- Тире (—)

- Обратная косая черта (\\)

  Во время упаковки проекта правило проверки проверяет, что свойство "Путь развертывания" каждого разворачиваемого файла содержит только допустимые знаки.

## <a name="errors-when-creating-custom-fields"></a>Ошибки при создании настраиваемых полей
 Настраиваемые поля в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] определяются в XML. Может возникнуть ошибка, если поле не определено или на него не существует ссылка в определенном формате.

### <a name="error-message"></a>Сообщение об ошибке
 Сообщение об ошибке «Недопустимые символы» во время упаковки.

### <a name="resolution"></a>Решение
 Идентификатор для определения поля должен представлять собой GUID, заключенный в фигурные скобки, как показано в следующем примере:

```xml
<Field ID="{5744d18c-305e-4632-8bd1-09d134f4830d}"
    Type="Note"
    Name="PatientName"
    DisplayName="Patient Name"
    Group="A Custom Group">
</Field>.
```

 Как показано в следующем примере, ссылка на поле в типе содержимого должны определяться с помощью формата пустого элемента (\<FieldRef / >), не используя элементов начало/конец (\<FieldRef >\</FieldRef >):

```xml
<FieldRef ID="{5744d18c-305e-4632-8bd1-09d134f4830d}"
    Name="PatientName"
    DisplayName="Patient Name"
    Required="TRUE"/>
```

 Если для поля существует проблема с исходным XML-файлом, например, неверный формат или недопустимый XML-файл, возникает ошибка "Невозможно обработать файл".

## <a name="new-non-english-site-definitions-do-not-appear-in-site-creation-page-after-deployment"></a>Новое определение сайта неанглийские не отображаются на странице создания сайта после развертывания
 После создания и развертывания нового определения сайта с помощью локализованная версия [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] (то есть версия с локальным [!INCLUDE[TLA2#tla_id](../sharepoint/includes/tla2sharptla-id-md.md)] отличным от 1033), **пользовательские разработки SharePoint** вкладка не отображается в **Выбор шаблона** поле и новый шаблон сайта не отображается в **новый узел SharePoint** страницы.

### <a name="error-message"></a>Сообщение об ошибке
 Отсутствует.

### <a name="resolution"></a>Решение
 Эта проблема возникает из-за неверного значения в **путь** свойство для определения конфигурации сайта webtemp файлы, например *webtemp_SiteDefinitionProject1.xml*. В **путь** свойство для файла webtemp, расположенного в **расположение развертывания**, соответствующий языковой стандарт, замените 1033 [!INCLUDE[TLA2#tla_id](../sharepoint/includes/tla2sharptla-id-md.md)]. Например чтобы использовать японский языковой стандарт измените значение на 1041. Дополнительные сведения см. в разделе [Locale IDs Assigned by Microsoft](http://go.microsoft.com/fwlink/?LinkID=165561).

## <a name="error-appears-when-a-workflow-project-is-deployed-on-a-clean-system"></a>Ошибка возникает при развертывании проекта рабочего процесса в чистой системе
 Эта проблема возникает при развертывании проекта рабочего процесса в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] в чистой системе. Чистая система является компьютером, с недавно установленными [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и SharePoint, но на котором не развернуты проекты рабочего процесса.

### <a name="error-message"></a>Сообщение об ошибке
 Не удается найти список SharePoint: Журнал рабочего процесса.

### <a name="resolution"></a>Решение
 Эта ошибка возникает из-за отсутствующих списка журнала рабочего процесса. Так как среда разработки является чистой системы, рабочих процессов не развертываются и список журнала рабочего процесса еще не существует. Чтобы устранить эту проблему, снова откройте мастер рабочего процесса, который вызывает список журнала рабочего процесса должен быть создан.

##### <a name="to-reenter-the-workflow-wizard"></a>Повторный ввод мастер рабочего процесса

1.  В **обозревателе решений**, выберите узел рабочего процесса.

2.  В **свойства** окно, нажмите кнопку с многоточием (...) для любого свойства, имеющем кнопку многоточия.

## <a name="user-must-refresh-application-page-in-browser-while-debugging-to-view-updated-image"></a>Пользователь должен обновить страницу приложения в браузере во время отладки для просмотра обновленного образа
 При отладке решения SharePoint, содержащего страницу приложения с элементом управления, который отображает изображение, например [!INCLUDE[TLA2#tla_html](../sharepoint/includes/tla2sharptla-html-md.md)] рисунка, необходимо обновить страницу в браузере, чтобы отобразить любые изменения, внесенные в образ.

## <a name="error-the-site-location-is-not-valid"></a>Ошибка: Недопустимое расположение узла
 Эта проблема может возникнуть, если [!INCLUDE[moss_14_short](../sharepoint/includes/moss-14-short-md.md)] не установлен. Она также может возникать, если у вас нет административного доступа к веб-сайта SharePoint, указанной в **мастер настройки SharePoint**.

### <a name="error-message"></a>Сообщение об ошибке

-   Недопустимое расположение сайта SharePoint.

### <a name="resolution"></a>Решение

-   Установите [!INCLUDE[moss_14_short](../sharepoint/includes/moss-14-short-md.md)].

-   Убедитесь, что имеется доступ с правами администратора на сайте SharePoint. Дополнительные сведения см. в разделе [!INCLUDE[TLA2#tla_office](../sharepoint/includes/tla2sharptla-office-md.md)] онлайн-статья [назначать или удалять администраторов службы приложений в SharePoint Server](https://docs.microsoft.com/sharepoint/administration/assign-or-remove-administrators-of-service-applications).

## <a name="site-deletion-web-event-does-not-occur-in-event-receiver-project"></a>Веб-событие удаления сайта отсутствует в проекте приемника событий
 При создании проекта приемника событий и выборе некоторых событий, такие как «удаляется сайт», событие не происходит.

### <a name="error-message"></a>Сообщение об ошибке
 Отсутствует.

### <a name="resolution"></a>Решение
 Эта проблема возникает, так как область компонента должен быть «Сайт» для обработки событий уровня веб-сайта, а область компонента по умолчанию для проекта приемника событий является «Web». Веб событиям относятся:

- Сайт удален (WebDeleting)

- Удален сайт (WebDeleted)

- Сайт перемещен (WebMoving)

- Перемещен сайт (WebMoved)

  Чтобы исправить эту проблему, измените область компонента приемника событий, следующим образом.

##### <a name="to-change-the-feature-scope-of-the-event-receiver"></a>Чтобы изменить область компонента приемника событий

1.  В **обозревателе решений**, откройте приемника событий *.feature* файл **конструктора компонентов** , дважды щелкнув его или выбрав в контекстном меню и затем Выбор **откройте**.

2.  Выберите стрелку рядом с пунктом **область**, а затем выберите **сайта** в появившемся списке.

## <a name="deployment-error-appears-after-the-name-of-an-identifier-in-a-business-data-connectivity-model-project-is-changed"></a>Ошибка развертывания возникает после изменения имени идентификатора в проекте модели подключения к бизнес-данным
 Эта проблема возникает при изменении имени идентификатора сущности в модели бизнес-данным (BDC) и попробуйте развернуть решение.

### <a name="error-messages"></a>Сообщения об ошибках

-   \<*Имя модели*> содержит следующие ошибки активации внешнего типа содержимого...

-   Объекта IMetadataObject с именем "\<*имя_модели*>" имеет значение в поле «name» дублируется...

### <a name="resolution"></a>Решение
 Чтобы устранить эту проблему, вручную удалите модели и затем повторите развертывание.  Модель можно удалить с помощью любого из следующих средств:

-   Центр администрирования SharePoint 2010. Дополнительные сведения см. в разделе [Управление моделью BDC](http://go.microsoft.com/fwlink/?LinkID=181472) на сайте Microsoft TechNet.

-   Windows PowerShell Вы можете удалить модель, введя следующую команду в командной строке: **Remove-SPBusinessDataCatalogModel**. Дополнительные сведения см. в разделе [основные командлеты (SharePoint Server 2010)](http://go.microsoft.com/fwlink/?LinkID=182375) на сайте Microsoft TechNet.

## <a name="an-error-appears-when-you-try-to-view-a-visual-web-part-in-sharepoint"></a>Отображается сообщение об ошибке при попытке просмотра визуальной веб-части в SharePoint
 Эта проблема возникает, когда **путь** свойства пользовательского элемента управления не начинается со строки «шаблоны элементов УПРАВЛЕНИЯ\\«.

### <a name="error-messages"></a>Сообщения об ошибках

-   Файл "/_CONTROLTEMPLATES/*\<имя проекта >*/*\<имя веб-части >*/*\<пользовательский элемент управления имя >*.ascx "не существует.

-   Ошибка сервера в приложении «/».

### <a name="resolution"></a>Решение

##### <a name="to-resolve-this-issue"></a>Чтобы устранить эту проблему

1.  В **обозревателе решений**, выберите файл пользовательского элемента управления, с расширением имени файла *.ascx*.

2.  В строке меню выберите **представление** > **окно "Свойства"**.

3.  В **свойства** окне разверните **расположение развертывания** узла.

4.  Убедитесь, что значение **путь** свойство начинается со строки «CONTROLTEMPLATES\\«.

## <a name="error-appears-when-an-imported-reusable-workflow-that-contains-a-task-form-field-is-run"></a>Ошибка возникает при запуске импортированных повторно используемого рабочего процесса, который содержит поле формы задач.
 Эта проблема возникает, если вы импортируете рабочий процесс, содержащий форму задачи с полем, а затем запустите новый рабочий процесс в той же системе, из которого она была импортирована.

### <a name="error-message"></a>Сообщение об ошибке
 Произошла ошибка в шаге развертывания «Активация компонентов»: Поле с идентификатором [*Guid*] определенного в функции [*Guid*] найден в текущем семействе или дочернего узла.

### <a name="resolution"></a>Решение
 Эта ошибка является результатом конфликтов ИД полей возникать, если в проекте рабочего процесса для повторного использования импорта [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] не изменяет ИД поля формы задачи. Если вы развертываете импортируемого рабочего процесса на том же сервере, который содержит исходный рабочий процесс, конфликты ИД полей возникают.

 Чтобы устранить эту проблему, используйте функцию поиска и замены для изменения значения атрибута ID поля во всех файлах импортируемого рабочего процесса.

## <a name="error-appears-when-a-renamed-imported-list-instance-is-run"></a>Ошибка появляется при импорте переименованного запускается экземпляр списка
 Эта проблема возникает при переименовании импортированный экземпляр списка и запустите его в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)].

### <a name="error-message"></a>Сообщение об ошибке
 Ошибка сборки: Произошла ошибка в шаге развертывания «Активация компонентов»: Файл Template\Features\\[*Импорт проекта*<em>функция</em>*имя*] \Files\Lists\\[*старый* <em>имя списка</em>] \Schema.xml не существует.

### <a name="resolution"></a>Решение
 При импорте экземпляр списка, атрибут с именем CustomSchema добавляется в файл Elements.xml экземпляра списка. Elements.XML включает путь к пользовательских schema.xml экземпляра списка. При переименовании экземпляра списка в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)], изменяет путь развертывания пользовательского файла Schema.XML, но значение пути атрибута CustomSchema не обновляется. Таким образом, не удается найти экземпляр списка *schema.xml* файла в пути, который указан в атрибуте CustomSchema при активации функции.

 Чтобы устранить эту проблему, обновите путь к расположение развертывания *schema.xml* файла в атрибуте CustomSchema.

## <a name="sharepoint-debugging-session-terminated-by-iis"></a>Сеанс завершен службами IIS отладки SharePoint
 Эта проблема возникает, если вы задали точку останова в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] решения SharePoint, выберите **F5** клавишу, чтобы запустить его и последующей остановке в точке останова дольше 90 секунд.

### <a name="error-message"></a>Сообщение об ошибке
 Процессу веб-сервера был Завершён был завершен в Internet Information Services (IIS). Этого можно избежать, настроив параметры тестового опроса для пула приложений в IIS. См. в разделе справки для получения дополнительных сведений.

### <a name="resolution"></a>Решение
 По умолчанию пула приложений IIS ожидает ответа перед его закрытием приложения в течение 90 секунд. Этот процесс называется «проверки связи с» приложения. Чтобы устранить эту проблему, можно либо увеличить время ожидания, либо отключить опрос приложения.

##### <a name="to-access-the-iis-app-pool-settings"></a>Для доступа к параметрам пула приложений IIS

1.  Откройте диспетчер IIS.

2.  В **подключений** панели разверните узел сервера SharePoint и выберите **пулы приложений** узла.

3.  На **пулы приложений** выберите пул приложений SharePoint (как правило «SharePoint — 80»), а затем в **действия** панели выберите **Дополнительные параметры** ссылка.

4.  Чтобы увеличить время ожидания до истечения времени ожидания IIS, измените значение **максимальное время отклика пинга (в секундах)** которого является значение, превышающее 90 секунд.

5.  Чтобы отключить проверки связи с IIS, установите **Пинг включен** для **False**.

## <a name="auto-retract-leaves-orphaned-list-instance-in-sharepoint"></a>Автоматический отзыв оставляет потерянные экземпляры списка в SharePoint
 Эта проблема возникает, если вы выполните следующие действия.

1.  Создайте определение списка с экземпляром списка в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)].

2.  Выберите **F5** клавишу, чтобы запустить решение.

3.  Остановка отладки, или закройте сайт SharePoint.

4.  Снова откройте сайт SharePoint и открытие экземпляра списка.

### <a name="error-message"></a>Сообщение об ошибке
 Ошибка сервера в приложении «/».

### <a name="resolution"></a>Решение
 Это происходит, поскольку после закрытия сеанса отладки решения SharePoint, автоматически отозвать отзывает решение. Отзыв удаляет определение списка из SharePoint, но не приводит к удалению экземпляра списка. Базовое определение списка требуется экземпляр списка.

 Чтобы устранить эту проблему, необходимо развернуть решение, в строке меню выберите **построения** > **развернуть**. (Не выполняйте отладку решения, выбрав **F5** ключ.) Затем удалите экземпляр списка в SharePoint.

## <a name="original-sharepoint-solution-is-replaced-by-an-exported-version"></a>С помощью версии экспортированного заменяется исходное решение SharePoint
 При экспорте решения SharePoint, импорт в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)]и затем разверните решение обратно в тот же сайт, из которого он был экспортирован, заменяется исходное решение SharePoint. Эта проблема возникает, если развертывание решения на сервер, не активирован по его исходного решения.

### <a name="error-message"></a>Сообщение об ошибке
 Отсутствует.

### <a name="resolution"></a>Решение
 Чтобы избежать перезаписи решение на сайте, из которого он был экспортирован, изменить идентификаторы GUID для ИД решения и функции идентификаторы всех компонентов, импортируемых в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] проекта.

## <a name="error-appears-when-debugging-starts"></a>Ошибка возникает при запуске отладки
 При запуске отладки решения SharePoint в Visual Studio ошибка сигнализирует о том, что Visual Studio не удалось загрузить файл конфигурации Web.config, поскольку данный ключ отсутствует в словаре.

### <a name="error-message"></a>Сообщение об ошибке
 Не удалось загрузить файл конфигурации Web.config. Проверьте файл на наличие любого неправильного формата XML-элементов и повторите попытку. Произошла следующая ошибка: Данный ключ отсутствует в словаре.

### <a name="resolution"></a>Решение
 Для решения проблемы следует убедиться, что значение свойства URL-адреса сайта проекта SharePoint в Visual Studio соответствует URL-адресу, назначенному зоне по умолчанию для сопоставлений альтернативного доступа веб-приложения. Использование для URL-адреса другой зоны, например интрасети, не решит проблему. URL-адрес сайта проекта и URL-адрес зоны по умолчанию должны совпадать. Для доступа к альтернативных сопоставлений доступа, откройте Центр администрирования SharePoint 2010 программу, выберите **управление приложениями** ссылку, а затем в разделе **веб-приложений**, выберите  **Настройка альтернативных сопоставлений доступа** ссылку. Дополнительные сведения см. в разделе [создавать зоны для веб-приложений](http://go.microsoft.com/fwlink/?LinkId=192274).

## <a name="see-also"></a>См. также

- [Устранение неполадок SharePoint упаковки и развертывания](../sharepoint/troubleshooting-sharepoint-packaging-and-deployment.md)
- [Сборка и отладка решений SharePoint](../sharepoint/building-and-debugging-sharepoint-solutions.md)
- [Отладка в Visual Studio](../debugger/debugging-in-visual-studio.md)