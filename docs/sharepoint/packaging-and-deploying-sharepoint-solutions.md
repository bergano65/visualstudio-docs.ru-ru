---
title: Упаковка и развертывание решений SharePoint | Документация Майкрософт
description: Упакуйте и разверните решения SharePoint, которые развертываются на сервере SharePoint с помощью файла пакета решения (.wsp).
ms.custom: SEO-VS-2020
ms.date: 02/02/2017
ms.topic: overview
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- packaging [SharePoint development in Visual Studio]
- deploying [SharePoint development in Visual Studio]
- SharePoint development in Visual Studio, packaging and deploying
author: John-Hart
ms.author: johnhart
manager: jmartens
ms.workload:
- office
ms.openlocfilehash: ae74aa3cf759ba006acd36c168eecceac4b2ee4a
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99916544"
---
# <a name="package-and-deploy-sharepoint-solutions"></a>Упаковка и развертывание решений SharePoint
  Как правило, решение SharePoint развертывается на сервере SharePoint с помощью файла пакета решения (WSP-файла). С помощью Visual Studio можно организовывать элементы проекта SharePoint в виде компонентов и создавать пакеты для развертывания компонентов SharePoint.

 В данном подразделе содержатся следующие сведения.

- [Создание компонентов и пакетов](#create-features-and-packages)

- [Поддержка средств для работы с компонентами и упаковки](#feature-and-packaging-tool-support)

- [Развертывание решений SharePoint](#deploy-sharepoint-solutions)

- [Развертывание файлов в решениях SharePoint](#deploy-files-in-sharepoint-solutions)

## <a name="create-features-and-packages"></a>Создание компонентов и пакетов
 В Visual Studio можно объединить связанные элементы SharePoint в *компонент*. Например, компонент для определения списка контактов может включать в себя экземпляр списка и определение списка. Эти два элемента можно объединить в один компонент в целях развертывания. Дополнительные сведения о компонентах см. в статье [Базовые элементы разработки: компоненты](/previous-versions/office/developer/sharepoint-2010/ee537350(v=office.14)).

 Затем можно создать пакет решения SharePoint (*WSP-файл*) для объединения нескольких компонентов, определений сайтов, сборок и других файлов в один пакет в формате, требуемом SharePoint для развертывания файлов на сервере. Дополнительные сведения см. в статье [Базовые элементы разработки: решения](/previous-versions/office/developer/sharepoint-2010/ee537008(v=office.14)).

## <a name="feature-and-packaging-tool-support"></a>Поддержка средств для работы с компонентами и упаковки
 Средства разработки для SharePoint в Visual Studio можно использовать для быстрого объединения файлов SharePoint в компоненты и пакеты решений с целью упрощения развертывания. Для настройки компонентов и пакетов решений можно использовать следующие средства:

- конструктор компонентов и конструктор пакетов;

- обозреватель пакетов, окно инструментов;

- Обозреватель решений.

### <a name="feature-designer-and-package-designer"></a>Конструктор компонентов и конструктор пакетов
 С помощью конструктора компонентов можно создавать компоненты, задавать области и помечать другие компоненты как зависимости. В конструкторе также можно просмотреть окончательный XML-файл с описанием каждого компонента. Дополнительные сведения см. в статье [Создание компонентов SharePoint](../sharepoint/creating-sharepoint-features.md).

 Чтобы применить компонент к определенному веб-сайту или группе веб-сайтов, задайте его *область* в конструкторе компонентов. Если компонент активирован для отдельного веб-сайта, он будет работать только на нем. Если компонент активирован для семейства веб-сайтов, его элементы будут применяться ко всему семейству. Дополнительные сведения см. в статье [Область элемента](/previous-versions/office/developer/sharepoint-2010/ms476615(v=office.14)).

 Если компонент использует другие компоненты, перед его публикацией можно задать *зависимость активации компонентов*, чтобы пометить зависимые компоненты. Зависимость активации компонентов проверяет, были ли зависимые компоненты уже активированы в этой области. Дополнительные сведения см. в статье [Зависимости активации и область](/previous-versions/office/developer/sharepoint-2010/aa543162(v=office.14)).

 В конструкторе пакетов можно объединить элементы SharePoint в один пакет решения и указать, следует ли сбрасывать веб-сервер во время развертывания. Задать тип сервера развертывания можно в окне **Свойства**. Конструктор также создает XML-файл с описанием содержимого пакета. Дополнительные сведения см. в статье [Создание пакетов решений SharePoint](../sharepoint/creating-sharepoint-solution-packages.md).

 Во время развертывания службы IIS останавливаются для копирования файлов решения на сервер SharePoint. С помощью конструктора пакетов в Visual Studio можно указать, должен ли веб-сервер перезапускаться. Чтобы указать, должно ли решение развертываться на интерфейсном веб-сервере или на сервере приложений, используйте окно **Свойства**. Дополнительные сведения см. в статье [Элемент Solution (решение)](/previous-versions/office/developer/sharepoint-2010/ms412929(v=office.14)).

### <a name="packaging-explorer"></a>Обозреватель пакетов
 В дополнение к конструктору компонентов и конструктору пакетов можно использовать обозреватель пакетов для объединения файлов SharePoint в компоненты и пакеты. Кроме того, в нем имеется иерархическое представление пакета, компонентов, элементов проекта SharePoint и файлов. Обозреватель пакетов — это окно инструментов, в котором можно выполнять следующие задачи:

- открывать элементы и файлы проекта SharePoint;

- перетаскивать элементы проекта SharePoint из одного компонента в другой;

- перетаскивать элементы и компоненты проекта SharePoint из одного пакета в другой;

- добавлять новые компоненты в пакет;

- открывать конструктор компонентов или конструктор пакетов;

- проверять компоненты и пакеты.

  Средства разработки SharePoint в Visual имеют правила проверки для обеспечения правильности формирования пакета решения. Кроме того, правила подтверждают, что файл *WSP* решения можно успешно развернуть и активировать на сервере SharePoint. Дополнительные сведения о схеме XML для компонентов см. в статье [Схемы компонентов](/previous-versions/office/developer/sharepoint-2010/ms414322(v=office.14)).

  В систему проектов SharePoint можно добавлять пользовательские правила проверки компонентов и пакетов. Дополнительные сведения см. в разделе [Практическое руководство. Создание пользовательских правил проверки компонентов и пакетов для решений SharePoint](../sharepoint/how-to-create-custom-feature-and-package-validation-rules-for-sharepoint-solutions.md).

  Дополнительные сведения об обозревателе пакетов см. в статье [Практическое руководство. Добавление и удаление компонентов и элементов в пакете с помощью обозревателя пакетов](../sharepoint/how-to-add-and-remove-features-and-items-to-a-package-by-using-the-packaging-explorer.md).

### <a name="solution-explorer"></a>Обозреватель решений
 Для навигации по файлам проекта SharePoint и их открытия можно использовать обозреватель решений. Контекстное меню в обозревателе решений позволяет добавлять компоненты, приемники событий компонентов и ресурсы компонентов. Кроме того, вы можете открыть конструктор компонентов или конструктор пакетов, чтобы настроить компоненты и пакеты для развертывания.

## <a name="deploy-sharepoint-solutions"></a>Развертывание решений SharePoint
 После настройки компонентов и пакета в Visual Studio можно создать файл *WSP* для развертывания на серверах SharePoint. В Visual Studio можно отладить и протестировать файл *WSP* только на сервере SharePoint на компьютере разработчика. Дополнительные сведения о развертывании решений SharePoint на удаленном сервере SharePoint см. в статье [Развертывание решения](/previous-versions/office/developer/sharepoint-2010/aa544500(v=office.14)).

 На компьютере разработчика можно также настроить действия по развертыванию. Дополнительные сведения см. в статье [Развертывание, публикация и обновление пакетов решений SharePoint](../sharepoint/deploying-publishing-and-upgrading-sharepoint-solution-packages.md).

## <a name="deploy-files-in-sharepoint-solutions"></a>Развертывание файлов в решениях SharePoint
 Как правило, при добавлении элемента проекта SharePoint в решение SharePoint включаются все необходимые файлы. Файлы, которые могут быть скомпилированы (файлы кода), включаются в выходную сборку решения. Однако в проект SharePoint может также потребоваться добавить некомпилируемые файлы, например *XML*, *TXT* или файлы ресурсов. Такие файлы не упаковываются в решение автоматически. Чтобы они были включены в пакет, добавьте их в сопоставленную папку или в элемент проекта SharePoint.

 Файлы, добавленные в сопоставленные папки, автоматически копируются в куст SharePoint при развертывании решения. Файлы, добавленные в элемент проекта SharePoint, развертываются в расположении, указанном в свойстве **Расположение развертывания** для каждого файла, которое частично зависит от свойства **Тип развертывания**. По умолчанию значением свойства **Тип развертывания** является **NoDeployment**. Оно означает, что файл не развертывается вместе с решением. Чтобы включить файл в пакет, необходимо задать другое значение свойства.

 Например, чтобы добавить файл *XML* в проект SharePoint, выполните одно из указанных ниже действий.

- Добавьте в проект сопоставленную папку SharePoint "Layouts". В результате в **обозревателе решений** будет создана папка с именем **Layouts** с вложенной папкой для проекта. Добавьте файл *XML* в новую вложенную папку. По умолчанию файл разворачивается в файловой системе SharePoint в папке *..\TEMPLATE\LAYOUTS\\\<Folder Name>* . Сведения о добавлении сопоставленных папок см. в статье [Практическое руководство. Добавление и удаление сопоставленных папок](../sharepoint/how-to-add-and-remove-mapped-folders.md).

- Добавьте файл *XML* в папку элемента проекта SharePoint, а затем измените значение свойства **Тип развертывания** для файла *XML* с **NoDeployment** на другое, например **RootFile** или **ElementFile**. Соответствующее значение свойства **Тип развертывания** зависит от файла и проекта. Дополнительные сведения о значениях свойства **Тип развертывания** см. в статье [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md).

  Если добавляемый файл не относится к конкретному проекту в решении, можно добавить в решение пустой проект SharePoint, а затем добавить в него дополнительные файлы. Альтернативным вариантом развертывания файлов в SharePoint, особенно в базе данных содержимого, является добавление модуля в проект и последующее добавление файлов в этот модуль. Дополнительные сведения см. в статье [Использование модулей для включения файлов в решение](../sharepoint/using-modules-to-include-files-in-the-solution.md).

## <a name="see-also"></a>См. также раздел
- [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)
- [Сборка и отладка решений SharePoint](../sharepoint/building-and-debugging-sharepoint-solutions.md)
