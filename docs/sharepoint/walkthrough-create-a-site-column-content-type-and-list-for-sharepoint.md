---
title: Создание столбца сайта, типа содержимого и списка для SharePoint
titleSuffix: ''
description: В этом пошаговом руководстве вы создадите настраиваемый столбец сайта (поле), Пользовательский тип содержимого, использующий столбец сайта, и список, использующий тип содержимого в SharePoint.
ms.custom: SEO-VS-2020
ms.date: 02/02/2017
ms.topic: how-to
f1_keywords:
- VS.SharePointTools.ListDesigner.GeneralMessageHelp
- Microsoft.VisualStudio.SharePoint.Designers.ListDesigner.ViewModels.ListViewModel.SortingAndGrouping
- VS.SharePointTools.ListDesigner.SortingGrouping
dev_langs:
- VB
- CSharp
helpviewer_keywords:
- SharePoint development in Visual Studio, list definitions
- SharePoint development in Visual Studio, list instances
- SharePoint development in Visual Studio, fields
- SharePoint development in Visual Studio, content types
author: John-Hart
ms.author: johnhart
manager: jmartens
ms.workload:
- office
ms.openlocfilehash: d205203797d8bd50c7b3132df86fbff9dbad1771
ms.sourcegitcommit: ae6d47b09a439cd0e13180f5e89510e3e347fd47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "99937697"
---
# <a name="walkthrough-create-a-site-column-content-type-and-list-for-sharepoint"></a>Пошаговое руководство: Создание столбца сайта, типа содержимого и списка для SharePoint
  В следующих процедурах показано, как создать настраиваемые столбцы сайта SharePoint (или *поля*), а также тип содержимого, использующего столбцы сайта. Ниже также показан способ создания списка, использующего новый тип содержимого.

 В этом пошаговом руководстве рассматриваются следующие задачи:

- [Создание настраиваемых столбцов сайта](#create-custom-site-columns).

- [Создайте пользовательский тип содержимого](#create-a-custom-content-type).

- [Создайте список](#create-a-list).

- [Протестируйте приложение](#test-the-application).

  [!INCLUDE[note_settings_general](../sharepoint/includes/note-settings-general-md.md)]

## <a name="prerequisites"></a>Предварительные требования
 Для выполнения этого пошагового руководства требуются следующие компоненты:

- Поддерживаемые выпуски Windows и SharePoint.

- [!INCLUDE[vsprvs-current](../sharepoint/includes/vsprvs-current-md.md)]

## <a name="create-custom-site-columns"></a>Создание настраиваемых столбцов сайта
 В этом примере создается список для управления пациентами в больнице. Во-первых, необходимо создать новый проект SharePoint в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] и добавить столбцы сайтов в него следующим образом.

#### <a name="to-create-the-project"></a>Создание проекта

1. В меню [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] **Файл** последовательно выберите пункты **Создать** > **Проект**.
::: moniker range="=vs-2017"
2. В диалоговом окне **Новый проект** в разделе **Visual C#** или **Visual Basic** разверните узел **Office/SharePoint** и выберите пункт **решения SharePoint**.

3. В области **шаблоны** выберите **пустой проект SharePoint** для определенной версии SharePoint, которую вы установили. Например, если установлен SharePoint 2016, выберите шаблон **проекта sharepoint 2016-Empty** .  

4. Измените имя проекта на « **курс**», а затем нажмите кнопку « **ОК** ».

5. В диалоговом окне **Укажите сайт и уровень безопасности для отладки** введите URL-адрес локального сайта SharePoint, в который нужно добавить новый элемент настраиваемого поля, или используйте расположение по умолчанию ( `http://<` *SystemName* `>/)` .

6. В разделе **что такое уровень доверия для этого решения SharePoint?** используйте значение по умолчанию **Развернуть как изолированное решение**.

     Дополнительные сведения о песочницах и решениях фермы см. в статье [рекомендации по изолированным решениям](../sharepoint/sandboxed-solution-considerations.md).

7. Нажмите кнопку **Готово**. Теперь проект указан в **Обозреватель решений**.
::: moniker-end
::: moniker range=">=vs-2019"
2.  В диалоговом окне **Создание нового проекта** выберите **пустой проект SharePoint** для конкретной установленной версии SharePoint. Например, если установлен SharePoint 2016, выберите шаблон **проекта sharepoint 2016-Empty** .
    [!INCLUDE[new-project-dialog-search](../sharepoint/includes/new-project-dialog-search-md.md)]

3. Измените имя проекта на « **курс**», а затем нажмите кнопку « **создать** ».

4. В диалоговом окне **Укажите сайт и уровень безопасности для отладки** введите URL-адрес локального сайта SharePoint, в который нужно добавить новый элемент настраиваемого поля, или используйте расположение по умолчанию ( `http://<` *SystemName* `>/)` .

5. В разделе **что такое уровень доверия для этого решения SharePoint?** используйте значение по умолчанию **Развернуть как изолированное решение**.

     Дополнительные сведения о песочницах и решениях фермы см. в статье [рекомендации по изолированным решениям](../sharepoint/sandboxed-solution-considerations.md).

6. Нажмите кнопку **Готово**. Теперь проект указан в **Обозреватель решений**.
::: moniker-end

#### <a name="to-add-site-columns"></a>Добавление столбцов сайта

1. Добавьте новый столбец сайта. Для этого в **Обозреватель решений** щелкните правой кнопкой **мыши проект курса** и выберите команду **добавить**  >  **новый элемент**.

2. В диалоговом окне **Добавление нового элемента** выберите **столбец сайта**, измените имя на **патиентнаме**, а затем нажмите кнопку **Добавить** .

3. В файле *Elements.xml* столбца сайта оставьте параметр **типа** как **текст**, измените параметр **группы** на " **курсовые столбцы сайта**". По завершении файл *Elements.xml* столбца сайта должен выглядеть, как в следующем примере.

    ```xml
    <Field
         ID="{f9ba60d1-5631-41fb-b016-a38cf48eef63}"
         Name="PatientName"
         DisplayName="Patient Name"
         Type="Text"
         Required="FALSE"
         Group="Clinic Site Columns">
    </Field>
    ```

    > [!TIP]
    > Visual Studio автоматически добавит пробел в DisplayName, если в имени столбца сайта используется регистр Camel.
    > Не рекомендуется использовать пробелы в имени столбца сайта, так как это может вызвать проблемы при попытке развертывания решения в SharePoint.

4. С помощью той же процедуры добавьте в проект два дополнительных столбца сайта: **патиентид** (Type = "integer") и **докторнаме** (Type = "Text"). Задайте для их значения группы значение " **курс по столбцам сайта**".

## <a name="create-a-custom-content-type"></a>Создание пользовательского типа содержимого
 Теперь создайте тип содержимого (основанный на типе содержимого "Контакт"), который включает в себя столбцы сайта, созданные перед этим. Вы можете сэкономить время, базируя тип содержимого на существующем типе содержимого, так как базовый тип содержимого имеет несколько столбцов сайта для использования в новом типе содержимого.

#### <a name="to-create-a-custom-content-type"></a>Создание пользовательского типа содержимого

1. Добавьте тип содержимого в проект. Для этого в **Обозреватель решений** выберите узел проекта.

2. В строке меню выберите **Проект** > **Добавить новый элемент**.

3. В **Visual C#** или **Visual Basic** разверните узел **SharePoint** , а затем выберите узел **2010** .

4. В области **шаблоны** выберите шаблон **тип содержимого** , измените имя на **сведения о пациентах**, а затем нажмите кнопку **Добавить** .

     Откроется **Мастер настройки SharePoint** .

5. В списке **базовый тип содержимого, который должен наследовать этот тип содержимого** выберите **контакт** в качестве типа содержимого, на котором будет основываться новый тип содержимого, а затем нажмите кнопку **Готово** .

     Это позволит получить доступ к другим потенциально полезным столбцам сайта в типе содержимого "Контакт", помимо столбцов, определенных ранее.

6. После отображения конструктора типов содержимого на вкладке **столбцы** добавьте три столбца сайта, которые были определены ранее: **имя пациента**, **идентификатор пациента** и **имя врача**. Чтобы добавить эти столбцы, выберите первый список в списке Столбцы сайта в разделе **Отображаемое имя**, а затем выберите каждый столбец сайта в списке по одному за раз.

    > [!TIP]
    > Чтобы выбрать столбцы сайта быстрее, следует отфильтровать список, введя первые буквы названия столбца.

7. В дополнение к трем пользовательским столбцам сайта добавьте столбец « **Комментарии** » из списка «столбцы сайта».

8. Установите флажок **обязательные** для столбцов " **имя пациента** " и " **идентификатор пациента** ", чтобы сделать их обязательными.

9. На вкладке **тип содержимого** убедитесь, что имя типа содержимого — **сведения о пациентах**, а затем измените описание на **информационную карточку пациента**.

10. Измените **имя группы** на **тип содержимого** курса, а остальные параметры оставьте значениями по умолчанию.

11. В строке меню выберите **файл**  >  **сохранить все** и закройте конструктор типов содержимого.

## <a name="create-a-list"></a>Создать список
 Теперь создайте список, в котором используется новый тип содержимого и столбцы сайтов.

#### <a name="to-create-a-list"></a>Создание списка

1. Добавьте список в проект. Для этого в **Обозреватель решений** выберите узел проекта.

2. В строке меню выберите **Проект** > **Добавить новый элемент**.

3. В **Visual C#** или **Visual Basic** разверните узел **SharePoint** .

4. В области **шаблоны** выберите шаблон **списка** , измените имя на **пациентов**, а затем нажмите кнопку **Добавить** .

5. Оставьте **настройку списка на основе** параметра **по умолчанию (пользовательский список)**, а затем нажмите кнопку **Готово** .

6. В конструкторе списков нажмите кнопку **типы содержимого** , чтобы открыть диалоговое окно **Параметры типа содержимого** .

7. Выберите новую строку, в списке типов содержимого выберите тип содержимого " **сведения о пациентах** ", а затем нажмите кнопку **ОК** .

     При этом в список добавляются все столбцы сайта из типа содержимого **сведений о пациентах** .

8. Удалите все столбцы сайта в списке, кроме следующих.

    - Patient ID

    - Patient Name

    - Home Phone

    - E-Mail

    - Doctor Name

    - Комментарии

9. В разделе **Отображаемое имя столбца** выберите пустую строку, добавьте пользовательский столбец списка и назовите его **больницы**. Оставьте тип данных в виде **одной строки текста**.

     Столбец пользовательского списка применяется только к этому списку. При добавлении пользовательского столбца списка, новый список типа содержимого, включая все столбцы, добавленные в список, создается как список по умолчанию.

    > [!TIP]
    > Если вы выберете столбец из списка столбцов сайта, существующий столбец сайта будет использоваться. Однако если ввести значение имени столбца без выбора какого-либо столбца в списке, столбец пользовательского списка создается, даже если столбец с таким же именем уже существует в списке.

     При необходимости вместо того, чтобы задать для столбца пользовательского списка **однострочный** тип данных, можно задать для этого столбца тип данных «Уточняющий запрос», и его значения будут получены из таблицы или другого списка. Дополнительные сведения о столбцах подстановки см. [в разделе список связей в SharePoint 2010](/previous-versions/msp-n-p/ff798514(v=pandp.10)) и [уточняющие запросы и список отношений](/previous-versions/office/developer/sharepoint-2010/ff623048(v=office.14)).

10. Рядом с полями **идентификатор пациента** и **имя пациента** установите флажок **обязательно** .

11. На вкладке **представления** выберите пустую строку для создания представления. Введите **сведения о пациентах** в пустую строку под столбцом **имя представления** .

     На вкладке **представления** можно указать столбцы, которые должны отображаться в списке SharePoint.

12. Выберите новую строку **сведений о пациентах** , а затем нажмите кнопку **назначить по умолчанию** .

     Новое представление стало представлением по умолчанию для списка.

13. Добавьте следующие столбцы в список **Выбранные столбцы** в следующем порядке:

    - Patient ID

    - Patient Name

    - Home Phone

    - E-Mail

    - Doctor Name

    - Hospital

    - Комментарии

14. В списке **Свойства** выберите свойство **Сортировка и группирование** , а затем нажмите кнопку ![с многоточием, чтобы открыть](../sharepoint/media/ellipsisicon.gif "Значок эллипса") диалоговое окно **Сортировка и группирование** .

15. В списке **имя столбца** выберите **Patient Name**, убедитесь, что для столбца **Сортировка** выбрано значение по **возрастанию**, а затем нажмите кнопку **ОК** .

## <a name="test-the-application"></a>Тестирование приложения
 Теперь, когда пользовательские столбцы сайтов, тип содержимого и список готовы, разверните их в SharePoint и запустите приложение для тестирования.

#### <a name="to-test-the-application"></a>Тестирование приложения

1. В строке меню выберите **Файл** > **Сохранить все**.

2. Нажмите клавишу **F5** , чтобы запустить приложение.

     Приложение компилировано, а затем его возможности развернуты в SharePoint и активированы.

3. На панели быстрого перехода щелкните ссылку **пациентов** , чтобы отобразить список **пациентов** .

     Имена столбцов в списке должны совпадать с именами, введенными на вкладке **представления** в [!INCLUDE[vsprvs](../sharepoint/includes/vsprvs-md.md)] .

4. Щелкните ссылку **Добавить новый элемент** , чтобы создать информационную карточку пациента.

5. Введите данные в поля, а затем нажмите кнопку **сохранить** .

     В списке появится новая запись.

## <a name="see-also"></a>См. также раздел
- [Создание столбцов сайта, типов содержимого и списков для SharePoint](../sharepoint/creating-site-columns-content-types-and-lists-for-sharepoint.md)
- [Разработка решений SharePoint](../sharepoint/developing-sharepoint-solutions.md)
- [Как создать настраиваемый тип поля](/previous-versions/office/developer/sharepoint-2010/bb862248(v=office.14))
- [Типы содержимого](/previous-versions/office/developer/sharepoint-2010/ms479905(v=office.14))
- [Столбцы](/previous-versions/office/developer/sharepoint-2010/ms196085(v=office.14))
