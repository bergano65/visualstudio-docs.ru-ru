---
title: Общие сведения о конфигурациях сборок
ms.date: 11/04/2016
ms.prod: visual-studio-dev15
ms.technology: vs-ide-compile
ms.topic: conceptual
f1_keywords:
- SolutionProperties.ActiveConfig
- vs.build.newprojectconfiguration
- vc.proj.configurationsctrl.multipleconfigs
- vs.build.editsolutionconfigurations
- vs.build.editprojectconfigurations
- vs.multipleconfigurations
- vs.build.newsolutionconfiguration
- VS.ConfigurationManager
- VS.MultipleConfig
helpviewer_keywords:
- solution build configurations, about build configurations
- build configurations
- project build configurations
- build configurations, advanced
- projects [Visual Studio], build configuration
- solutions [Visual Studio], build configuration
ms.assetid: 934c727d-3a22-429c-bd13-3552cecf2e24
author: gewarren
ms.author: gewarren
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: cb699b02723e88454f26f4b897cfd7ba3ff46592
ms.sourcegitcommit: a8e01952be5a539104e2c599e9b8945322118055
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
ms.locfileid: "32425129"
---
# <a name="understand-build-configurations"></a>Общие сведения о конфигурациях сборок

Вы можете сохранять разные конфигурации решения и свойства проекта для использования разных типов сборок. Чтобы создать, выбрать, изменить или удалить конфигурацию, можно использовать **Configuration Manager**. Чтобы открыть его, выберите в строке меню **Сборка** > **Configuration Manager** или просто введите **Configuration** в поле **Быстрый запуск**. Можно также использовать список **Конфигурации решения** на панели инструментов **Стандартные**, чтобы выбрать конфигурацию или открыть **Configuration Manager**.

> [!NOTE]
> Если вы не можете найти параметры конфигурации решения на панели инструментов и не можете получить доступ к **Configuration Manager**, можно применить параметры развертывания [!INCLUDE[vbprvb](../code-quality/includes/vbprvb_md.md)]. Дополнительные сведения см. в разделе [Управление конфигурациями сборок с применением параметров разработчика Visual Basic](../ide/how-to-manage-build-configurations-with-visual-basic-developer-settings-applied.md).

По умолчанию конфигурации отладки и выпусков включены в проекты, которые создаются с использованием шаблонов [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]. Конфигурация отладки поддерживает отладку приложения, а конфигурация выпусков выполняет сборку версии приложения, которую можно развернуть. Дополнительные сведения см. в пошаговом руководстве по [настройке конфигураций отладки и выпусков](../debugger/how-to-set-debug-and-release-configurations.md). Можно также создать пользовательские конфигурации решений и проектов. Дополнительные сведения см. в разделе [Практическое руководство. Создание и изменение конфигураций](../ide/how-to-create-and-edit-configurations.md).

## <a name="solution-configurations"></a>Конфигурации решения

Конфигурация решения указывает, как следует создавать и развертывать проекты в решении. Чтобы изменить конфигурацию решения или определить новую конфигурацию в **Configuration Manager**, в меню **Активная конфигурация решения** щелкните **Изменить** или **Создать**.

Каждая запись в поле **Контексты проекта** в конфигурации решений представляет проект в решении. Для каждой комбинации**Активная конфигурация решения** и **Активная платформа решения** можно задать способ использования каждого проекта. (Дополнительные сведения о платформах решений см. в разделе [Общие сведения о сборках платформ](../ide/understanding-build-platforms.md).)

> [!NOTE]
> При определении новой конфигурации решения и установке флажка **Создать новые конфигурации проектов** [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] автоматически назначает новую конфигурацию всем проектам. Аналогичным образом, при определении новой платформы решения и установке флажка **Создать новые платформы проектов** [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] автоматически назначает новую платформу всем проектам. Кроме того, если вы добавите проект, предназначенный для новой платформы, Visual Studio добавит эту платформу в список платформ решений и назначит ее всем проектам.
>
> Вы по-прежнему можете изменять параметры для каждого проекта.

Активная конфигурация решения также предоставляет контекст для IDE. Например, если вы работаете над проектом и конфигурация указывает, что он будет создан для мобильного устройства, на **панели инструментов** отобразятся только элементы, которые можно использовать в проекте мобильного устройства.

## <a name="project-configurations"></a>Конфигурации проекта
 Целевые конфигурация и платформа проекта применяются совместно для указания свойств, используемых при сборке. Проект может иметь разный набор определений свойств для каждой комбинации конфигурации и платформы. Чтобы изменить свойства проекта, можно использовать страницы свойств. (В **обозревателе решений** откройте контекстное меню для проекта и выберите пункт **Свойства**.)

 Для каждой конфигурации проекта можно при необходимости определить свойства, зависимые от конфигурации. Например, для определенной сборки можно задать элементы, которые будут включены в проект, а также выходные файлы, которые будут созданы, место их расположения и способ оптимизации.

 Конфигурации проектов могут значительно отличаться. Например, в свойствах одной конфигурации может быть указано, что выходной файл следует оптимизировать так, чтобы он занимал меньше всего места, тогда как в другой конфигурации может быть указано, что исполняемый файл выполняется на максимальной скорости.

 Конфигурации проектов хранятся решением, а не пользователем, чтобы группа могла получить к ним общий доступ.

 Хотя зависимости проекта не зависят от конфигурации, будет выполнена сборка только проектов, указанных в активной конфигурации решения.

## <a name="how-visual-studio-assigns-project-configurations"></a>Назначение конфигураций проектов Visual Studio
 Если вы определяете конфигурацию нового решения и не копируете параметры из существующего, Visual Studio использует следующие критерии для назначения конфигурации проектов по умолчанию. Критерии оцениваются в следующем порядке.

1.  Если проект имеет имя конфигурации (*\<имя конфигурации> \<имя платформы>*), которое точно совпадает с именем новой конфигурации решения, назначается эта конфигурация. В именах конфигураций не учитывается регистр.

2.  Если проект имеет имя конфигурации, в котором часть имени конфигурации совпадает с новой конфигурацией решения, назначается эта конфигурация (независимо от того, совпадает ли часть имени платформы или нет).

3.  Если совпадений все равно нет, назначается первая конфигурация, указанная в проекте.

## <a name="how-visual-studio-assigns-solution-configurations"></a>Назначение конфигураций решений Visual Studio
 При создании конфигурации проекта (в **Configuration Manager** путем выбора пункта **Создать** в раскрывающемся меню столбца **Конфигурация** для этого проекта) и установке флажка **Создать новые конфигурации решений** Visual Studio ищет конфигурацию решения с таким же именем, чтобы создать проект на каждой поддерживаемой платформе. В некоторых случаях Visual Studio переименовывает существующие конфигурации решения или определяет новые.

 Visual Studio использует следующие критерии для назначения конфигураций решения.

-   Если конфигурация проекта не указывает платформу или указывает только одну платформу, будет найдена или добавлена конфигурация решения, имя которой совпадает с именем новой конфигурации проекта. Имя по умолчанию конфигурации решения не включает имя платформы; оно имеет формат *\<имя конфигурации проекта>*.

-   Если проект поддерживает несколько платформ, для каждой поддерживаемой платформы будет найдена или добавлена конфигурация решения. Имя каждой конфигурации решения включает как имя конфигурации проекта, так и имя платформы, и имеет формат *\<имя конфигурации проекта> \<имя платформы>*.

## <a name="see-also"></a>См. также

- [Пошаговое руководство. Сборка приложения](../ide/walkthrough-building-an-application.md)
- [Компиляция и сборка](../ide/compiling-and-building-in-visual-studio.md)
- [Проекты и решения](../ide/solutions-and-projects-in-visual-studio.md)
- [Образец построения C/C++](/cpp/build/reference/c-cpp-building-reference)
- [Параметры командной строки для команды devenv](../ide/reference/devenv-command-line-switches.md)