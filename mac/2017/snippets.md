---
title: Фрагменты кода
description: Использование фрагментов кода для эффективного программирования в Visual Studio для Mac
author: conceptdev
ms.author: crdun
ms.date: 02/07/2019
ms.assetid: 0FE27C0C-A861-4133-A74E-8D0505CF5342
ms.openlocfilehash: 56f736aa1e32530b1db96ad301091151731b7d28
ms.sourcegitcommit: da73f7a0cf1795d5d400c0897ae3326191435dd0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2019
ms.locfileid: "58568636"
---
# <a name="code-snippets"></a>Фрагменты кода

Фрагменты кода, которые часто называют  _шаблонами кода_, удобны для эффективного программирования, так как позволяют вставлять и редактировать предварительно написанные блоки кода. Они удобны для быстрого добавления типовых шаблонов или даже для изучения новых шаблонов, когда разработчику неизвестен синтаксис. Существуют шаблоны для C#, F#, HTML, XML, Python и Razor.

Этот раздел описывает, как создавать, вставлять и использовать фрагменты кода.

## <a name="inserting-a-snippet"></a>Вставка фрагмента кода

Существует несколько разных способов для добавления фрагментов кода, некоторые из которых описаны ниже:

- **Вставка с помощью клавиши TAB**. Начните вводить имя шаблона, выберите его в списке и дважды нажмите клавишу **TAB**, чтобы добавить его:

  ![Расширение функций клавиши TAB](media/source-editor-image13.png)

- **Панель элементов**. Используйте панель элементов, чтобы отобразить список всех фрагментов кода. Перетащите любой шаблон из панели элементов в выбранное место в исходном коде:

  [![Фрагменты кода на панели элементов](media/source-editor-image14-sml.png)](media/source-editor-image14.png#lightbox)

- **Команда вставки шаблонов**. Сейчас сочетание клавиш по умолчанию для вставки шаблона отсутствует. Чтобы настроить его, перейдите в раздел **Visual Studio > Параметры > Настраиваемые сочетания клавиш** и выполните поиск `template`. Затем вы можете добавить нужные сочетания клавиш в поле "Изменить привязку" и нажать кнопку  **Применить**:

  ![Команда вставки шаблона](media/source-editor-image15.png)

## <a name="creating-a-new-template"></a>Создание шаблона

Хотя доступно множество шаблонов для различных языков, которые вы можете использовать и изменять, можно также добавлять новые шаблоны, перейдя в раздел **Visual Studio > Параметры > Текстовый редактор > Фрагменты кода**:

![Вставка нового шаблона](media/source-editor-image12.png)

Нажмите кнопку **Добавить** или **Изменить**, чтобы создать или изменить фрагменты кода.

## <a name="keywords-in-code-snippets"></a>Ключевые слова во фрагментах кода

Когда фрагмента кода помещается в редактор, определяемые ключевые слова выделяются и их можно изменять, переходя от одного к другому c помощью клавиши TAB. Ключевые слова ведут себя как переменные во фрагменте кода и определяются добавлением знака доллара `$` в начале и конце. 

Ниже показано окно **Изменение шаблона** с открытым для правки встроенным фрагментом `prop`. Фрагмент кода содержит два ключевых слова — `$type$` и `$name$`, которые могут иметь дополнительные свойства (такие как значение по умолчанию и всплывающая подсказка), задаваемые в правой части окна.

![Окно "Изменение шаблона"](media/source-editor-image12z.png)

Следующие поля используются для определения фрагмента кода:

- **Сочетание клавиш**. Вводимый пользователем текст для вставки фрагмента.
- **Группа**. Это значение используется для группировки фрагментов кода в меню содержимого фрагментов кода.
- **Описание**. Объяснение назначения фрагмента кода.
- **MIME**. Определяет, в каких типах файлов доступен фрагмент.
- **Is expandable template** (Является расширяемым шаблоном). Если этот флажок установлен, фрагмент можно вставить с помощью сочетания клавиш в позиции курсора.
- **Is surround with template** (Заключить в шаблон). Если этот флажок установлен, шаблон отобразится в контекстном меню **Заключить в** редактора.
- **Текст шаблона**. Фрагмент, который будет вставлен в редактор. Заполнители ключевого слова можно определить, окружив лексему значками доллара, например `$type$`.
- **Панель свойств ключевого слова**.В правой верхней части окна можно выбрать ключевое слово в раскрывающемся списке (в нашем примере — `type`), чтобы изменить его свойства, такие как значение по умолчанию и всплывающая подсказка.

## <a name="using-keywords-in-the-editor"></a>Использование ключевых слов в редакторе

Чтобы использовать фрагмент с ключевыми словами, как в нашем примере, нажмите сочетание клавиш и дважды нажмите клавишу **TAB**, чтобы вставить содержимое фрагмента кода в позиции курсора.

![Вставленный фрагмент кода с ключевыми словами](media/source-editor-image12a.png)

Используйте клавишу **TAB** для перехода от `object` к `MyProperty`, чтобы настроить фрагмент кода для своего класса.

Ключевое слово может повторяться во фрагменте. В этом примере шаблона `for` ключевое слово `$i$` встречается трижды.

![Шаблон фрагмента кода с повторяющимся ключевым словом](media/source-editor-image12b.png)

При работе в редакторе по нажатию клавиши **TAB** выполняется переход от первого `i` к `max`. Если вы повторно введете `i` с именем другой переменной, обновятся все три экземпляра.

![Вставленный фрагмент кода с несколькими ключевыми словами](media/source-editor-image12c.png)

### <a name="reserved-keywords"></a>Зарезервированные ключевые слова

Существует два зарезервированных ключевых слова, которые можно использовать во фрагменте:

- `$selected$`. Если для фрагмента включен параметр **Is surround with template** (Заключить в шаблон), это ключевое слово будут заменено текстом, который был выделен в редакторе в момент выбора фрагмента кода.
- `$end$`. Когда пользователь заканчивает редактировать ключевые слова во фрагменте, курсор помещается в расположение ключевого слова `$end$`.

Фрагмент кода `for` из предыдущего раздела иллюстрирует применение этих двух зарезервированных ключевых слов.

Дополнительные сведения см. в [справочнике фрагментам кода Visual Studio](/visualstudio/ide/code-snippets-schema-reference#keywords).

## <a name="see-also"></a>См. также

- [Фрагменты кода (Visual Studio в Windows)](/visualstudio/ide/code-snippets)