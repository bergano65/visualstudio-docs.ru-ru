---
title: Назначение лицензий группам пользователей для подписок Visual Studio | Документация Майкрософт
author: evanwindom
ms.author: v-evwin
manager: cabuschl
ms.assetid: c2853359-18fd-4be4-97a6-02230c862f92
ms.date: 02/02/2021
ms.topic: how-to
description: Узнайте, как администраторы могут назначать лицензии нескольким подписчикам, используя функцию массового добавления или группы Microsoft Azure Active Directory.
ms.openlocfilehash: 995859dce259b3a4edf968fac98723e226cf59d5
ms.sourcegitcommit: d124123528776993eb5e7461dae8da3975d11d0d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2021
ms.locfileid: "99511375"
---
# <a name="assign-subscriptions-to-multiple-users"></a>Назначение подписок нескольким пользователям
Портал администрирования подписок позволяет добавлять пользователей по одному или большими группами.  Чтобы добавлять пользователей по одному, см. раздел [Добавление отдельных пользователей](assign-license.md).

Для добавления больших групп пользователей вы можете использовать функцию массового добавления, или группы Azure AD — если ваша организация использует Microsoft Azure Active Directory (Azure AD). В этой статье рассматривается процесс для обоих вариантов.  Просмотрите это видео или прочтите статью, чтобы узнать больше о функции массового добавления. 

<br>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4vxNq]

## <a name="use-bulk-add-to-assign-subscriptions"></a>Использование массового добавления для назначения подписок
1. Войдите на портал администрирования подписок Visual Studio по адресу <https://manage.visualstudio.com>.

1. Чтобы добавить сразу несколько подписчиков, откройте вкладку **управления подписчиками**. Выберите вкладку **Добавить**, а затем в раскрывающемся списке выберите **Массовое добавление**.  

1. Массовое добавление использует шаблон Microsoft Excel для отправки сведений о подписчиках. В диалоговом окне "Отправка нескольких подписчиков" нажмите кнопку **Скачать**, чтобы скачать этот шаблон.
   > [!div class="mx-imgBorder"]
   > ![Скачивание шаблона Excel для загрузки множества подписчиков](media/download-template-upload-subscribers.png "Скачайте пустой шаблон Excel, чтобы начать процесс пакетного назначения.")
   >
   > [!NOTE]
   > Всегда скачивайте последнюю версию шаблона. При использовании более старой версии массовая отправка может завершиться ошибкой.

1. В таблице Excel заполните поля сведениями о людях, которым вы хотите назначить подписки. (Поле *Ссылка* является необязательным.) Сохраните файл локально, когда все будет готово.

    > [!NOTE]
    > С помощью одного из полей в шаблоне администраторы могут разрешать или запрещать подписчикам скачивать программное обеспечение.  Если отключен доступ к скачанным файлам, также будут недоступны ключи продуктов.

   Чтобы обеспечить правильную отправку, соблюдайте следующие рекомендации:

    - Проследите за тем, чтобы ни одно из полей формы не содержало запятые.
    - Удалите пробелы до и после полей формы.
    - Убедитесь, что имена и фамилии пользователей, состоящие из двух частей, не содержат лишние пробелы (например, имя "Maggie May" следует вводить как "MaggieMay", так как система не удалит лишний пробел).
    - Убедитесь, что заполнены все обязательные поля. 
    - Проверьте столбец **Сообщение об ошибке**.  Если в списке есть ошибки, устраните их перед попыткой отправить файл. 

1. Вернитесь на портал администрирования подписок Visual Studio. В диалоговом окне **Отправка нескольких подписчиков** нажмите кнопку **Обзор**.
   > [!div class="mx-imgBorder"]
   > ![Выбор сохраненного шаблона для загрузки множества подписчиков](media/bulk-add-browse-saved-template.png "Можно перейти к расположению файла или перетащить его в это диалоговое окно.")

1. Перейдите к сохраненному файлу Excel и нажмите кнопку **ОК**.
   > [!div class="mx-imgBorder"]
   > ![Отправка шаблона Excel для загрузки множества подписчиков](media/bulk-upload-subscribers.png "Шаблон с данными появится здесь.  Нажмите кнопку ОК, чтобы начать отправку.")

    Откроется диалоговое окно хода отправки.

    Если шаблон содержит ошибки, отправка завершается сбоем и отображаются соответствующие ошибки, чтобы можно было исправить шаблон и повторить попытку.
   > [!div class="mx-imgBorder"]
   > ![Сообщение об ошибке при загрузке множества подписчиков](_img/assign-license-bulk/bulk-add-upload-failure.png "Это сообщение появляется, если переданный файл содержал ошибки.  Устраните ошибки и снова выполните процесс пакетного добавления.")

   При возникновении ошибки выполните следующие действия:
   1. Откройте созданный файл Excel, исправьте проблемы и сохраните файл.
   0. Вернитесь на портал администрирования и закройте сообщение об ошибке.
   0. Выберите **Добавить**.
   0. Выберите **Массовое добавление**.
   0. Поскольку файл Excel уже сохранен, загружать шаблон не нужно.  Нажмите кнопку **Обзор**, найдите только что сохраненный файл и нажмите **Открыть**.
   0. Щелкните **ОК**.


    Если отправка выполнена успешно, отображается список подписчиков и сообщение с подтверждением.
   > [!div class="mx-imgBorder"]
   > ![Сообщение с подтверждением загрузки множества подписчиков](_img/assign-license-bulk/bulk-add-upload-success.png "После успешного завершения отправки вы получите сообщение с подтверждением.")

## <a name="use-azure-active-directory-groups-to-assign-subscriptions"></a>Использование групп Azure Active Directory для назначения подписок 
С помощью этой функции можно легко контролировать назначение подписок. Чтобы гарантировать, что всем пользователям в группе будет назначена подписка, вы можете добавить группы безопасности Azure Active Directory на портале администрирования подписок. И, чтобы упростить работу, когда пользователи оставляют свою организацию и удаляются из Azure Active Directory, их доступ к подпискам также удаляется. 


> [!IMPORTANT]
>
> На использование групп Azure AD для добавления подписчиков распространяются следующие ограничения.
> - При первом добавлении группы на портал администрирования администратор должен быть членом клиента AAD.  После добавления группы для изменения членства в группах не требуется участие администратора. 
> - Группы должны содержать не менее одного члена.  Пустые группы не поддерживаются.
> - В группах должно быть менее 1000 пользователей. 
> - Все пользователи должны находиться в верхнем уровне группы.  Вложенные группы не поддерживаются.
> - Поддерживаются только доверенные соглашения. (Доверять только соглашениям, которые могут "избыточно распределить" подписки.)
> - Все участники группы должны иметь адрес электронной почты, связанный с их учетной записью Azure AD.
> - Отдельные адреса электронной почты для уведомлений не поддерживаются для подписок, добавленных с помощью групп AAD.  

Просмотрите это видео или прочтите статью, чтобы узнать больше о добавлении подписчиков с помощью функции групп Azure Active Directory. 
<br>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4rvvW]

1. Войдите на портал администрирования Подписок Visual Studio по адресу [https://manage.visualstudio.com](https://manage.visualstudio.com).

2. Чтобы добавить сразу несколько подписчиков, откройте вкладку **управления подписчиками**.

3. Выберите вкладку **Добавить**, а затем в раскрывающемся списке выберите группу **Azure Active Directory**.  

   > [!div class="mx-imgBorder"]
   > ![Выбор массового добавления, используя Azure AD](_img/assign-license-bulk/bulk-add-aad.png "Выберите функцию 'Пакетное добавление с помощью Azure AD', чтобы извлечь подписчиков из группы Azure Active Directory.")

4. Начните вводить имя группы AAD, которую вы хотите добавить в поле формы. При этом будет выполнен поиск доступных групп Azure AD в вашей организации. 

5. При выборе группы в поле автоматически заносится имя группы. Вы сможете просмотреть пользователей в этой группе до их добавления. Далее вы можете выбрать уровень подписки, права на загрузку и настройки общения для группы. При необходимости можно добавить сведения в ссылочное поле. 

   > [!div class="mx-imgBorder"]
   > ![Выбор группы Azure AD](_img/assign-license-bulk/bulk-add-aad-details.png "Выберите имя группы Azure AD, чтобы добавить подписчиков из этой группы.")

6. Нажмите кнопку **Добавить**, а затем нажмите **Подтвердить**. 

7. Чтобы увидеть добавленную группу, прокрутите список пользователей до нижней части списка.  

8. Выберите **Просмотреть подписчиков** для отображения членов группы. Вы можете просмотреть сведения о подписчиках в группе, но не имеете права вносить изменения для подписчиков или для назначенных им подписок.    

> [!NOTE]
> Если вы уже назначили отдельные подписки пользователям, которые впоследствии будут добавлены в группу Azure AD, они будут добавлены в группу и больше не будут указываться по отдельности. Однако если отдельная подписка предназначена для другого уровня подписки, у пользователя будет две подписки.  Пример.  Если у пользователя есть отдельная подписка Visual Studio Professional и он входит в группу, которой назначаются подписки Visual Studio Enterprise, у него будут обе эти подписки.  
>
> При удалении подписчика из группы Azure Active Directory, которой были назначены подписки, для обновления данных на портале администрирования может потребоваться до 24 часов. 


## <a name="frequently-asked-questions"></a>Вопросы и ответы
### <a name="q-can-i-choose-multiple-subscription-levels-to-be-assigned-within-an-azure-ad-group"></a>Вопрос: Можно ли выбрать несколько уровней подписки, которые будут назначены в группе Azure AD? 
Ответ. Нет. Все члены группы получают одну и ту же подписку. 

### <a name="q-can-i-edit-subscriber-details-of-individuals-added-in-an-azure-ad-group"></a>Вопрос: Можно ли изменить данные о подписчиках, добавленных в группу Azure AD?  
Ответ. Нет. Чтобы изменить данные для отдельного подписчика, необходимо удалить его из группы безопасности Azure AD и назначить для него отдельную подписку.  

### <a name="q-why-cant-i-see-the-option-to-use-azure-active-directory-groups-to-add-subscribers"></a>Вопрос: Почему не отображается параметр, который можно использовать для добавления подписчиков с помощью групп Azure Active Directory?
Ответ. Эта функция в настоящее время доступна только для организаций с доверенными соглашениями.  Нажмите кнопку **Сведения**, чтобы отобразить сведения о соглашении.

   > [!div class="mx-imgBorder"]
   > ![Нажмите кнопку "Сведения"](_img/assign-license-bulk/bulk-add-agreement.png "Нажмите кнопку "Сведения", чтобы узнать тип вашего соглашения")

### <a name="q-i-added-someone-to-my-azure-ad-security-group-but-i-dont-see-them-added-in-the-subscriptions-administration-portal-and-they-dont-have-a-subscription-why-not"></a>Вопрос: Я добавил одного участника в свою группу безопасности Azure AD, но не вижу его на портале администрирования подписок, и у него нет подписки. Причины.  
Ответ. В зависимости от того, как ваша организация настроила Azure AD, во время добавления пользователя вы можете столкнуться с задержками до 24 часов. Если это время превышает 24 часа, ознакомьтесь со статьей [Поддержка по администрированию и подпискам Visual Studio](https://my.visualstudio.com/gethelp).  

## <a name="see-also"></a>См. также
- [Документация по Visual Studio](/visualstudio/)
- [Документация по Azure DevOps](/azure/devops/)
- [Документация по Azure](/azure/)
- [Документация по Microsoft 365](/microsoft-365/)

## <a name="next-steps"></a>Следующие шаги
- У вас есть только один или два подписчика для добавления?  Ознакомьтесь с разделом [Добавление отдельных пользователей](assign-license.md)
- Нужна помощь? Обратитесь в [службу поддержки по администрированию и подпискам Visual Studio](https://visualstudio.microsoft.com/support/support-overview-vs).